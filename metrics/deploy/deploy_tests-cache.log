
          ===============================
          Deploy run: 1
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 332ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 889 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:11:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:12:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 13724  - [39m04/19/2023, 7:12:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +132ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.044 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.294 s)
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.986 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.612 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:12:29
frontend:test:    Duration  687ms (transform 89ms, setup 0ms, collect 52ms, tests 7ms, environment 0ms, prepare 191ms)
frontend:test: 
frontend:test: [14201:0419/191231.981255:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:14216) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:14216) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5859ms)
frontend:test:     ✓ should checkout and place an order (8003ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4082ms)
frontend:test:     ✓ should throw an error given invalid credentials (1874ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5408ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    57.168s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.92s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:11:51Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 80.02286820799998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 2
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 331ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 638 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:13:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:13:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:13:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 15196  - [39m04/19/2023, 7:13:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +114ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.091 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.241 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.869 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.486 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:13:44
frontend:test:    Duration  800ms (transform 100ms, setup 0ms, collect 63ms, tests 7ms, environment 0ms, prepare 185ms)
frontend:test: 
frontend:test: [15655:0419/191347.142796:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:15668) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:15668) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5755ms)
frontend:test:     ✓ should checkout and place an order (8806ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4102ms)
frontend:test:     ✓ should throw an error given invalid credentials (1930ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5229ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    55.108s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.714s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:13:11Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 74.83395283199998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 3
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 345ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 748 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:14:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:14:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:14:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +114ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16649  - [39m04/19/2023, 7:14:42 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +106ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.586 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.329 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.624 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.234 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:14:59
frontend:test:    Duration  716ms (transform 92ms, setup 0ms, collect 59ms, tests 8ms, environment 1ms, prepare 190ms)
frontend:test: 
frontend:test: [17105:0419/191502.004553:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:17118) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:17118) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6297ms)
frontend:test:     ✓ should checkout and place an order (8324ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4198ms)
frontend:test:     ✓ should throw an error given invalid credentials (1857ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5151ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:26        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    55.372s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.946s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:14:26Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 75.36426316199999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 4
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 318ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 693 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:15:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:15:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +98ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:15:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 18098  - [39m04/19/2023, 7:15:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +137ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (10.067 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.188 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.346 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.977 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:16:15
frontend:test:    Duration  795ms (transform 85ms, setup 0ms, collect 54ms, tests 7ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: [18556:0419/191618.567582:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:18571) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:18571) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5701ms)
frontend:test:     ✓ should checkout and place an order (7966ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3932ms)
frontend:test:     ✓ should throw an error given invalid credentials (1869ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5447ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    54.215s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.026s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:15:42Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 74.81348858699994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 5
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 388ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 704 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:17:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +48ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +118ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 19552  - [39m04/19/2023, 7:17:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +118ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.191 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.692 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.84 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.402 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:17:30
frontend:test:    Duration  782ms (transform 87ms, setup 0ms, collect 54ms, tests 6ms, environment 0ms, prepare 200ms)
frontend:test: 
frontend:test: [20011:0419/191732.591692:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:20026) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:20026) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6080ms)
frontend:test:     ✓ should checkout and place an order (8014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4071ms)
frontend:test:     ✓ should throw an error given invalid credentials (2010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5388ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    54.959s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.665s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:16:56Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 75.66537955099996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 6
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 303ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 808 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:18:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +108ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21003  - [39m04/19/2023, 7:18:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +96ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.054 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.086 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.411 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.926 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:18:45
frontend:test:    Duration  877ms (transform 115ms, setup 1ms, collect 76ms, tests 8ms, environment 0ms, prepare 201ms)
frontend:test: 
frontend:test: [21458:0419/191848.000962:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:21471) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:21471) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5954ms)
frontend:test:     ✓ should checkout and place an order (7883ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4104ms)
frontend:test:     ✓ should throw an error given invalid credentials (1841ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5226ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.864s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.949s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:18:12Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 74.44661553300008 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 7
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 341ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 771 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:19:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 22445  - [39m04/19/2023, 7:19:42 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +129ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.25 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.31 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.252 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.775 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:20:00
frontend:test:    Duration  909ms (transform 125ms, setup 0ms, collect 68ms, tests 7ms, environment 1ms, prepare 236ms)
frontend:test: 
frontend:test: [22901:0419/192003.722541:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:22916) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:22916) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5914ms)
frontend:test:     ✓ should checkout and place an order (8703ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4137ms)
frontend:test:     ✓ should throw an error given invalid credentials (1946ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5283ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:26        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    56.765s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m9.73s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:19:26Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 76.910039261 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 8
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 373ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 788 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:20:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:20:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 23892  - [39m04/19/2023, 7:20:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.896 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.931 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.54 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.223 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:21:17
frontend:test:    Duration  870ms (transform 112ms, setup 0ms, collect 55ms, tests 5ms, environment 0ms, prepare 217ms)
frontend:test: 
frontend:test: [24397:0419/192120.248301:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:24412) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:24412) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6498ms)
frontend:test:     ✓ should checkout and place an order (8351ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4411ms)
frontend:test:     ✓ should throw an error given invalid credentials (2030ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (7s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5808ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:27        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    57.726s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m10.488s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:20:43Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 77.96854910399998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 9
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 412ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 789 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:22:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:22:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:22:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +133ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25389  - [39m04/19/2023, 7:22:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +142ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.161 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.548 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.922 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.549 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:22:39
frontend:test:    Duration  894ms (transform 94ms, setup 0ms, collect 63ms, tests 7ms, environment 1ms, prepare 203ms)
frontend:test: 
frontend:test: [25844:0419/192241.962697:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:25859) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:25859) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5928ms)
frontend:test:     ✓ should checkout and place an order (8075ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4131ms)
frontend:test:     ✓ should throw an error given invalid credentials (1891ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5240ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    57.094s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.352s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:22:01Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 80.0391541230001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 10
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 351ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 724 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:23:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:23:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:23:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:23:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 26833  - [39m04/19/2023, 7:23:38 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +100ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.939 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.201 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.833 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.508 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:23:57
frontend:test:    Duration  928ms (transform 122ms, setup 1ms, collect 62ms, tests 6ms, environment 0ms, prepare 226ms)
frontend:test: 
frontend:test: [27288:0419/192400.059321:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:27303) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:27303) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6353ms)
frontend:test:     ✓ should checkout and place an order (8070ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4203ms)
frontend:test:     ✓ should throw an error given invalid credentials (2040ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5788ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:26        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    58.187s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.292s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:23:22Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 79.26507989499997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 11
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 370ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 754 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:24:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:24:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +120ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:24:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28281  - [39m04/19/2023, 7:24:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +139ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (10.917 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.998 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (14.574 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        15.216 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:25:17
frontend:test:    Duration  863ms (transform 133ms, setup 1ms, collect 66ms, tests 8ms, environment 0ms, prepare 256ms)
frontend:test: 
frontend:test: [28738:0419/192520.359076:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:28753) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:28753) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6188ms)
frontend:test:     ✓ should checkout and place an order (8828ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     15 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4359ms)
frontend:test:     ✓ should throw an error given invalid credentials (2143ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (7s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5785ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:15        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:27        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    59.699s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m13.315s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:24:41Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 81.36036525300005 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 12
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 380ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 769 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:26:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:26:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:26:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:26:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29733  - [39m04/19/2023, 7:26:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +130ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.314 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.729 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.912 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.658 s, estimated 15 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:26:38
frontend:test:    Duration  867ms (transform 86ms, setup 0ms, collect 55ms, tests 5ms, environment 0ms, prepare 185ms)
frontend:test: 
frontend:test: [30187:0419/192641.581942:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:30203) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:30203) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6245ms)
frontend:test:     ✓ should checkout and place an order (9192ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (16s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     15 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4208ms)
frontend:test:     ✓ should throw an error given invalid credentials (2113ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5414ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:15        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:27        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    58.489s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.782s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:26:02Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 80.519278406 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 13
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 349ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 800 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:27:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:27:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:27:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +104ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:27:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 31179  - [39m04/19/2023, 7:27:40 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +140ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.985 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.502 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.215 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.836 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:27:58
frontend:test:    Duration  858ms (transform 99ms, setup 0ms, collect 57ms, tests 8ms, environment 0ms, prepare 189ms)
frontend:test: 
frontend:test: [31640:0419/192801.238711:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:31653) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:31653) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6260ms)
frontend:test:     ✓ should checkout and place an order (8401ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (15s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4118ms)
frontend:test:     ✓ should throw an error given invalid credentials (1893ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5359ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:26        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    56.953s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.181s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:27:22Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 79.12758955599996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 14
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 332ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 777 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:28:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +108ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 32632  - [39m04/19/2023, 7:28:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.46 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.239 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.77 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.398 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:29:17
frontend:test:    Duration  834ms (transform 122ms, setup 1ms, collect 64ms, tests 8ms, environment 1ms, prepare 203ms)
frontend:test: 
frontend:test: [33090:0419/192920.030810:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:33105) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:33105) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5820ms)
frontend:test:     ✓ should checkout and place an order (8375ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4077ms)
frontend:test:     ✓ should throw an error given invalid credentials (2030ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5272ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    56.04s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m9.196s 

#1 [internal] load .dockerignore
#1 DONE 0.0s

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:28:42Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 77.113999756 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 15
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 440ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 878 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:30:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +44ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34078  - [39m04/19/2023, 7:30:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +117ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (10.035 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.148 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (14.337 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.998 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:30:37
frontend:test:    Duration  825ms (transform 95ms, setup 1ms, collect 55ms, tests 6ms, environment 0ms, prepare 180ms)
frontend:test: 
frontend:test: [34533:0419/193040.052787:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:34548) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:34548) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5710ms)
frontend:test:     ✓ should checkout and place an order (8017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4078ms)
frontend:test:     ✓ should throw an error given invalid credentials (1842ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5274ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    56.101s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m11.149s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:29:59Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 79.54799650600017 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 16
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 320ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 750 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:31:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +40ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:31:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 35526  - [39m04/19/2023, 7:31:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +116ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.811 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.253 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.507 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.096 s, estimated 15 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:31:52
frontend:test:    Duration  755ms (transform 117ms, setup 0ms, collect 59ms, tests 6ms, environment 0ms, prepare 222ms)
frontend:test: 
frontend:test: [35981:0419/193154.900332:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:35994) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:35994) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5912ms)
frontend:test:     ✓ should checkout and place an order (7975ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4040ms)
frontend:test:     ✓ should throw an error given invalid credentials (1775ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5308ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.795s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.617s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:31:19Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 74.43437432099995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 17
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 326ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 620 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:32:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:32:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +20ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +141ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:32:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 36967  - [39m04/19/2023, 7:32:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +132ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.392 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.477 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.056 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.59 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:33:05
frontend:test:    Duration  753ms (transform 112ms, setup 0ms, collect 53ms, tests 5ms, environment 0ms, prepare 203ms)
frontend:test: 
frontend:test: [37423:0419/193307.656923:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:37436) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:37436) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5560ms)
frontend:test:     ✓ should checkout and place an order (7482ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3743ms)
frontend:test:     ✓ should throw an error given invalid credentials (1806ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5169ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.494s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.599s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:32:33Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.65090105400002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 18
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 300ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 646 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:33:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:33:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +45ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +126ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:33:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 38412  - [39m04/19/2023, 7:33:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.859 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.13 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.357 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.936 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:34:16
frontend:test:    Duration  737ms (transform 87ms, setup 0ms, collect 55ms, tests 5ms, environment 0ms, prepare 162ms)
frontend:test: 
frontend:test: [38868:0419/193418.427954:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:38883) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:38883) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5372ms)
frontend:test:     ✓ should checkout and place an order (7721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3852ms)
frontend:test:     ✓ should throw an error given invalid credentials (1809ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5084ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.535s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.225s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:33:44Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.41350046799984 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 19
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 322ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 691 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:35:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:35:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:35:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 39864  - [39m04/19/2023, 7:35:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +108ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.778 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.802 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.92 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.498 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:35:27
frontend:test:    Duration  843ms (transform 101ms, setup 0ms, collect 60ms, tests 6ms, environment 1ms, prepare 179ms)
frontend:test: 
frontend:test: [40317:0419/193530.494688:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:40335) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:40335) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5451ms)
frontend:test:     ✓ should checkout and place an order (7667ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3932ms)
frontend:test:     ✓ should throw an error given invalid credentials (1731ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5005ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.771s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.981s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:34:55Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.09215943700005 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 20
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 342ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 730 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:36:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:36:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:36:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +109ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 41305  - [39m04/19/2023, 7:36:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +120ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.28 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.617 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.277 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.835 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:36:39
frontend:test:    Duration  818ms (transform 93ms, setup 0ms, collect 55ms, tests 6ms, environment 0ms, prepare 177ms)
frontend:test: 
frontend:test: [41761:0419/193641.759911:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:41776) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:41776) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5339ms)
frontend:test:     ✓ should checkout and place an order (7576ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4046ms)
frontend:test:     ✓ should throw an error given invalid credentials (1780ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4906ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.642s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.763s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:36:07Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.0690584590002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 21
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 302ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 684 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:37:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:37:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:37:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +101ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:37:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 42746  - [39m04/19/2023, 7:37:33 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.696 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.948 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.813 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.394 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:37:49
frontend:test:    Duration  772ms (transform 97ms, setup 1ms, collect 59ms, tests 5ms, environment 0ms, prepare 185ms)
frontend:test: 
frontend:test: [43202:0419/193752.392727:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:43217) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:43217) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5576ms)
frontend:test:     ✓ should checkout and place an order (7970ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3955ms)
frontend:test:     ✓ should throw an error given invalid credentials (1766ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4885ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.257s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.632s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:37:18Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.13047672699997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 22
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 317ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 684 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:38:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:38:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:38:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 44186  - [39m04/19/2023, 7:38:44 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +99ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.506 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.615 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.798 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.354 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:39:00
frontend:test:    Duration  824ms (transform 150ms, setup 1ms, collect 97ms, tests 6ms, environment 0ms, prepare 223ms)
frontend:test: 
frontend:test: [44644:0419/193903.138672:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:44659) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:44659) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5577ms)
frontend:test:     ✓ should checkout and place an order (7588ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3743ms)
frontend:test:     ✓ should throw an error given invalid credentials (1822ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5170ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.058s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.373s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:38:29Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.38339320500009 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 23
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 623 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:39:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +30ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +94ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:39:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 45629  - [39m04/19/2023, 7:39:54 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.092 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.511 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.39 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.91 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:40:12
frontend:test:    Duration  814ms (transform 91ms, setup 0ms, collect 59ms, tests 5ms, environment 0ms, prepare 184ms)
frontend:test: 
frontend:test: [46089:0419/194014.774588:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:46102) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:46102) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5492ms)
frontend:test:     ✓ should checkout and place an order (7749ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3928ms)
frontend:test:     ✓ should throw an error given invalid credentials (1691ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5018ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.325s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.943s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:39:39Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.38915240000001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 24
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 306ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 749 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:40:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:41:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +47ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:41:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 47067  - [39m04/19/2023, 7:41:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +107ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.356 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.381 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.411 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.993 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:41:24
frontend:test:    Duration  747ms (transform 90ms, setup 0ms, collect 49ms, tests 6ms, environment 0ms, prepare 178ms)
frontend:test: 
frontend:test: [47520:0419/194127.081481:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:47533) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:47533) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5470ms)
frontend:test:     ✓ should checkout and place an order (7832ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3820ms)
frontend:test:     ✓ should throw an error given invalid credentials (1815ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5083ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.731s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.365s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:40:52Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.70423459399957 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 25
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 277ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 656 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:42:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:42:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 48507  - [39m04/19/2023, 7:42:19 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +142ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.743 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.887 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.101 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.725 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:42:35
frontend:test:    Duration  709ms (transform 112ms, setup 0ms, collect 76ms, tests 5ms, environment 0ms, prepare 188ms)
frontend:test: 
frontend:test: [48960:0419/194237.960454:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:48975) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:48975) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5559ms)
frontend:test:     ✓ should checkout and place an order (7642ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4011ms)
frontend:test:     ✓ should throw an error given invalid credentials (1845ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5192ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.854s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.57s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:42:04Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.60413557699975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 26
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 301ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 618 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:43:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:29 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:43:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 49935  - [39m04/19/2023, 7:43:30 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +98ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.043 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.314 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.539 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.055 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:43:46
frontend:test:    Duration  758ms (transform 83ms, setup 0ms, collect 47ms, tests 5ms, environment 0ms, prepare 165ms)
frontend:test: 
frontend:test: [50392:0419/194349.138619:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:50407) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:50407) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5357ms)
frontend:test:     ✓ should checkout and place an order (8186ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3884ms)
frontend:test:     ✓ should throw an error given invalid credentials (1753ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4970ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.896s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.435s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:43:15Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.59419948199996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 27
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 330ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 732 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:44:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:44:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:44:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 51380  - [39m04/19/2023, 7:44:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +101ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.495 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.727 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.144 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.645 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:44:57
frontend:test:    Duration  780ms (transform 82ms, setup 0ms, collect 49ms, tests 7ms, environment 0ms, prepare 158ms)
frontend:test: 
frontend:test: [51833:0419/194500.228444:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:51848) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:51848) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5965ms)
frontend:test:     ✓ should checkout and place an order (7610ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3851ms)
frontend:test:     ✓ should throw an error given invalid credentials (1720ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5150ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.547s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.454s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:44:26Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.81909651999968 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 28
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 348ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 620 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:45:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:45:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 52805  - [39m04/19/2023, 7:45:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +113ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.622 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.188 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.759 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.375 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:46:09
frontend:test:    Duration  764ms (transform 108ms, setup 0ms, collect 49ms, tests 7ms, environment 0ms, prepare 189ms)
frontend:test: 
frontend:test: [53259:0419/194612.450737:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:53272) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:53272) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5618ms)
frontend:test:     ✓ should checkout and place an order (7818ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3968ms)
frontend:test:     ✓ should throw an error given invalid credentials (1842ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5152ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.733s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.427s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:45:38Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.77175112099968 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 29
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 379ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 727 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:47:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:47:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 54249  - [39m04/19/2023, 7:47:06 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +133ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.624 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.635 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.255 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.817 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:47:22
frontend:test:    Duration  860ms (transform 93ms, setup 0ms, collect 60ms, tests 7ms, environment 0ms, prepare 201ms)
frontend:test: 
frontend:test: [54704:0419/194725.401022:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:54719) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:54719) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5540ms)
frontend:test:     ✓ should checkout and place an order (7934ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3858ms)
frontend:test:     ✓ should throw an error given invalid credentials (1847ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4967ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.314s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.567s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:46:49Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.46358913199975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 30
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 280ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 605 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:48:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +99ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 55692  - [39m04/19/2023, 7:48:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +126ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.736 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.167 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.254 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.768 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:48:35
frontend:test:    Duration  843ms (transform 92ms, setup 0ms, collect 56ms, tests 6ms, environment 0ms, prepare 178ms)
frontend:test: 
frontend:test: [56146:0419/194838.048015:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:56160) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:56160) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5333ms)
frontend:test:     ✓ should checkout and place an order (7929ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4103ms)
frontend:test:     ✓ should throw an error given invalid credentials (1852ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5107ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.648s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.893s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:48:03Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.43588032699935 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 31
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 306ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 696 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:49:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +103ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 57131  - [39m04/19/2023, 7:49:31 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +111ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.706 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.934 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.53 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.12 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:49:47
frontend:test:    Duration  726ms (transform 98ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 174ms)
frontend:test: 
frontend:test: [57586:0419/194950.197673:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:57599) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:57599) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5456ms)
frontend:test:     ✓ should checkout and place an order (8599ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4115ms)
frontend:test:     ✓ should throw an error given invalid credentials (1804ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5233ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.505s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.076s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:49:15Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.07129598199948 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 32
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 358ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 668 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:50:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:50:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +118ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 58567  - [39m04/19/2023, 7:50:44 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +97ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.507 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.787 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.846 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.348 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:50:59
frontend:test:    Duration  804ms (transform 104ms, setup 0ms, collect 63ms, tests 7ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: [59020:0419/195102.602619:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:59035) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:59035) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5373ms)
frontend:test:     ✓ should checkout and place an order (7934ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4118ms)
frontend:test:     ✓ should throw an error given invalid credentials (1725ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4986ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.726s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.801s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:50:28Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.0637656220002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 33
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 306ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 655 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +120ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:51:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 60011  - [39m04/19/2023, 7:51:55 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +106ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.375 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.694 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.006 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.511 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:52:12
frontend:test:    Duration  809ms (transform 93ms, setup 1ms, collect 60ms, tests 5ms, environment 0ms, prepare 175ms)
frontend:test: 
frontend:test: [60463:0419/195214.844759:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:60478) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:60478) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5600ms)
frontend:test:     ✓ should checkout and place an order (8101ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3963ms)
frontend:test:     ✓ should throw an error given invalid credentials (1758ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4982ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.921s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.24s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:51:39Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.7599053690005 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 34
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 352ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 687 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:53:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +104ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:53:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 61449  - [39m04/19/2023, 7:53:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +121ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.917 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.952 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.245 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.803 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:53:24
frontend:test:    Duration  756ms (transform 97ms, setup 0ms, collect 51ms, tests 5ms, environment 0ms, prepare 184ms)
frontend:test: 
frontend:test: [61902:0419/195326.614963:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:61917) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:61917) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5464ms)
frontend:test:     ✓ should checkout and place an order (8021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3811ms)
frontend:test:     ✓ should throw an error given invalid credentials (1723ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4788ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.393s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.342s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:52:52Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.62659942500014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 35
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 311ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 653 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:54:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:54:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +113ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 62886  - [39m04/19/2023, 7:54:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +99ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.574 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.837 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.099 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.611 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:54:33
frontend:test:    Duration  737ms (transform 87ms, setup 0ms, collect 58ms, tests 5ms, environment 0ms, prepare 158ms)
frontend:test: 
frontend:test: [63335:0419/195436.328652:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:63351) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:63351) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5444ms)
frontend:test:     ✓ should checkout and place an order (7692ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3796ms)
frontend:test:     ✓ should throw an error given invalid credentials (1725ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5196ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.137s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.528s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:54:03Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 69.82811706099939 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 36
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 315ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 671 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:55:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 7:55:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:55:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 64317  - [39m04/19/2023, 7:55:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.518 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.671 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.015 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.637 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:55:44
frontend:test:    Duration  720ms (transform 87ms, setup 0ms, collect 55ms, tests 5ms, environment 0ms, prepare 167ms)
frontend:test: 
frontend:test: [64777:0419/195546.666732:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:64790) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:64790) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5586ms)
frontend:test:     ✓ should checkout and place an order (7836ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3911ms)
frontend:test:     ✓ should throw an error given invalid credentials (1746ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5044ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.444s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.415s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:55:13Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.5569036910003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 37
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 330ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 737 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:56:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:56:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:56:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +126ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 65754  - [39m04/19/2023, 7:56:38 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.49 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.805 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.368 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        11.882 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:56:53
frontend:test:    Duration  696ms (transform 80ms, setup 0ms, collect 49ms, tests 7ms, environment 0ms, prepare 160ms)
frontend:test: 
frontend:test: [66211:0419/195656.145925:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:66224) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:66224) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5646ms)
frontend:test:     ✓ should checkout and place an order (7693ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3784ms)
frontend:test:     ✓ should throw an error given invalid credentials (1768ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5083ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.626s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.283s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:56:23Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 69.82039539799932 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 38
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 322ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 701 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:57:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +103ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 7:57:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 67189  - [39m04/19/2023, 7:57:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +143ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.061 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.498 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.768 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.276 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:58:04
frontend:test:    Duration  782ms (transform 96ms, setup 0ms, collect 58ms, tests 6ms, environment 1ms, prepare 200ms)
frontend:test: 
frontend:test: [67642:0419/195807.195456:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:67655) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:67655) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5413ms)
frontend:test:     ✓ should checkout and place an order (7572ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3763ms)
frontend:test:     ✓ should throw an error given invalid credentials (1741ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5114ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.803s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.075s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:57:33Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.32269740599952 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 39
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 684 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 7:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 7:58:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 7:58:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +117ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 68622  - [39m04/19/2023, 7:58:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +120ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.167 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.419 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.453 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.015 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  19:59:14
frontend:test:    Duration  740ms (transform 91ms, setup 0ms, collect 53ms, tests 6ms, environment 0ms, prepare 188ms)
frontend:test: 
frontend:test: [69076:0419/195917.182245:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:69089) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:69089) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5655ms)
frontend:test:     ✓ should checkout and place an order (7766ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3793ms)
frontend:test:     ✓ should throw an error given invalid credentials (1780ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4969ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.693s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.135s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:58:43Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.29603107700031 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 40
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 286ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 661 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:00:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 70048  - [39m04/19/2023, 8:00:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +112ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.577 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.693 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.966 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.603 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:00:27
frontend:test:    Duration  738ms (transform 109ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 186ms)
frontend:test: 
frontend:test: [70503:0419/200030.434483:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:70516) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:70516) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5738ms)
frontend:test:     ✓ should checkout and place an order (7860ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3830ms)
frontend:test:     ✓ should throw an error given invalid credentials (1789ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5341ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.733s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.03s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T19:59:53Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.99173519099969 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 41
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 382ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 726 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +40ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +117ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 71479  - [39m04/19/2023, 8:01:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +133ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.522 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.742 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.203 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.794 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:01:41
frontend:test:    Duration  800ms (transform 107ms, setup 0ms, collect 60ms, tests 6ms, environment 0ms, prepare 184ms)
frontend:test: 
frontend:test: [71931:0419/200144.278702:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:71944) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:71944) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6039ms)
frontend:test:     ✓ should checkout and place an order (8048ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4286ms)
frontend:test:     ✓ should throw an error given invalid credentials (1895ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5098ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    55.055s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.566s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:01:08Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 75.51889783900045 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 42
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 309ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 639 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:02:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +43ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:02:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +126ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 72917  - [39m04/19/2023, 8:02:39 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.422 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.955 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.621 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.201 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:02:56
frontend:test:    Duration  780ms (transform 91ms, setup 0ms, collect 52ms, tests 5ms, environment 0ms, prepare 173ms)
frontend:test: 
frontend:test: [73369:0419/200259.301754:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:73382) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:73382) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5868ms)
frontend:test:     ✓ should checkout and place an order (7734ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1805ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5253ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.861s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.297s 

#1 [internal] load build definition from Dockerfile
#1 DONE 0.0s

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:02:23Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 74.02300726000033 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 43
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 339ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 802 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:03:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:03:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 74352  - [39m04/19/2023, 8:03:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +96ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.528 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.546 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.711 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.324 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:04:12
frontend:test:    Duration  798ms (transform 111ms, setup 0ms, collect 64ms, tests 6ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: [74807:0419/200414.842632:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:74822) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:74822) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5704ms)
frontend:test:     ✓ should checkout and place an order (8369ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3995ms)
frontend:test:     ✓ should throw an error given invalid credentials (1805ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5297ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    55.704s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m8.45s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:03:37Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 76.1006438790001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 44
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 344ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 764 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:05:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:05:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:05:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:05:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 75789  - [39m04/19/2023, 8:05:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +128ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.316 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.689 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.814 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.458 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:05:28
frontend:test:    Duration  837ms (transform 97ms, setup 0ms, collect 59ms, tests 7ms, environment 0ms, prepare 204ms)
frontend:test: 
frontend:test: [76244:0419/200531.505875:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:76259) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:76259) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5770ms)
frontend:test:     ✓ should checkout and place an order (8085ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3835ms)
frontend:test:     ✓ should throw an error given invalid credentials (1766ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5636ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    54.197s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m8.386s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:04:53Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 76.31748881300074 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 45
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 318ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 765 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:06:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:06:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:06:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +111ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 77231  - [39m04/19/2023, 8:06:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +114ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.115 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.172 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.74 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.302 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:06:42
frontend:test:    Duration  804ms (transform 98ms, setup 0ms, collect 52ms, tests 7ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: [77686:0419/200645.114342:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:77699) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:77699) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5922ms)
frontend:test:     ✓ should checkout and place an order (8257ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4106ms)
frontend:test:     ✓ should throw an error given invalid credentials (1910ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4968ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    54.086s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.441s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:06:09Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.93976409799978 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 46
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 332ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 865 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:07:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:07:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:07:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:07:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 78675  - [39m04/19/2023, 8:07:40 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +130ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.67 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.946 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.932 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.484 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:07:56
frontend:test:    Duration  827ms (transform 96ms, setup 0ms, collect 60ms, tests 6ms, environment 0ms, prepare 195ms)
frontend:test: 
frontend:test: [79129:0419/200758.917813:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:79142) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:79142) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5981ms)
frontend:test:     ✓ should checkout and place an order (7823ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3892ms)
frontend:test:     ✓ should throw an error given invalid credentials (1856ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5094ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.879s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.801s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:07:23Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.54707244400028 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 47
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 311ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 706 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:08:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:08:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:08:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +118ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:08:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 80104  - [39m04/19/2023, 8:08:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.12 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.533 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.552 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.127 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:09:10
frontend:test:    Duration  741ms (transform 110ms, setup 0ms, collect 55ms, tests 5ms, environment 1ms, prepare 215ms)
frontend:test: 
frontend:test: [80555:0419/200912.455208:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:80570) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:80570) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5536ms)
frontend:test:     ✓ should checkout and place an order (7942ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3850ms)
frontend:test:     ✓ should throw an error given invalid credentials (1782ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5018ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.205s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.472s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:08:37Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.00282676899992 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 48
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 320ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 615 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:09:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:09:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:10:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:10:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +109ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 81542  - [39m04/19/2023, 8:10:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.741 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.954 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.064 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.699 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:10:22
frontend:test:    Duration  830ms (transform 106ms, setup 0ms, collect 65ms, tests 5ms, environment 0ms, prepare 192ms)
frontend:test: 
frontend:test: [81996:0419/201025.400166:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:82011) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:82011) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5741ms)
frontend:test:     ✓ should checkout and place an order (7909ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3796ms)
frontend:test:     ✓ should throw an error given invalid credentials (1778ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5248ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.952s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.421s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:09:49Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.89093253299967 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 49
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 338ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 663 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:11:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:11:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:18 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:11:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 82974  - [39m04/19/2023, 8:11:19 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.944 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.486 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.569 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.156 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:11:36
frontend:test:    Duration  783ms (transform 106ms, setup 0ms, collect 60ms, tests 6ms, environment 0ms, prepare 184ms)
frontend:test: 
frontend:test: [83426:0419/201138.690507:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:83441) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:83441) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5750ms)
frontend:test:     ✓ should checkout and place an order (7882ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4010ms)
frontend:test:     ✓ should throw an error given invalid credentials (1954ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5077ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.629s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.174s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:11:03Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.91672946900036 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 50
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 338ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 679 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:12:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:12:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:12:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 84411  - [39m04/19/2023, 8:12:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +130ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.985 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.11 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.255 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.859 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:12:49
frontend:test:    Duration  771ms (transform 90ms, setup 0ms, collect 57ms, tests 6ms, environment 1ms, prepare 190ms)
frontend:test: 
frontend:test: [84865:0419/201251.797008:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:84880) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:84880) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5684ms)
frontend:test:     ✓ should checkout and place an order (7814ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3755ms)
frontend:test:     ✓ should throw an error given invalid credentials (1793ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5029ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.271s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.422s 

#1 [internal] load build definition from Dockerfile
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:12:17Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.84935572499968 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 51
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 310ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 645 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:13:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:13:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +103ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 85842  - [39m04/19/2023, 8:13:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +112ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.558 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.575 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.041 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.594 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:14:01
frontend:test:    Duration  788ms (transform 115ms, setup 0ms, collect 61ms, tests 6ms, environment 0ms, prepare 211ms)
frontend:test: 
frontend:test: [86294:0419/201404.153176:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:86309) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:86309) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5493ms)
frontend:test:     ✓ should checkout and place an order (7663ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3926ms)
frontend:test:     ✓ should throw an error given invalid credentials (1785ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4957ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.956s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.622s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:13:29Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.05237308099959 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 52
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 305ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 619 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:14:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +101ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 87275  - [39m04/19/2023, 8:14:56 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +108ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.67 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.383 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.202 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.719 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:15:13
frontend:test:    Duration  779ms (transform 137ms, setup 0ms, collect 64ms, tests 6ms, environment 0ms, prepare 222ms)
frontend:test: 
frontend:test: [87728:0419/201516.295996:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:87743) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:87743) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5562ms)
frontend:test:     ✓ should checkout and place an order (7612ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3917ms)
frontend:test:     ✓ should throw an error given invalid credentials (1725ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4952ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.853s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.045s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:14:41Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.21398809099942 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 53
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 341ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 714 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:15:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:16:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +95ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:16:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 88717  - [39m04/19/2023, 8:16:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.605 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.65 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.236 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.785 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:16:25
frontend:test:    Duration  737ms (transform 93ms, setup 0ms, collect 58ms, tests 5ms, environment 0ms, prepare 194ms)
frontend:test: 
frontend:test: [89170:0419/201627.738453:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:89185) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:89185) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5495ms)
frontend:test:     ✓ should checkout and place an order (7645ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3935ms)
frontend:test:     ✓ should throw an error given invalid credentials (1954ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5118ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.381s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.768s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:15:53Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.30136566600017 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 54
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 322ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 810 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:17:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:17:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +108ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:17:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 90160  - [39m04/19/2023, 8:17:21 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +116ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.494 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.665 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.817 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.333 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:17:37
frontend:test:    Duration  829ms (transform 86ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 194ms)
frontend:test: 
frontend:test: [90614:0419/201740.233306:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:90629) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:90629) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5595ms)
frontend:test:     ✓ should checkout and place an order (7643ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3993ms)
frontend:test:     ✓ should throw an error given invalid credentials (1926ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5147ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.824s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.222s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:17:05Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.80314291999954 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 55
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 373ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 683 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:18:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:18:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +126ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:18:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 91599  - [39m04/19/2023, 8:18:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +133ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.466 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.811 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.99 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:18:49
frontend:test:    Duration  756ms (transform 92ms, setup 0ms, collect 52ms, tests 7ms, environment 0ms, prepare 183ms)
frontend:test: 
frontend:test: [92053:0419/201851.683034:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:92068) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:92068) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5574ms)
frontend:test:     ✓ should checkout and place an order (7830ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4042ms)
frontend:test:     ✓ should throw an error given invalid credentials (1787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4887ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.706s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.028s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:18:17Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.35103863100056 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 56
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 325ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 671 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:19:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:19:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +104ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 93036  - [39m04/19/2023, 8:19:44 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +116ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.73 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.165 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.829 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.451 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 9ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:20:01
frontend:test:    Duration  1.07s (transform 145ms, setup 0ms, collect 73ms, tests 9ms, environment 1ms, prepare 317ms)
frontend:test: 
frontend:test: [93537:0419/202004.368062:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:93552) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:93552) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5865ms)
frontend:test:     ✓ should checkout and place an order (7862ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3819ms)
frontend:test:     ✓ should throw an error given invalid credentials (1745ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5033ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.658s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.16s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:19:28Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.61719829200023 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 57
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 340ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 693 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:20:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +131ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:20:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 94518  - [39m04/19/2023, 8:20:57 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +107ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.719 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.825 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.164 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.707 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:21:14
frontend:test:    Duration  712ms (transform 92ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 174ms)
frontend:test: 
frontend:test: [94977:0419/202116.718360:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:94992) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:94992) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5344ms)
frontend:test:     ✓ should checkout and place an order (7494ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3942ms)
frontend:test:     ✓ should throw an error given invalid credentials (1758ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4927ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.979s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.035s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:20:42Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.79088224500045 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 58
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 345ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 658 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:21:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:22:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:22:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 95959  - [39m04/19/2023, 8:22:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +117ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.83 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.898 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.32 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.844 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:22:25
frontend:test:    Duration  759ms (transform 87ms, setup 0ms, collect 49ms, tests 5ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: [96413:0419/202227.878235:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:96428) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:96428) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5320ms)
frontend:test:     ✓ should checkout and place an order (7954ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3803ms)
frontend:test:     ✓ should throw an error given invalid credentials (1739ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4959ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.583s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.057s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:21:53Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.36481329299976 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 59
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 303ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 661 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:23:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:23:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +115ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:23:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 97392  - [39m04/19/2023, 8:23:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +107ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.693 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.833 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.943 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.622 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:23:36
frontend:test:    Duration  786ms (transform 122ms, setup 0ms, collect 60ms, tests 5ms, environment 0ms, prepare 210ms)
frontend:test: 
frontend:test: [97847:0419/202338.773372:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:97862) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:97862) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5280ms)
frontend:test:     ✓ should checkout and place an order (7656ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3791ms)
frontend:test:     ✓ should throw an error given invalid credentials (1817ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4954ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.117s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.404s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:23:04Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.85518493899983 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 60
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 328ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 671 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:24:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:24:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:24:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +55ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +112ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:24:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 98832  - [39m04/19/2023, 8:24:30 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +113ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.319 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.537 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.947 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.492 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:24:46
frontend:test:    Duration  799ms (transform 116ms, setup 1ms, collect 58ms, tests 6ms, environment 0ms, prepare 233ms)
frontend:test: 
frontend:test: [99289:0419/202449.077623:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:99302) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:99302) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5153ms)
frontend:test:     ✓ should checkout and place an order (7852ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4018ms)
frontend:test:     ✓ should throw an error given invalid credentials (1833ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5046ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.33s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.256s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:24:15Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.39455312800035 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 61
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 371ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 672 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:25:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:25:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:25:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:25:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 100272  - [39m04/19/2023, 8:25:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +114ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.348 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.557 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.477 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        11.977 s, estimated 12 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:25:57
frontend:test:    Duration  902ms (transform 198ms, setup 0ms, collect 71ms, tests 7ms, environment 1ms, prepare 298ms)
frontend:test: 
frontend:test: [100728:0419/202559.771217:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:100743) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:100743) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5848ms)
frontend:test:     ✓ should checkout and place an order (7811ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3929ms)
frontend:test:     ✓ should throw an error given invalid credentials (1691ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4982ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.232s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.716s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:25:25Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.36143978899997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 62
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 296ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 692 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:26:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:26:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:26:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 101716  - [39m04/19/2023, 8:26:52 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.655 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.012 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.422 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.952 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:27:08
frontend:test:    Duration  779ms (transform 88ms, setup 0ms, collect 55ms, tests 6ms, environment 0ms, prepare 164ms)
frontend:test: 
frontend:test: [102170:0419/202711.057385:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:102185) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:102185) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5322ms)
frontend:test:     ✓ should checkout and place an order (7573ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3682ms)
frontend:test:     ✓ should throw an error given invalid credentials (1734ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5033ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.257s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.931s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:26:37Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.15081524599995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 63
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 316ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 727 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:27:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:27:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:28:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +42ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:28:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +129ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:28:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 103154  - [39m04/19/2023, 8:28:02 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +116ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.445 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.223 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.461 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.068 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:28:19
frontend:test:    Duration  742ms (transform 94ms, setup 0ms, collect 55ms, tests 5ms, environment 0ms, prepare 174ms)
frontend:test: 
frontend:test: [103611:0419/202821.526522:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:103626) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:103626) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5399ms)
frontend:test:     ✓ should checkout and place an order (7918ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3878ms)
frontend:test:     ✓ should throw an error given invalid credentials (1751ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4877ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.647s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.527s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:27:47Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.64580771000031 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 64
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 327ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 639 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:29:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:29:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:29:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:29:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 104593  - [39m04/19/2023, 8:29:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +109ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.433 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.751 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.052 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.557 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:29:29
frontend:test:    Duration  702ms (transform 111ms, setup 0ms, collect 55ms, tests 6ms, environment 0ms, prepare 196ms)
frontend:test: 
frontend:test: [105051:0419/202931.692563:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:105064) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:105064) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5549ms)
frontend:test:     ✓ should checkout and place an order (7972ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3818ms)
frontend:test:     ✓ should throw an error given invalid credentials (1712ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5188ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.323s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.444s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:28:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.90773886699975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 65
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 336ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 645 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:30:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:30:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:30:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 106043  - [39m04/19/2023, 8:30:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +112ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.661 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.998 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.265 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.795 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:30:40
frontend:test:    Duration  810ms (transform 129ms, setup 0ms, collect 55ms, tests 5ms, environment 1ms, prepare 238ms)
frontend:test: 
frontend:test: [106499:0419/203043.225629:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:106512) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:106512) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5421ms)
frontend:test:     ✓ should checkout and place an order (7664ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3818ms)
frontend:test:     ✓ should throw an error given invalid credentials (1802ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4867ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.05s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.991s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:30:09Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.91655323400069 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 66
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 286ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 667 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +50ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:31:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 107483  - [39m04/19/2023, 8:31:34 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +101ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.676 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.841 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.096 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.658 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:31:50
frontend:test:    Duration  779ms (transform 90ms, setup 0ms, collect 56ms, tests 6ms, environment 0ms, prepare 200ms)
frontend:test: 
frontend:test: [107942:0419/203153.547805:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:107955) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:107955) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5875ms)
frontend:test:     ✓ should checkout and place an order (7933ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3794ms)
frontend:test:     ✓ should throw an error given invalid credentials (1793ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5054ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.288s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.999s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:31:19Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.21734371799975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 67
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 693 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:32:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:32:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:32:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 108930  - [39m04/19/2023, 8:32:46 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +108ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.309 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.333 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.649 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.174 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:33:01
frontend:test:    Duration  820ms (transform 107ms, setup 1ms, collect 68ms, tests 6ms, environment 0ms, prepare 203ms)
frontend:test: 
frontend:test: [109390:0419/203304.636461:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:109403) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:109403) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5617ms)
frontend:test:     ✓ should checkout and place an order (7563ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3757ms)
frontend:test:     ✓ should throw an error given invalid credentials (1626ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5009ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.011s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:32:30Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.18715098999999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 68
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 281ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 702 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:33:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +40ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +2ms[39m
frontend:dev:test: 8:33:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:33:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 110377  - [39m04/19/2023, 8:33:56 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.741 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.972 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.407 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.93 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:34:12
frontend:test:    Duration  765ms (transform 102ms, setup 0ms, collect 51ms, tests 6ms, environment 0ms, prepare 191ms)
frontend:test: 
frontend:test: [110834:0419/203415.195442:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:110849) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:110849) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5329ms)
frontend:test:     ✓ should checkout and place an order (7603ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3862ms)
frontend:test:     ✓ should throw an error given invalid credentials (1830ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4965ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.664s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.575s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:33:41Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.64533517500013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 69
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 312ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 776 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:34:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:34:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:35:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 111825  - [39m04/19/2023, 8:35:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.377 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.696 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.7 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.299 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:35:23
frontend:test:    Duration  770ms (transform 106ms, setup 0ms, collect 61ms, tests 6ms, environment 0ms, prepare 200ms)
frontend:test: 
frontend:test: [112281:0419/203526.235858:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:112294) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:112294) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5478ms)
frontend:test:     ✓ should checkout and place an order (7936ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3871ms)
frontend:test:     ✓ should throw an error given invalid credentials (1752ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4945ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.18s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.07s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:34:51Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.53802248100006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 70
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 653 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:36:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:36:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +96ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 113276  - [39m04/19/2023, 8:36:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +98ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.613 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.807 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.916 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.486 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:36:34
frontend:test:    Duration  771ms (transform 88ms, setup 0ms, collect 53ms, tests 5ms, environment 0ms, prepare 164ms)
frontend:test: 
frontend:test: [113734:0419/203637.052687:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:113750) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:113750) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5314ms)
frontend:test:     ✓ should checkout and place an order (7560ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3745ms)
frontend:test:     ✓ should throw an error given invalid credentials (1819ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4939ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.578s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.088s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:36:03Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 69.83012844699994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 71
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 309ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 677 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:37:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:37:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:37:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +120ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 114723  - [39m04/19/2023, 8:37:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +98ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.48 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.891 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.323 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.848 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:37:44
frontend:test:    Duration  756ms (transform 93ms, setup 0ms, collect 60ms, tests 5ms, environment 0ms, prepare 183ms)
frontend:test: 
frontend:test: [115183:0419/203747.199505:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:115196) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:115196) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5714ms)
frontend:test:     ✓ should checkout and place an order (8067ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3948ms)
frontend:test:     ✓ should throw an error given invalid credentials (1818ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5064ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.445s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.167s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:37:13Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.5410515359994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 72
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 292ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 642 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:38:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:38:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 116184  - [39m04/19/2023, 8:38:39 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +117ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.569 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.241 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.08 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.734 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:38:56
frontend:test:    Duration  815ms (transform 93ms, setup 0ms, collect 60ms, tests 5ms, environment 1ms, prepare 180ms)
frontend:test: 
frontend:test: [116641:0419/203858.773481:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:116663) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:116663) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5510ms)
frontend:test:     ✓ should checkout and place an order (7508ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3775ms)
frontend:test:     ✓ should throw an error given invalid credentials (1819ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5038ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.514s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.512s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:38:24Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.7028269750001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 73
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 298ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 618 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:39:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:39:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +100ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 117628  - [39m04/19/2023, 8:39:50 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +111ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.285 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.906 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.995 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.503 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:40:06
frontend:test:    Duration  912ms (transform 123ms, setup 1ms, collect 58ms, tests 7ms, environment 0ms, prepare 222ms)
frontend:test: 
frontend:test: [118091:0419/204009.611715:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:118104) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:118104) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5583ms)
frontend:test:     ✓ should checkout and place an order (7741ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3868ms)
frontend:test:     ✓ should throw an error given invalid credentials (1765ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5072ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.097s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.008s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:39:35Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.50995173500013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 74
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 313ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 683 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:40:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:40:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:41:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +42ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:41:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +135ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 119087  - [39m04/19/2023, 8:41:02 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +111ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.59 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.631 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.821 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.368 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:41:18
frontend:test:    Duration  750ms (transform 104ms, setup 0ms, collect 55ms, tests 6ms, environment 0ms, prepare 187ms)
frontend:test: 
frontend:test: [119547:0419/204120.740170:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:119562) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:119562) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5301ms)
frontend:test:     ✓ should checkout and place an order (7715ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3864ms)
frontend:test:     ✓ should throw an error given invalid credentials (1821ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4841ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.946s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.126s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:40:46Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.16521752300021 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 75
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 335ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 717 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:42:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:42:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +118ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 120534  - [39m04/19/2023, 8:42:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +109ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.129 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.217 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.312 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        11.825 s, estimated 12 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:42:28
frontend:test:    Duration  740ms (transform 89ms, setup 0ms, collect 53ms, tests 7ms, environment 1ms, prepare 180ms)
frontend:test: 
frontend:test: [120994:0419/204230.522412:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:121010) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:121010) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5414ms)
frontend:test:     ✓ should checkout and place an order (7757ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4073ms)
frontend:test:     ✓ should throw an error given invalid credentials (1728ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5030ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.775s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.05s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [internal] load build context
#4 DONE 0.0s

#5 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#5 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 12.00kB 0.0s done
#4 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:41:57Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.29041009599995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 76
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 320ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 713 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:43:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:43:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 121978  - [39m04/19/2023, 8:43:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +118ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.543 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.864 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.177 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.724 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:43:39
frontend:test:    Duration  809ms (transform 98ms, setup 0ms, collect 56ms, tests 6ms, environment 1ms, prepare 188ms)
frontend:test: 
frontend:test: [122439:0419/204341.744768:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:122453) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:122453) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5692ms)
frontend:test:     ✓ should checkout and place an order (7778ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4258ms)
frontend:test:     ✓ should throw an error given invalid credentials (1886ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5043ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.789s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.019s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:43:07Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.16298177399952 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 77
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 346ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 726 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:44:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:44:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +122ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 123426  - [39m04/19/2023, 8:44:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.424 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.187 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.242 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.829 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:44:52
frontend:test:    Duration  796ms (transform 117ms, setup 1ms, collect 57ms, tests 7ms, environment 0ms, prepare 220ms)
frontend:test: 
frontend:test: [123886:0419/204454.521082:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:123901) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:123901) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6056ms)
frontend:test:     ✓ should checkout and place an order (8181ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3937ms)
frontend:test:     ✓ should throw an error given invalid credentials (1813ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.887s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.392s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:44:19Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.0194654679997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 78
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 314ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 648 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:45:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:45:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 124887  - [39m04/19/2023, 8:45:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +108ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.91 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.369 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.469 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.161 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:46:05
frontend:test:    Duration  771ms (transform 112ms, setup 0ms, collect 57ms, tests 8ms, environment 0ms, prepare 216ms)
frontend:test: 
frontend:test: [125346:0419/204608.039618:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:125361) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:125361) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5595ms)
frontend:test:     ✓ should checkout and place an order (7942ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3872ms)
frontend:test:     ✓ should throw an error given invalid credentials (1933ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5241ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.064s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.947s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:45:32Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.23277160899993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 79
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 327ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 687 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:46:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:46:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:47:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +43ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:47:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +117ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 126340  - [39m04/19/2023, 8:47:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +125ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.047 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.403 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.721 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.305 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:47:18
frontend:test:    Duration  737ms (transform 93ms, setup 0ms, collect 55ms, tests 8ms, environment 0ms, prepare 178ms)
frontend:test: 
frontend:test: [126798:0419/204721.042757:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:126813) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:126813) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5416ms)
frontend:test:     ✓ should checkout and place an order (7872ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3919ms)
frontend:test:     ✓ should throw an error given invalid credentials (1728ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.474s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.548s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:46:46Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.97386330099962 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 80
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 385ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 667 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:48:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:48:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 127783  - [39m04/19/2023, 8:48:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +101ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.597 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.048 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.131 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.666 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:48:30
frontend:test:    Duration  834ms (transform 104ms, setup 0ms, collect 91ms, tests 6ms, environment 0ms, prepare 205ms)
frontend:test: 
frontend:test: [128249:0419/204832.852740:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:128262) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:128262) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5391ms)
frontend:test:     ✓ should checkout and place an order (8000ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3907ms)
frontend:test:     ✓ should throw an error given invalid credentials (1862ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5271ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.96s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.549s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:47:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.36980872399918 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 81
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 299ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 675 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:49:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 8:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +100ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:49:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 129243  - [39m04/19/2023, 8:49:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.131 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.366 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.398 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.993 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 9ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:49:42
frontend:test:    Duration  870ms (transform 105ms, setup 0ms, collect 58ms, tests 9ms, environment 1ms, prepare 216ms)
frontend:test: 
frontend:test: [129696:0419/204945.133466:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:129709) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:129709) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5566ms)
frontend:test:     ✓ should checkout and place an order (7921ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1808ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5239ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.749s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.277s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:49:10Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 73.05184549599979 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 82
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 314ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 668 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:50:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +40ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +114ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 130689  - [39m04/19/2023, 8:50:38 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +108ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.749 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.901 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.97 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.544 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:50:55
frontend:test:    Duration  782ms (transform 105ms, setup 0ms, collect 63ms, tests 6ms, environment 0ms, prepare 178ms)
frontend:test: 
frontend:test: [131144:0419/205058.458300:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:131159) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:131159) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5766ms)
frontend:test:     ✓ should checkout and place an order (7519ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3931ms)
frontend:test:     ✓ should throw an error given invalid credentials (1867ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5210ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.118s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.275s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:50:23Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.68623885499966 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 83
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 326ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 675 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:51:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +141ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 132142  - [39m04/19/2023, 8:51:51 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +147ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.971 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.119 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.191 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.715 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:52:08
frontend:test:    Duration  819ms (transform 99ms, setup 0ms, collect 58ms, tests 5ms, environment 0ms, prepare 177ms)
frontend:test: 
frontend:test: [132597:0419/205210.601622:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:132612) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:132612) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5466ms)
frontend:test:     ✓ should checkout and place an order (7639ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3747ms)
frontend:test:     ✓ should throw an error given invalid credentials (1791ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5092ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.775s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.198s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:51:35Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.30980468900036 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 84
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 301ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 725 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:52:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +102ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 133590  - [39m04/19/2023, 8:53:02 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +124ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.583 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.618 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.117 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.663 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:53:19
frontend:test:    Duration  796ms (transform 101ms, setup 0ms, collect 53ms, tests 7ms, environment 0ms, prepare 185ms)
frontend:test: 
frontend:test: [134051:0419/205321.746229:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:134070) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:134070) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5578ms)
frontend:test:     ✓ should checkout and place an order (7580ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3771ms)
frontend:test:     ✓ should throw an error given invalid credentials (1734ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4961ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.303s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.763s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:52:47Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.97365916499962 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 85
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 329ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 630 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:54:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +49ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +21ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +107ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 135045  - [39m04/19/2023, 8:54:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.449 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.63 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.576 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.129 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:54:29
frontend:test:    Duration  732ms (transform 92ms, setup 1ms, collect 49ms, tests 5ms, environment 0ms, prepare 167ms)
frontend:test: 
frontend:test: [135505:0419/205431.468424:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:135520) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:135520) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5691ms)
frontend:test:     ✓ should checkout and place an order (7713ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3768ms)
frontend:test:     ✓ should throw an error given invalid credentials (1686ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5381ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.116s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.087s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:53:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.45969885599986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 86
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 357ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 666 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:55:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 8:55:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +114ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 136501  - [39m04/19/2023, 8:55:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +112ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.66 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.869 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.593 s)
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.118 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:55:40
frontend:test:    Duration  851ms (transform 102ms, setup 1ms, collect 49ms, tests 6ms, environment 0ms, prepare 213ms)
frontend:test: 
frontend:test: [136960:0419/205543.231546:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:136973) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:136973) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5363ms)
frontend:test:     ✓ should checkout and place an order (7706ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4131ms)
frontend:test:     ✓ should throw an error given invalid credentials (1835ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4980ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.589s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.892s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:55:08Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.32567239999958 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 87
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 306ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 650 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 137947  - [39m04/19/2023, 8:56:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.118 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.927 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.804 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.337 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:56:51
frontend:test:    Duration  737ms (transform 102ms, setup 0ms, collect 55ms, tests 6ms, environment 0ms, prepare 176ms)
frontend:test: 
frontend:test: [138412:0419/205653.969900:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:138425) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:138425) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5480ms)
frontend:test:     ✓ should checkout and place an order (7618ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4054ms)
frontend:test:     ✓ should throw an error given invalid credentials (1812ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5070ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.383s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.585s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:56:20Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.86395792200044 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 88
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 331ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 687 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:57:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +100ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 139390  - [39m04/19/2023, 8:57:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +101ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.523 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.213 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.82 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.296 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:58:01
frontend:test:    Duration  795ms (transform 107ms, setup 1ms, collect 55ms, tests 6ms, environment 1ms, prepare 201ms)
frontend:test: 
frontend:test: [139853:0419/205804.329835:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:139868) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:139868) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5439ms)
frontend:test:     ✓ should checkout and place an order (7761ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3998ms)
frontend:test:     ✓ should throw an error given invalid credentials (1759ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4984ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.607s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.492s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:57:30Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.69954804699961 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 89
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 344ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 710 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +89ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 8:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 140848  - [39m04/19/2023, 8:58:56 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +116ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (9.261 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.462 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.486 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.097 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  20:59:13
frontend:test:    Duration  767ms (transform 109ms, setup 0ms, collect 58ms, tests 5ms, environment 0ms, prepare 195ms)
frontend:test: 
frontend:test: [141305:0419/205915.884105:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:141320) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:141320) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5404ms)
frontend:test:     ✓ should checkout and place an order (7876ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3753ms)
frontend:test:     ✓ should throw an error given invalid credentials (1728ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4836ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.627s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.388s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:58:41Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.95120919399987 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 90
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 303ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 649 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 8:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 8:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:00:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 9:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +54ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +22ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +109ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:00:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 142301  - [39m04/19/2023, 9:00:09 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +113ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (10.524 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.537 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (14.009 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.654 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:00:28
frontend:test:    Duration  789ms (transform 107ms, setup 0ms, collect 66ms, tests 7ms, environment 0ms, prepare 200ms)
frontend:test: 
frontend:test: [142759:0419/210030.909745:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:142774) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:142774) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5846ms)
frontend:test:     ✓ should checkout and place an order (7637ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3850ms)
frontend:test:     ✓ should throw an error given invalid credentials (1729ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5425ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    54.867s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m8.592s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T20:59:52Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 75.754118121 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 91
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 324ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 705 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 9:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +50ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +20ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +120ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:01:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 143752  - [39m04/19/2023, 9:01:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +124ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.451 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.33 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.196 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.873 s, estimated 15 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:01:40
frontend:test:    Duration  794ms (transform 101ms, setup 0ms, collect 59ms, tests 6ms, environment 1ms, prepare 220ms)
frontend:test: 
frontend:test: [144210:0419/210143.245732:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:144223) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:144223) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5572ms)
frontend:test:     ✓ should checkout and place an order (7738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3916ms)
frontend:test:     ✓ should throw an error given invalid credentials (1829ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5369ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.625s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.921s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:01:08Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.21539550200012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 92
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 321ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 679 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:02:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +127ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 145193  - [39m04/19/2023, 9:02:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.648 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.899 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.936 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.512 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:02:51
frontend:test:    Duration  843ms (transform 112ms, setup 0ms, collect 60ms, tests 8ms, environment 0ms, prepare 208ms)
frontend:test: 
frontend:test: [145647:0419/210254.353715:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:145662) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:145662) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5834ms)
frontend:test:     ✓ should checkout and place an order (7577ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3749ms)
frontend:test:     ✓ should throw an error given invalid credentials (1781ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5047ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.567s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.533s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:02:20Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.69459602000005 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 93
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 321ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 694 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:03:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +107ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 146633  - [39m04/19/2023, 9:03:46 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +104ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.298 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.549 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.415 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.126 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:04:03
frontend:test:    Duration  799ms (transform 95ms, setup 0ms, collect 58ms, tests 6ms, environment 0ms, prepare 182ms)
frontend:test: 
frontend:test: [147088:0419/210406.295267:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:147103) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:147103) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5604ms)
frontend:test:     ✓ should checkout and place an order (7746ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3841ms)
frontend:test:     ✓ should throw an error given invalid credentials (1763ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5149ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.234s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.518s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:03:31Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.97571143799927 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 94
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 299ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 660 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:04:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:04:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:04:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +127ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 148081  - [39m04/19/2023, 9:04:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +107ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.531 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.729 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.928 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.591 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:05:16
frontend:test:    Duration  757ms (transform 94ms, setup 0ms, collect 50ms, tests 6ms, environment 0ms, prepare 182ms)
frontend:test: 
frontend:test: [148535:0419/210519.020135:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:148548) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:148548) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5540ms)
frontend:test:     ✓ should checkout and place an order (7551ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3885ms)
frontend:test:     ✓ should throw an error given invalid credentials (1816ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4941ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.853s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.864s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:04:44Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.90756516799982 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 95
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 305ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 682 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:06:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:06:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +115ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 149522  - [39m04/19/2023, 9:06:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +123ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.469 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.604 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.747 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.288 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:06:27
frontend:test:    Duration  779ms (transform 107ms, setup 0ms, collect 57ms, tests 5ms, environment 0ms, prepare 184ms)
frontend:test: 
frontend:test: [149976:0419/210629.602258:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:149991) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:149991) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5633ms)
frontend:test:     ✓ should checkout and place an order (7867ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3946ms)
frontend:test:     ✓ should throw an error given invalid credentials (1768ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5119ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.718s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.647s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:05:56Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.74356167099998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 96
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 330ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 651 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:07:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +99ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:07:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 150963  - [39m04/19/2023, 9:07:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +106ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.542 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.93 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.672 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.242 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:07:38
frontend:test:    Duration  803ms (transform 103ms, setup 0ms, collect 63ms, tests 6ms, environment 1ms, prepare 215ms)
frontend:test: 
frontend:test: [151415:0419/210740.873276:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:151428) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:151428) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5426ms)
frontend:test:     ✓ should checkout and place an order (7529ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4297ms)
frontend:test:     ✓ should throw an error given invalid credentials (1896ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5224ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.072s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.219s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:07:06Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.40373735600058 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 97
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 373ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 644 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:08:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 9:08:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +121ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 152407  - [39m04/19/2023, 9:08:33 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.425 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.001 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.016 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.556 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:08:50
frontend:test:    Duration  768ms (transform 88ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 165ms)
frontend:test: 
frontend:test: [152861:0419/210852.434272:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:152874) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:152874) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5478ms)
frontend:test:     ✓ should checkout and place an order (7807ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3896ms)
frontend:test:     ✓ should throw an error given invalid credentials (1697ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5182ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.633s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.921s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:08:18Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.4563809580002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 98
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 343ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 644 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:09:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:09:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:44 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +128ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:09:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 153851  - [39m04/19/2023, 9:09:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +100ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.573 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.735 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.896 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.478 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:10:01
frontend:test:    Duration  973ms (transform 142ms, setup 1ms, collect 75ms, tests 8ms, environment 0ms, prepare 250ms)
frontend:test: 
frontend:test: [154306:0419/211004.500090:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:154319) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:154319) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5621ms)
frontend:test:     ✓ should checkout and place an order (7955ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3936ms)
frontend:test:     ✓ should throw an error given invalid credentials (1752ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4972ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.983s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.337s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:09:29Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 72.57528896700032 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 99
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 323ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 720 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:10:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:10:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +40ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 9:10:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +126ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 9:10:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 155289  - [39m04/19/2023, 9:10:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +160ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.584 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.24 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.634 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.195 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:11:15
frontend:test:    Duration  756ms (transform 102ms, setup 0ms, collect 64ms, tests 5ms, environment 1ms, prepare 173ms)
frontend:test: 
frontend:test: [155743:0419/211117.835573:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:155765) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:155765) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5268ms)
frontend:test:     ✓ should checkout and place an order (7798ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3872ms)
frontend:test:     ✓ should throw an error given invalid credentials (1741ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5017ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.871s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.618s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:10:42Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 71.9899182099998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        
          ===============================
          Deploy run: 100
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 301ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 745 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 9:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +100ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:12:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 156731  - [39m04/19/2023, 9:12:09 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +104ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.568 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.989 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.828 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.356 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:12:25
frontend:test:    Duration  765ms (transform 87ms, setup 0ms, collect 51ms, tests 6ms, environment 0ms, prepare 186ms)
frontend:test: 
frontend:test: [157186:0419/211227.929826:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:157201) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:157201) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5550ms)
frontend:test:     ✓ should checkout and place an order (7801ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3889ms)
frontend:test:     ✓ should throw an error given invalid credentials (1818ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4897ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.84s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.17s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 200B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 12.00kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:95a3545de158b9d942e1e0ea3cdbad2e845f5a259180390315b2a5e28a80442d done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T21:11:54Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 70.24703453700059 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          
          ===============================
        