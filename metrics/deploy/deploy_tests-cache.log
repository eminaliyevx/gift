
          ===============================
          Deploy run: 1
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 93ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:51:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22944  - [39m04/26/2023, 9:51:19 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.587 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:51:25
frontend:test:    Duration  1.11s (transform 71ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 109ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2778ms)
frontend:test:     ✓ should checkout and place an order (5615ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2075ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2884ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.993s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.942s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:51:13+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.49971475399845 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 2
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:51:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24576  - [39m04/26/2023, 9:51:54 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.586 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:52:00
frontend:test:    Duration  1.04s (transform 39ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2713ms)
frontend:test:     ✓ should checkout and place an order (5500ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2075ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2861ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.698s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.043s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:51:48+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.088282579999415 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 3
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:52:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:52:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26219  - [39m04/26/2023, 9:52:29 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.641 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:52:35
frontend:test:    Duration  1.09s (transform 35ms, setup 1ms, collect 19ms, tests 1ms, environment 0ms, prepare 61ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2742ms)
frontend:test:     ✓ should checkout and place an order (5589ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2085ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2841ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.912s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.374s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:52:24+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.702236571999265 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 4
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27884  - [39m04/26/2023, 9:53:04 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.636 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:53:10
frontend:test:    Duration  1.15s (transform 64ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 102ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2806ms)
frontend:test:     ✓ should checkout and place an order (5709ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2125ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2966ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.258s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.643s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:52:58+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.13917687799968 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 5
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:53:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:53:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29514  - [39m04/26/2023, 9:53:39 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.629 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:53:45
frontend:test:    Duration  1.05s (transform 95ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 138ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2737ms)
frontend:test:     ✓ should checkout and place an order (5611ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2130ms)
frontend:test:     ✓ should throw an error given invalid credentials (1002ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2889ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.859s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.317s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:53:33+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.708755379999054 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 6
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31186  - [39m04/26/2023, 9:54:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.523 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:54:20
frontend:test:    Duration  1.08s (transform 63ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5573ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2102ms)
frontend:test:     ✓ should throw an error given invalid credentials (1019ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.856s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.231s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:54:08+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.66917468000017 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 7
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 93ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:54:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:54:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 368  - [39m04/26/2023, 9:54:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.631 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:54:54
frontend:test:    Duration  1.02s (transform 75ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 103ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2730ms)
frontend:test:     ✓ should checkout and place an order (5743ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2902ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.172s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.595s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:54:43+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.18776257000118 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 8
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2009  - [39m04/26/2023, 9:55:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.58 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:55:29
frontend:test:    Duration  1.13s (transform 39ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2843ms)
frontend:test:     ✓ should checkout and place an order (5862ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2195ms)
frontend:test:     ✓ should throw an error given invalid credentials (1047ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2993ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.121s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.618s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:55:18+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 36.29130956899934 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 9
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:55:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:55:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:56:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3685  - [39m04/26/2023, 9:56:00 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.836 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:56:06
frontend:test:    Duration  1.15s (transform 339ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 493ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2817ms)
frontend:test:     ✓ should checkout and place an order (5790ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2092ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2895ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.49s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.137s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:55:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.60210124400072 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 10
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:56:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:56:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5331  - [39m04/26/2023, 9:56:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.59 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:56:42
frontend:test:    Duration  1.14s (transform 110ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 155ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2718ms)
frontend:test:     ✓ should checkout and place an order (5682ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2102ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2961ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.085s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.717s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:56:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.77425541500002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 11
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:57:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:57:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6967  - [39m04/26/2023, 9:57:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.549 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:57:17
frontend:test:    Duration  1.08s (transform 70ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 110ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2827ms)
frontend:test:     ✓ should checkout and place an order (5586ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2135ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2862ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.996s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.615s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:57:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.1071421489995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 12
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:57:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8604  - [39m04/26/2023, 9:57:47 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.624 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:57:52
frontend:test:    Duration  1.06s (transform 79ms, setup 1ms, collect 19ms, tests 2ms, environment 0ms, prepare 108ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2786ms)
frontend:test:     ✓ should checkout and place an order (5881ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2069ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.183s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.81s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:57:41+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.22871898400039 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 13
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:58:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 9:58:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10245  - [39m04/26/2023, 9:58:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.686 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:58:28
frontend:test:    Duration  1.07s (transform 104ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 154ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2747ms)
frontend:test:     ✓ should checkout and place an order (5646ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.027s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.66s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:58:16+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.047742925999685 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 14
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:58:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11885  - [39m04/26/2023, 9:58:57 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.654 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:59:03
frontend:test:    Duration  1.07s (transform 43ms, setup 1ms, collect 19ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2787ms)
frontend:test:     ✓ should checkout and place an order (5743ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2893ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.247s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.656s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:58:51+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.047187385000285 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 15
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 9:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 9:59:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13511  - [39m04/26/2023, 9:59:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.69 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  21:59:38
frontend:test:    Duration  1.07s (transform 122ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2741ms)
frontend:test:     ✓ should checkout and place an order (5861ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2875ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.287s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.665s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T21:59:26+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.11077591500059 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 16
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15150  - [39m04/26/2023, 10:00:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.568 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:00:13
frontend:test:    Duration  1.14s (transform 348ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 491ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2785ms)
frontend:test:     ✓ should checkout and place an order (5773ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2095ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2851ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.185s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.597s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:00:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.08784355499968 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 17
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:00:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:00:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16785  - [39m04/26/2023, 10:00:42 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.633 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:00:48
frontend:test:    Duration  1.05s (transform 66ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 98ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2763ms)
frontend:test:     ✓ should checkout and place an order (5637ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2074ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2944ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.047s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.464s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:00:36+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.81269339000061 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 18
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:01:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18443  - [39m04/26/2023, 10:01:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.66 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:01:23
frontend:test:    Duration  1.05s (transform 38ms, setup 0ms, collect 17ms, tests 1ms, environment 0ms, prepare 63ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2760ms)
frontend:test:     ✓ should checkout and place an order (5688ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2104ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2954ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.096s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.671s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:01:11+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.80915460499935 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 19
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:01:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:01:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20086  - [39m04/26/2023, 10:01:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.641 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:01:59
frontend:test:    Duration  1.07s (transform 75ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 115ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2783ms)
frontend:test:     ✓ should checkout and place an order (5718ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2074ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2896ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.058s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.714s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:01:47+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.23884407399967 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 20
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21721  - [39m04/26/2023, 10:02:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.626 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:02:34
frontend:test:    Duration  1.09s (transform 114ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 204ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2736ms)
frontend:test:     ✓ should checkout and place an order (5861ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2161ms)
frontend:test:     ✓ should throw an error given invalid credentials (1019ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.25s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.885s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:02:22+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.32516090399958 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 21
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:03:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23443  - [39m04/26/2023, 10:03:03 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.625 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:03:09
frontend:test:    Duration  1.03s (transform 60ms, setup 1ms, collect 20ms, tests 2ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2833ms)
frontend:test:     ✓ should checkout and place an order (5829ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2101ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.28s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.713s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:02:57+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.15525963900052 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 22
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:03:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25079  - [39m04/26/2023, 10:03:38 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.704 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:03:44
frontend:test:    Duration  1.14s (transform 126ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 175ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2746ms)
frontend:test:     ✓ should checkout and place an order (5653ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2093ms)
frontend:test:     ✓ should throw an error given invalid credentials (1065ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.204s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.589s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:03:33+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.056003232998776 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 23
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:04:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 10:04:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26724  - [39m04/26/2023, 10:04:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.622 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:04:19
frontend:test:    Duration  1.08s (transform 77ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 114ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2680ms)
frontend:test:     ✓ should checkout and place an order (5563ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2098ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.866s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.554s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:04:08+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.98779167800024 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 24
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 229 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:04:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:04:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:04:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28402  - [39m04/26/2023, 10:04:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.634 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:04:54
frontend:test:    Duration  1.05s (transform 43ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2737ms)
frontend:test:     ✓ should checkout and place an order (5972ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2053ms)
frontend:test:     ✓ should throw an error given invalid credentials (1027ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2877ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.173s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.842s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:04:43+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.35816411899962 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 25
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 227 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30065  - [39m04/26/2023, 10:05:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.634 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:05:30
frontend:test:    Duration  1.12s (transform 61ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2745ms)
frontend:test:     ✓ should checkout and place an order (5688ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2138ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2900ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.135s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.547s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:05:18+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.90425219899975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 26
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:05:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31694  - [39m04/26/2023, 10:05:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.625 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:06:05
frontend:test:    Duration  1.07s (transform 38ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 63ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5840ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2090ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2954ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.69s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.385s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:05:53+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 36.695472079999746 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 27
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 229 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 10:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 888  - [39m04/26/2023, 10:06:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.841 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:06:42
frontend:test:    Duration  1.02s (transform 53ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2751ms)
frontend:test:     ✓ should checkout and place an order (5684ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2177ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2946ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.984s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.624s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:06:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 36.218655001999814 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 28
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 226 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:07:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2556  - [39m04/26/2023, 10:07:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.919 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:07:18
frontend:test:    Duration  1.06s (transform 45ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5750ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2167ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2957ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.275s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.135s 

#1 [internal] load .dockerignore
#1 transferring context: 131B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:18-alpine
#2 DONE 0.7s

#3 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 848.32kB 0.0s done
#4 DONE 0.0s

#5 [internal] load build definition from Dockerfile
#5 transferring dockerfile: 200B done
#5 ...

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:07:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 38.26107230799831 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 29
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:11:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:11:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4349  - [39m04/26/2023, 10:11:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.627 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:11:31
frontend:test:    Duration  1.09s (transform 34ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 57ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2751ms)
frontend:test:     ✓ should checkout and place an order (5748ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2083ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2886ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.035s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.639s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
          time="2023-04-26T22:11:20+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.29803385799937 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 30
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:11:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:11:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5987  - [39m04/26/2023, 10:12:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.566 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:12:07
frontend:test:    Duration  1.04s (transform 55ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2764ms)
frontend:test:     ✓ should checkout and place an order (5995ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2086ms)
frontend:test:     ✓ should throw an error given invalid credentials (1069ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2878ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.184s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.816s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:11:55+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.24680149799958 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 31
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:12:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:12:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:12:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7618  - [39m04/26/2023, 10:12:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.563 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:12:42
frontend:test:    Duration  1.02s (transform 42ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 70ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2849ms)
frontend:test:     ✓ should checkout and place an order (5763ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2086ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2903ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.048s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.671s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:12:31+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.058110506 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 32
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:13:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9253  - [39m04/26/2023, 10:13:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.65 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:13:17
frontend:test:    Duration  1.08s (transform 97ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 141ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2678ms)
frontend:test:     ✓ should checkout and place an order (5508ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2164ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2939ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.912s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.332s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:13:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.7499829950016 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 33
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:13:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:13:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10898  - [39m04/26/2023, 10:13:46 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.74 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:13:52
frontend:test:    Duration  1.07s (transform 39ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2779ms)
frontend:test:     ✓ should checkout and place an order (5723ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2088ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2899ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.216s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.68s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:13:40+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.24947713200003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 34
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:14:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12534  - [39m04/26/2023, 10:14:21 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.684 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:14:27
frontend:test:    Duration  1.07s (transform 43ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2711ms)
frontend:test:     ✓ should checkout and place an order (5717ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2056ms)
frontend:test:     ✓ should throw an error given invalid credentials (1022ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2899ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.057s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.672s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:14:16+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.150507677000014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 35
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:14:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 10:14:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14176  - [39m04/26/2023, 10:14:57 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.623 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:15:03
frontend:test:    Duration  1.05s (transform 49ms, setup 0ms, collect 17ms, tests 1ms, environment 0ms, prepare 84ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2748ms)
frontend:test:     ✓ should checkout and place an order (5669ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2094ms)
frontend:test:     ✓ should throw an error given invalid credentials (1019ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2877ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.033s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.606s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:14:51+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.099511340999975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 36
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:15:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:15:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15801  - [39m04/26/2023, 10:15:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.658 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:15:37
frontend:test:    Duration  1.10s (transform 120ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 164ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2744ms)
frontend:test:     ✓ should checkout and place an order (5720ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2062ms)
frontend:test:     ✓ should throw an error given invalid credentials (1054ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2946ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.209s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.594s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:15:26+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.10993954599835 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 37
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17466  - [39m04/26/2023, 10:16:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.793 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:16:13
frontend:test:    Duration  1.07s (transform 70ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 101ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2755ms)
frontend:test:     ✓ should checkout and place an order (5836ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2115ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2903ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.371s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.778s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:16:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.862973437000065 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 38
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:16:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:16:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19108  - [39m04/26/2023, 10:16:43 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.597 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:16:48
frontend:test:    Duration  1.06s (transform 50ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 81ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2755ms)
frontend:test:     ✓ should checkout and place an order (5788ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2114ms)
frontend:test:     ✓ should throw an error given invalid credentials (1029ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2856ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.171s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.64s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:16:37+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.01498370300047 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 39
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20743  - [39m04/26/2023, 10:17:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.716 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:17:24
frontend:test:    Duration  1.05s (transform 43ms, setup 0ms, collect 24ms, tests 1ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2736ms)
frontend:test:     ✓ should checkout and place an order (5851ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2083ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2881ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.229s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.701s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:17:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.115487825000656 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 40
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:17:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:17:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22470  - [39m04/26/2023, 10:17:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.565 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:17:58
frontend:test:    Duration  1.08s (transform 51ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 77ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2784ms)
frontend:test:     ✓ should checkout and place an order (5649ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2059ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.992s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.444s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:17:47+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.98833820900135 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 41
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:18:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24103  - [39m04/26/2023, 10:18:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.649 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:18:33
frontend:test:    Duration  1.06s (transform 314ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 422ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2713ms)
frontend:test:     ✓ should checkout and place an order (5636ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2062ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2893ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.898s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.318s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:18:22+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.67576042900048 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 42
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:19:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25736  - [39m04/26/2023, 10:19:02 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.618 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:19:08
frontend:test:    Duration  1.03s (transform 43ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 78ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2795ms)
frontend:test:     ✓ should checkout and place an order (5769ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2093ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2858ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.075s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.489s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:18:57+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.96913640899956 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 43
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:19:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27405  - [39m04/26/2023, 10:19:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.722 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:19:43
frontend:test:    Duration  1.09s (transform 75ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 106ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2775ms)
frontend:test:     ✓ should checkout and place an order (5617ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2068ms)
frontend:test:     ✓ should throw an error given invalid credentials (998ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2880ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.064s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.408s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:19:32+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.85009288400039 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 44
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 224 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:20:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29029  - [39m04/26/2023, 10:20:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.561 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:20:18
frontend:test:    Duration  1.08s (transform 45ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 73ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2776ms)
frontend:test:     ✓ should checkout and place an order (5698ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2099ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2870ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.007s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.376s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:20:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.81944556899928 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 45
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:20:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:20:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30690  - [39m04/26/2023, 10:20:47 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.627 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:20:53
frontend:test:    Duration  1.08s (transform 52ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2720ms)
frontend:test:     ✓ should checkout and place an order (5622ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2103ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2941ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.953s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.421s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:20:41+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.51997910500132 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 46
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 225 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:21:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:21:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32331  - [39m04/26/2023, 10:21:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.734 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:21:29
frontend:test:    Duration  1.04s (transform 49ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 78ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2824ms)
frontend:test:     ✓ should checkout and place an order (5660ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2112ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2995ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.292s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.985s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:21:17+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.512644812000914 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 47
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 225 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:21:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:21:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:21:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1500  - [39m04/26/2023, 10:21:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.626 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:22:04
frontend:test:    Duration  1.11s (transform 89ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 123ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2801ms)
frontend:test:     ✓ should checkout and place an order (5697ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2100ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.138s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.792s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:21:52+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.20764907800034 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 48
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:22:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:22:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3139  - [39m04/26/2023, 10:22:33 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.594 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:22:39
frontend:test:    Duration  1.01s (transform 41ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 65ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2733ms)
frontend:test:     ✓ should checkout and place an order (5550ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2080ms)
frontend:test:     ✓ should throw an error given invalid credentials (1027ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2901ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.742s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.126s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:22:28+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.63375303200073 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 49
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:23:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4770  - [39m04/26/2023, 10:23:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.647 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:23:14
frontend:test:    Duration  1.07s (transform 81ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 114ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2797ms)
frontend:test:     ✓ should checkout and place an order (5770ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2074ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2899ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.078s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.443s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:23:02+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.87258240400068 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 50
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 226 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:23:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:23:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6408  - [39m04/26/2023, 10:23:43 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.843 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:23:49
frontend:test:    Duration  1.04s (transform 66ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 101ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2731ms)
frontend:test:     ✓ should checkout and place an order (5668ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2072ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2889ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.467s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.836s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:23:37+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.326770338999104 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 51
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:24:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8052  - [39m04/26/2023, 10:24:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.627 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:24:24
frontend:test:    Duration  1.06s (transform 88ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 132ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2771ms)
frontend:test:     ✓ should checkout and place an order (5479ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2091ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2909ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.992s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.39s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:24:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.87466099599935 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 52
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:24:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:24:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9685  - [39m04/26/2023, 10:24:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.705 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:24:59
frontend:test:    Duration  1.14s (transform 315ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 438ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2844ms)
frontend:test:     ✓ should checkout and place an order (5638ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2089ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2893ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.207s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.94s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:24:47+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.424561929998916 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 53
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:25:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:25:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11312  - [39m04/26/2023, 10:25:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.589 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:25:34
frontend:test:    Duration  1.03s (transform 73ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 101ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2691ms)
frontend:test:     ✓ should checkout and place an order (5694ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2095ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2929ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.956s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.378s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:25:23+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.49464266099967 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 54
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:26:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:26:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12957  - [39m04/26/2023, 10:26:04 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.605 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:26:10
frontend:test:    Duration  1.05s (transform 56ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 83ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2716ms)
frontend:test:     ✓ should checkout and place an order (5918ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2900ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.119s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.742s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:25:58+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.26241736000031 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 55
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:26:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:26:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14601  - [39m04/26/2023, 10:26:39 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.689 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:26:45
frontend:test:    Duration  1.17s (transform 88ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 118ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2727ms)
frontend:test:     ✓ should checkout and place an order (5658ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2125ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2822ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.196s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.596s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:26:33+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.12099200200103 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 56
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:27:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16232  - [39m04/26/2023, 10:27:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.69 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:27:20
frontend:test:    Duration  1.09s (transform 215ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 308ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2795ms)
frontend:test:     ✓ should checkout and place an order (5729ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1025ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2901ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.272s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.593s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:27:09+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.11957900399901 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 57
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:27:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:27:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17891  - [39m04/26/2023, 10:27:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.704 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:27:55
frontend:test:    Duration  1.09s (transform 102ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 131ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2774ms)
frontend:test:     ✓ should checkout and place an order (5589ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2067ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2907ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.046s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.451s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:27:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.87551569399983 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 58
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:28:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:28:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19537  - [39m04/26/2023, 10:28:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.644 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:28:30
frontend:test:    Duration  1.09s (transform 53ms, setup 1ms, collect 19ms, tests 2ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2785ms)
frontend:test:     ✓ should checkout and place an order (5680ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2095ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2944ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.126s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.849s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:28:19+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.369947251999754 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 59
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:28:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:29:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21170  - [39m04/26/2023, 10:29:00 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.645 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:29:06
frontend:test:    Duration  1.02s (transform 33ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 54ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2744ms)
frontend:test:     ✓ should checkout and place an order (5800ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2086ms)
frontend:test:     ✓ should throw an error given invalid credentials (1056ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2857ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.143s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.758s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:28:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.1678544050008 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 60
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:29:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:29:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 10:29:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22895  - [39m04/26/2023, 10:29:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.67 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:29:41
frontend:test:    Duration  1.08s (transform 34ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 62ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5530ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2863ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.99s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.631s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.9s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:29:29+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.38130780399963 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 61
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:30:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24523  - [39m04/26/2023, 10:30:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.616 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:30:16
frontend:test:    Duration  1.03s (transform 93ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 130ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2762ms)
frontend:test:     ✓ should checkout and place an order (5645ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2111ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2891ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.855s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.534s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:30:04+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.64601786699891 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 62
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:30:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:30:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26160  - [39m04/26/2023, 10:30:46 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.561 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:30:52
frontend:test:    Duration  1.07s (transform 108ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 150ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2746ms)
frontend:test:     ✓ should checkout and place an order (5710ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2144ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2908ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.01s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.478s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:30:40+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.85772963000089 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 63
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:31:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27821  - [39m04/26/2023, 10:31:21 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.636 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:31:27
frontend:test:    Duration  1.06s (transform 53ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 95ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2744ms)
frontend:test:     ✓ should checkout and place an order (5466ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2088ms)
frontend:test:     ✓ should throw an error given invalid credentials (1006ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2923ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.768s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.179s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:31:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.69614089499973 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 64
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:31:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:31:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:31:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29463  - [39m04/26/2023, 10:31:55 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.601 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:32:01
frontend:test:    Duration  1.10s (transform 71ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2704ms)
frontend:test:     ✓ should checkout and place an order (5582ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2090ms)
frontend:test:     ✓ should throw an error given invalid credentials (1019ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2910ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.884s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.542s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:31:50+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.02073034100048 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 65
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:32:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:32:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31130  - [39m04/26/2023, 10:32:30 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.64 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:32:36
frontend:test:    Duration  1.03s (transform 41ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2778ms)
frontend:test:     ✓ should checkout and place an order (5823ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2076ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2946ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.127s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.473s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:32:25+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.96726609400101 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 66
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:33:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 306  - [39m04/26/2023, 10:33:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.698 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:33:11
frontend:test:    Duration  1.12s (transform 83ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 123ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2735ms)
frontend:test:     ✓ should checkout and place an order (5578ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2909ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.076s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.437s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.8s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:33:00+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.02930269899964 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 67
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:33:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:33:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1945  - [39m04/26/2023, 10:33:40 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.666 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:33:46
frontend:test:    Duration  1.10s (transform 65ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 101ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2759ms)
frontend:test:     ✓ should checkout and place an order (5539ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2059ms)
frontend:test:     ✓ should throw an error given invalid credentials (1006ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2910ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.795s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.145s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:33:35+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.563802051000295 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 68
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:34:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3580  - [39m04/26/2023, 10:34:15 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.57 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:34:21
frontend:test:    Duration  1.06s (transform 77ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 107ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2774ms)
frontend:test:     ✓ should checkout and place an order (5417ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2108ms)
frontend:test:     ✓ should throw an error given invalid credentials (1002ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2952ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.779s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.151s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:34:09+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.5384056780003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 69
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:34:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:34:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5235  - [39m04/26/2023, 10:34:50 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.636 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:34:55
frontend:test:    Duration  1.04s (transform 54ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 83ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2786ms)
frontend:test:     ✓ should checkout and place an order (5535ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2107ms)
frontend:test:     ✓ should throw an error given invalid credentials (1001ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2866ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.861s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.26s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:34:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.38119020099938 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 70
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 225 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:35:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6876  - [39m04/26/2023, 10:35:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.704 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:35:31
frontend:test:    Duration  1.07s (transform 41ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 66ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2770ms)
frontend:test:     ✓ should checkout and place an order (5706ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1077ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.277s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.68s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:35:19+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.26772268900089 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 71
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:35:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:35:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8517  - [39m04/26/2023, 10:36:00 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.671 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:36:06
frontend:test:    Duration  1.07s (transform 39ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 61ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2688ms)
frontend:test:     ✓ should checkout and place an order (5655ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2045ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2876ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.996s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.386s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:35:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.90396856500022 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 72
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:36:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:36:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10152  - [39m04/26/2023, 10:36:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.656 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:36:41
frontend:test:    Duration  1.08s (transform 103ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 135ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2795ms)
frontend:test:     ✓ should checkout and place an order (5733ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2041ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2910ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.122s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.55s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:36:29+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.07216828100011 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 73
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:37:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11778  - [39m04/26/2023, 10:37:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.617 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:37:16
frontend:test:    Duration  1.17s (transform 351ms, setup 1ms, collect 19ms, tests 1ms, environment 0ms, prepare 518ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2740ms)
frontend:test:     ✓ should checkout and place an order (5623ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2050ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2918ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.971s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.34s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:37:04+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.74971833200008 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 74
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:37:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:37:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:37:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13405  - [39m04/26/2023, 10:37:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.579 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:37:51
frontend:test:    Duration  1.09s (transform 34ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 56ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2742ms)
frontend:test:     ✓ should checkout and place an order (5739ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2094ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2895ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.006s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.639s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:37:39+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.045567389000205 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 75
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:38:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15041  - [39m04/26/2023, 10:38:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.624 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:38:26
frontend:test:    Duration  1.09s (transform 37ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 61ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2728ms)
frontend:test:     ✓ should checkout and place an order (5721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2250ms)
frontend:test:     ✓ should throw an error given invalid credentials (1061ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2995ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.405s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.878s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:38:14+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.398466060001404 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 76
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 115ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 225 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:38:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:38:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:38:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16693  - [39m04/26/2023, 10:38:56 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.817 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:39:02
frontend:test:    Duration  1.16s (transform 81ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2748ms)
frontend:test:     ✓ should checkout and place an order (5619ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2072ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2956ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.539s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.239s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:38:50+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.87662323899939 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 77
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:39:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:39:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:39:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18363  - [39m04/26/2023, 10:39:31 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.692 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:39:37
frontend:test:    Duration  1.09s (transform 108ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 158ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5605ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2106ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2926ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.093s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.731s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:39:25+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 36.03732795099914 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 78
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:40:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:40:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20003  - [39m04/26/2023, 10:40:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.602 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:40:13
frontend:test:    Duration  1.00s (transform 46ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2773ms)
frontend:test:     ✓ should checkout and place an order (5820ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2112ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.077s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.721s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:40:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.15134363500029 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 79
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:40:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:40:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21636  - [39m04/26/2023, 10:40:42 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.708 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:40:48
frontend:test:    Duration  1.08s (transform 91ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 122ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2759ms)
frontend:test:     ✓ should checkout and place an order (5501ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2113ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2918ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.964s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.433s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:40:37+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.90425653699972 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 80
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:41:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23349  - [39m04/26/2023, 10:41:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.588 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:41:23
frontend:test:    Duration  1.07s (transform 55ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 86ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2730ms)
frontend:test:     ✓ should checkout and place an order (5521ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2064ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2963ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.738s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.094s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:41:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.47474114900082 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 81
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:41:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24987  - [39m04/26/2023, 10:41:52 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
frontend:dev:test: 10:41:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.622 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:41:58
frontend:test:    Duration  1.10s (transform 93ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 127ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2763ms)
frontend:test:     ✓ should checkout and place an order (5494ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2084ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2862ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.769s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.392s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [2/6] RUN apk add --no-cache libc6-compat
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:41:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.877008306000384 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 82
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:42:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26645  - [39m04/26/2023, 10:42:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.616 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:42:32
frontend:test:    Duration  1.10s (transform 37ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2771ms)
frontend:test:     ✓ should checkout and place an order (5538ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2087ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2941ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.988s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.354s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:42:21+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.72433382299915 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 83
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:42:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:42:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28312  - [39m04/26/2023, 10:43:02 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.702 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:43:07
frontend:test:    Duration  1.06s (transform 49ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 86ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2719ms)
frontend:test:     ✓ should checkout and place an order (5818ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2883ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.237s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.604s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:42:56+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.190866964999586 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 84
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:43:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:43:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:43:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29974  - [39m04/26/2023, 10:43:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.647 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:43:43
frontend:test:    Duration  1.07s (transform 48ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 77ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2794ms)
frontend:test:     ✓ should checkout and place an order (5720ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2095ms)
frontend:test:     ✓ should throw an error given invalid credentials (1031ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3000ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.22s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.919s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.8s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:43:31+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.547586306998504 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 85
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:44:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 10:44:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31606  - [39m04/26/2023, 10:44:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.611 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:44:18
frontend:test:    Duration  1.06s (transform 35ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 65ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2692ms)
frontend:test:     ✓ should checkout and place an order (5659ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2897ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.932s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.546s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:44:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.73532934400067 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 86
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 230 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:44:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:44:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 772  - [39m04/26/2023, 10:44:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.621 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:44:54
frontend:test:    Duration  1.07s (transform 60ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2794ms)
frontend:test:     ✓ should checkout and place an order (6481ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2071ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2897ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.897s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.601s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [4/6] COPY . .
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:44:42+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 36.36283550100028 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 87
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:45:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:45:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2402  - [39m04/26/2023, 10:45:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.687 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:45:31
frontend:test:    Duration  1.14s (transform 117ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2811ms)
frontend:test:     ✓ should checkout and place an order (5809ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2062ms)
frontend:test:     ✓ should throw an error given invalid credentials (1027ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2929ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.49s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.166s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:45:18+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.80209771800041 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 88
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 235 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:45:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:45:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4036  - [39m04/26/2023, 10:46:00 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.667 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:46:06
frontend:test:    Duration  1.10s (transform 288ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 395ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2817ms)
frontend:test:     ✓ should checkout and place an order (5591ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2133ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2893ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.137s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.8s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:45:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.34463861700147 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 89
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:46:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5667  - [39m04/26/2023, 10:46:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.641 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:46:41
frontend:test:    Duration  1.02s (transform 36ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5590ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2080ms)
frontend:test:     ✓ should throw an error given invalid credentials (999ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2927ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.035s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.374s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [3/6] WORKDIR /usr/src/app
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [5/6] RUN npm install
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:46:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.869403722999614 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 90
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:47:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7303  - [39m04/26/2023, 10:47:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.655 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:47:16
frontend:test:    Duration  1.04s (transform 64ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 99ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5564ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2081ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2918ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.904s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.326s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:47:04+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.73036051399819 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 91
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:47:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8955  - [39m04/26/2023, 10:47:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.63 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:47:51
frontend:test:    Duration  1.12s (transform 65ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 94ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2710ms)
frontend:test:     ✓ should checkout and place an order (5675ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (1003ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2913ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.043s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.449s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:47:39+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.99319368300028 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 92
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:48:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10597  - [39m04/26/2023, 10:48:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.682 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:48:26
frontend:test:    Duration  1.08s (transform 63ms, setup 0ms, collect 21ms, tests 1ms, environment 0ms, prepare 100ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5502ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2064ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2969ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.884s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.252s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.5s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:48:14+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.67796382000111 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 93
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:48:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:48:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:48:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12233  - [39m04/26/2023, 10:48:55 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.634 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 3ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:49:01
frontend:test:    Duration  1.10s (transform 50ms, setup 0ms, collect 20ms, tests 3ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2799ms)
frontend:test:     ✓ should checkout and place an order (5548ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2141ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2889ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.142s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.78s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:48:49+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.958417408999054 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 94
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:49:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13871  - [39m04/26/2023, 10:49:31 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.742 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:49:37
frontend:test:    Duration  1.12s (transform 48ms, setup 0ms, collect 17ms, tests 1ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2762ms)
frontend:test:     ✓ should checkout and place an order (5532ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2069ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2931ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.11s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.829s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:49:25+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.28903448400088 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 95
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:50:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15508  - [39m04/26/2023, 10:50:06 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.654 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:50:12
frontend:test:    Duration  1.08s (transform 54ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2782ms)
frontend:test:     ✓ should checkout and place an order (5597ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2109ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2947ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.077s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.455s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:50:00+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.95543526000157 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 96
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 10:50:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17141  - [39m04/26/2023, 10:50:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.613 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:50:47
frontend:test:    Duration  1.07s (transform 58ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 92ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2794ms)
frontend:test:     ✓ should checkout and place an order (5598ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (1025ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2880ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.994s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.691s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:50:35+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.213959845999256 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 97
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:51:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18815  - [39m04/26/2023, 10:51:16 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.614 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:51:22
frontend:test:    Duration  1.05s (transform 72ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2733ms)
frontend:test:     ✓ should checkout and place an order (5563ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2115ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2903ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    25.879s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.255s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:51:10+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.720087981000546 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 98
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 223 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:51:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20452  - [39m04/26/2023, 10:51:51 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.585 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:51:57
frontend:test:    Duration  1.02s (transform 40ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2756ms)
frontend:test:     ✓ should checkout and place an order (5736ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2115ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2926ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.004s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.434s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 CACHED

#7 [3/6] WORKDIR /usr/src/app
#7 CACHED

#8 [4/6] COPY . .
#8 CACHED

#9 [5/6] RUN npm install
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:51:45+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 34.89236729600094 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 99
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:52:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/26/2023, 10:52:26 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.671 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:52:32
frontend:test:    Duration  1.10s (transform 76ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 117ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2810ms)
frontend:test:     ✓ should checkout and place an order (5787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2888ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.295s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.722s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [5/6] RUN npm install
#6 CACHED

#7 [4/6] COPY . .
#7 CACHED

#8 [3/6] WORKDIR /usr/src/app
#8 CACHED

#9 [2/6] RUN apk add --no-cache libc6-compat
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:52:20+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.15314610000141 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 100
          ===============================
          Standard output
          ===============================
          
> deploy:tests-cache
> rm -rf ~/.docker && npm run test && docker compose build && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:53:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:53:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23806  - [39m04/26/2023, 10:53:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.687 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  22:53:07
frontend:test:    Duration  1.11s (transform 89ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 124ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2706ms)
frontend:test:     ✓ should checkout and place an order (5659ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2081ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.174s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.848s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 848.32kB 0.0s done
#5 DONE 0.0s

#6 [4/6] COPY . .
#6 CACHED

#7 [5/6] RUN npm install
#7 CACHED

#8 [2/6] RUN apk add --no-cache libc6-compat
#8 CACHED

#9 [3/6] WORKDIR /usr/src/app
#9 CACHED

#10 [6/6] RUN npm run build
#10 CACHED

#11 exporting to image
#11 exporting layers done
#11 writing image sha256:d966b4741804fa40266da7afeceda6cd4197271b4395e9741aea92e7c7fe79e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 0.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-26T22:52:55+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Running

          ===============================
          Completed in 35.3167730029989 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        