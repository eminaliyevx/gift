
          ===============================
          Deploy run: 1
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:52:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:52:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:52:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5869  - [39m04/22/2023, 3:52:08 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.988 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  03:52:14
frontend:test:    Duration  1.11s (transform 60ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 92ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2712ms)
frontend:test:     ✓ should checkout and place an order (5635ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2124ms)
frontend:test:     ✓ should throw an error given invalid credentials (997ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2854ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.239s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.597s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 2.2s

#4 [internal] load build context
#4 transferring context: 848.26kB 0.0s done
#4 DONE 0.0s

#5 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#5 resolve docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61 done
#5 sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61 1.43kB / 1.43kB done
#5 sha256:44aaf1ccc80eaed6572a0f2ef7d6b5a2982d54481e4255480041ac92221e2f11 1.16kB / 1.16kB done
#5 sha256:6f44d13dd2586511d630d7708da1eaac09c05693d9e3e06f3f72206927d3201d 6.49kB / 6.49kB done
#5 DONE 0.1s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.274 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.977 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.393 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.461 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.461 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.21 
#9 80.21 added 1498 packages, and audited 1502 packages in 1m
#9 80.21 
#9 80.21 149 packages are looking for funding
#9 80.21   run `npm fund` for details
#9 80.21 
#9 80.21 found 0 vulnerabilities
#9 80.21 npm notice 
#9 80.21 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.21 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.21 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.21 npm notice 
#9 DONE 80.8s

#10 [6/6] RUN npm run build
#10 0.646 
#10 0.646 > build
#10 0.646 > turbo run build
#10 0.646 
#10 0.710 • Packages in scope: backend, frontend, local-types
#10 0.710 • Running build in 3 packages
#10 0.710 • Remote caching disabled
#10 0.710 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.994 backend:build: 
#10 0.994 backend:build: > backend@1.0.0 build
#10 0.994 backend:build: > nest build
#10 0.994 backend:build: 
#10 4.950 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.231 frontend:build: 
#10 5.231 frontend:build: > frontend@1.0.0 build
#10 5.231 frontend:build: > tsc && vite build
#10 5.231 frontend:build: 
#10 8.240 frontend:build: vite v4.2.2 building for production...
#10 8.264 frontend:build: transforming...
#10 9.020 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.028 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.029 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.031 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.033 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.034 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.036 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.037 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.038 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.038 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.587 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.618 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.619 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.620 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.42 frontend:build: ✓ 4519 modules transformed.
#10 14.71 frontend:build: rendering chunks...
#10 14.72 frontend:build: computing gzip size...
#10 14.76 frontend:build: dist/index.html                                                   0.44 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.76 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.76 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.76 frontend:build: 
#10 14.76 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.76 frontend:build: - Using dynamic import() to code-split the application
#10 14.76 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.76 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.76 frontend:build: ✓ built in 6.52s
#10 14.81 
#10 14.81  Tasks:    2 successful, 2 total
#10 14.81 Cached:    0 cached, 2 total
#10 14.81   Time:    14.15s 
#10 14.81 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:fa5f74bae60a0afca56bb684757eb8c0dd587c874d998853d7f8a9d04ed6adcd done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T03:52:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.65630186 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.95287387284752 Mbps
          ===============================
        
          ===============================
          Deploy run: 2
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:54:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:54:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7645  - [39m04/22/2023, 3:54:55 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.771 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  03:55:01
frontend:test:    Duration  1.14s (transform 32ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 59ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2819ms)
frontend:test:     ✓ should checkout and place an order (5518ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2131ms)
frontend:test:     ✓ should throw an error given invalid credentials (992ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2895ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.153s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.026s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.303 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.983 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.383 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.449 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.482 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 82.95 
#9 82.95 added 1498 packages, and audited 1502 packages in 1m
#9 82.95 
#9 82.95 149 packages are looking for funding
#9 82.95   run `npm fund` for details
#9 82.96 
#9 82.96 found 0 vulnerabilities
#9 82.96 npm notice 
#9 82.96 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 82.96 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 82.96 npm notice Run `npm install -g npm@9.6.5` to update!
#9 82.96 npm notice 
#9 DONE 106.6s

#10 [6/6] RUN npm run build
#10 0.844 
#10 0.844 > build
#10 0.844 > turbo run build
#10 0.844 
#10 0.909 • Packages in scope: backend, frontend, local-types
#10 0.909 • Running build in 3 packages
#10 0.909 • Remote caching disabled
#10 0.909 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.190 backend:build: 
#10 1.190 backend:build: > backend@1.0.0 build
#10 1.190 backend:build: > nest build
#10 1.190 backend:build: 
#10 5.117 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.398 frontend:build: 
#10 5.398 frontend:build: > frontend@1.0.0 build
#10 5.398 frontend:build: > tsc && vite build
#10 5.398 frontend:build: 
#10 8.363 frontend:build: vite v4.2.2 building for production...
#10 8.386 frontend:build: transforming...
#10 9.076 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.680 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.709 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.710 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.713 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.38 frontend:build: ✓ 4519 modules transformed.
#10 14.70 frontend:build: rendering chunks...
#10 14.71 frontend:build: computing gzip size...
#10 14.75 frontend:build: dist/index.html                                                   0.44 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.75 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.75 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.75 frontend:build: ✓ built in 6.39s
#10 14.75 frontend:build: 
#10 14.75 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.75 frontend:build: - Using dynamic import() to code-split the application
#10 14.75 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.75 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    13.939s 
#10 14.79 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 8.2s done
#11 writing image sha256:8076d7ff07eef9987e8410a4b7f06b18f89f525acf9813a61db5a6d970d962bf 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 8.2s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T03:54:49+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 170.16927622200012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.59105711717416 Mbps
          ===============================
        
          ===============================
          Deploy run: 3
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:58:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9398  - [39m04/22/2023, 3:58:09 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.89 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  03:58:15
frontend:test:    Duration  1.06s (transform 45ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 81ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2881ms)
frontend:test:     ✓ should checkout and place an order (5557ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2071ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2911ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.885s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.35s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.308 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.989 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.364 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.431 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.1s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 6.822 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.46 
#9 80.46 added 1498 packages, and audited 1502 packages in 1m
#9 80.46 
#9 80.46 149 packages are looking for funding
#9 80.46   run `npm fund` for details
#9 80.47 
#9 80.47 found 0 vulnerabilities
#9 80.47 npm notice 
#9 80.47 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.47 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.47 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.47 npm notice 
#9 DONE 81.0s

#10 [6/6] RUN npm run build
#10 0.605 
#10 0.605 > build
#10 0.605 > turbo run build
#10 0.605 
#10 0.669 • Packages in scope: backend, frontend, local-types
#10 0.669 • Running build in 3 packages
#10 0.669 • Remote caching disabled
#10 0.669 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.952 backend:build: 
#10 0.952 backend:build: > backend@1.0.0 build
#10 0.952 backend:build: > nest build
#10 0.952 backend:build: 
#10 4.916 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.201 frontend:build: 
#10 5.201 frontend:build: > frontend@1.0.0 build
#10 5.201 frontend:build: > tsc && vite build
#10 5.201 frontend:build: 
#10 8.288 frontend:build: vite v4.2.2 building for production...
#10 8.312 frontend:build: transforming...
#10 9.050 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.091 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.096 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.104 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.105 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.108 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.110 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.633 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.661 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.662 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.669 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.47 frontend:build: ✓ 4519 modules transformed.
#10 14.77 frontend:build: rendering chunks...
#10 14.78 frontend:build: computing gzip size...
#10 14.82 frontend:build: dist/index.html                                                   0.44 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.82 frontend:build: 
#10 14.82 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.82 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.82 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.82 frontend:build: - Using dynamic import() to code-split the application
#10 14.82 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.82 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.82 frontend:build: ✓ built in 6.53s
#10 14.86 
#10 14.86  Tasks:    2 successful, 2 total
#10 14.86 Cached:    0 cached, 2 total
#10 14.86   Time:    14.246s 
#10 14.86 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:b4f31b3b13951e29ad012eb3b8e5a23e65edf724f38d4afc2b7fb7f06acd6dfa done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T03:58:03+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.6361593010002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.7982677633072 Mbps
          ===============================
        
          ===============================
          Deploy run: 4
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:00:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:00:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11148  - [39m04/22/2023, 4:00:54 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.664 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:01:00
frontend:test:    Duration  1.04s (transform 35ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 66ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2734ms)
frontend:test:     ✓ should checkout and place an order (5756ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2052ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2852ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.564s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.058s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.299 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.975 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.399 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.463 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.822 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.18 
#9 79.18 added 1498 packages, and audited 1502 packages in 1m
#9 79.18 
#9 79.18 149 packages are looking for funding
#9 79.18   run `npm fund` for details
#9 79.18 
#9 79.18 found 0 vulnerabilities
#9 79.18 npm notice 
#9 79.18 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.18 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.18 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.18 npm notice 
#9 DONE 80.0s

#10 [6/6] RUN npm run build
#10 0.720 
#10 0.720 > build
#10 0.720 > turbo run build
#10 0.720 
#10 0.784 • Packages in scope: backend, frontend, local-types
#10 0.784 • Running build in 3 packages
#10 0.784 • Remote caching disabled
#10 0.784 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.068 backend:build: 
#10 1.068 backend:build: > backend@1.0.0 build
#10 1.068 backend:build: > nest build
#10 1.068 backend:build: 
#10 5.050 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.332 frontend:build: 
#10 5.332 frontend:build: > frontend@1.0.0 build
#10 5.332 frontend:build: > tsc && vite build
#10 5.332 frontend:build: 
#10 8.358 frontend:build: vite v4.2.2 building for production...
#10 8.383 frontend:build: transforming...
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.554 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.583 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.584 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.586 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.33 frontend:build: ✓ 4519 modules transformed.
#10 14.63 frontend:build: rendering chunks...
#10 14.65 frontend:build: computing gzip size...
#10 14.68 frontend:build: dist/index.html                                                   0.44 kB
#10 14.68 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.68 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.68 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.68 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.68 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.68 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.68 frontend:build: 
#10 14.68 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.68 frontend:build: - Using dynamic import() to code-split the application
#10 14.68 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.68 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.69 frontend:build: ✓ built in 6.33s
#10 14.73 
#10 14.73  Tasks:    2 successful, 2 total
#10 14.73 Cached:    0 cached, 2 total
#10 14.73   Time:    13.998s 
#10 14.73 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:62d1e91232af6f965007e5995413afd05b094a56849fc7b871b329ce0ac1be73 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:00:48+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.57626552599996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.384500871653444 Mbps
          ===============================
        
          ===============================
          Deploy run: 5
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:03:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:03:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13378  - [39m04/22/2023, 4:03:37 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.044 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:03:44
frontend:test:    Duration  1.05s (transform 45ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5633ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2165ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2892ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.25s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.742s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.301 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.984 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.367 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.440 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.737 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.33 
#9 79.33 added 1498 packages, and audited 1502 packages in 1m
#9 79.33 
#9 79.33 149 packages are looking for funding
#9 79.33   run `npm fund` for details
#9 79.33 
#9 79.33 found 0 vulnerabilities
#9 79.33 npm notice 
#9 79.33 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.33 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.33 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.33 npm notice 
#9 DONE 80.4s

#10 [6/6] RUN npm run build
#10 0.685 
#10 0.685 > build
#10 0.685 > turbo run build
#10 0.685 
#10 0.750 • Packages in scope: backend, frontend, local-types
#10 0.750 • Running build in 3 packages
#10 0.750 • Remote caching disabled
#10 0.750 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.030 backend:build: 
#10 1.030 backend:build: > backend@1.0.0 build
#10 1.030 backend:build: > nest build
#10 1.030 backend:build: 
#10 4.949 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.229 frontend:build: 
#10 5.229 frontend:build: > frontend@1.0.0 build
#10 5.229 frontend:build: > tsc && vite build
#10 5.229 frontend:build: 
#10 8.216 frontend:build: vite v4.2.2 building for production...
#10 8.243 frontend:build: transforming...
#10 8.980 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 8.983 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 8.986 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 8.988 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 8.991 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 8.992 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 8.993 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 8.994 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 8.995 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 8.996 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.446 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.447 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.448 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.450 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.12 frontend:build: ✓ 4519 modules transformed.
#10 14.42 frontend:build: rendering chunks...
#10 14.43 frontend:build: computing gzip size...
#10 14.47 frontend:build: dist/index.html                                                   0.44 kB
#10 14.47 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.47 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.47 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.47 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.47 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.47 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.47 frontend:build: 
#10 14.47 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.47 frontend:build: - Using dynamic import() to code-split the application
#10 14.47 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.47 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.47 frontend:build: ✓ built in 6.25s
#10 14.51 
#10 14.51  Tasks:    2 successful, 2 total
#10 14.51 Cached:    0 cached, 2 total
#10 14.51   Time:    13.81s 
#10 14.51 
#10 DONE 14.6s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:ae52af45b92a623c93242039995ac23300d9fdea606a19a4c77166bb45fe1169 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:03:31+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.9298295799999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.55726992664703 Mbps
          ===============================
        
          ===============================
          Deploy run: 6
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:06:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:06:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15119  - [39m04/22/2023, 4:06:21 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.819 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:06:27
frontend:test:    Duration  1.08s (transform 43ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2815ms)
frontend:test:     ✓ should checkout and place an order (5680ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1000ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.81s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.325s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.1s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.318 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.995 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.405 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.470 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.324 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.22 
#9 80.22 added 1498 packages, and audited 1502 packages in 1m
#9 80.22 
#9 80.22 149 packages are looking for funding
#9 80.22   run `npm fund` for details
#9 80.22 
#9 80.22 found 0 vulnerabilities
#9 80.22 npm notice 
#9 80.22 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.22 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.22 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.22 npm notice 
#9 DONE 80.9s

#10 [6/6] RUN npm run build
#10 0.634 
#10 0.634 > build
#10 0.634 > turbo run build
#10 0.634 
#10 0.701 • Packages in scope: backend, frontend, local-types
#10 0.701 • Running build in 3 packages
#10 0.701 • Remote caching disabled
#10 0.701 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.984 backend:build: 
#10 0.984 backend:build: > backend@1.0.0 build
#10 0.984 backend:build: > nest build
#10 0.984 backend:build: 
#10 4.966 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.256 frontend:build: 
#10 5.256 frontend:build: > frontend@1.0.0 build
#10 5.256 frontend:build: > tsc && vite build
#10 5.256 frontend:build: 
#10 8.284 frontend:build: vite v4.2.2 building for production...
#10 8.309 frontend:build: transforming...
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.076 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.083 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.086 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.640 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.674 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.676 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.677 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.45 frontend:build: ✓ 4519 modules transformed.
#10 14.76 frontend:build: rendering chunks...
#10 14.77 frontend:build: computing gzip size...
#10 14.80 frontend:build: dist/index.html                                                   0.44 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.81 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.81 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.81 frontend:build: 
#10 14.81 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.81 frontend:build: - Using dynamic import() to code-split the application
#10 14.81 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.81 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.81 frontend:build: ✓ built in 6.52s
#10 14.86 
#10 14.86  Tasks:    2 successful, 2 total
#10 14.86 Cached:    0 cached, 2 total
#10 14.86   Time:    14.211s 
#10 14.86 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:ce5c6d168b9e9bf6b4502ecef0aecb13791a1fc9fb0d34ab84611cace1672606 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:06:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.69064497599985 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.57320517005421 Mbps
          ===============================
        
          ===============================
          Deploy run: 7
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:09:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:09:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16859  - [39m04/22/2023, 4:09:05 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.854 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:09:12
frontend:test:    Duration  1.10s (transform 353ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 489ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2795ms)
frontend:test:     ✓ should checkout and place an order (5694ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2088ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2968ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.214s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.955s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.345 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.023 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.414 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.483 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.617 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.69 
#9 78.69 added 1498 packages, and audited 1502 packages in 1m
#9 78.69 
#9 78.69 149 packages are looking for funding
#9 78.69   run `npm fund` for details
#9 78.69 
#9 78.69 found 0 vulnerabilities
#9 78.69 npm notice 
#9 78.69 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.69 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.69 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.69 npm notice 
#9 DONE 79.7s

#10 [6/6] RUN npm run build
#10 0.685 
#10 0.685 > build
#10 0.685 > turbo run build
#10 0.685 
#10 0.751 • Packages in scope: backend, frontend, local-types
#10 0.751 • Running build in 3 packages
#10 0.751 • Remote caching disabled
#10 0.751 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.035 backend:build: 
#10 1.035 backend:build: > backend@1.0.0 build
#10 1.035 backend:build: > nest build
#10 1.035 backend:build: 
#10 5.015 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.301 frontend:build: 
#10 5.301 frontend:build: > frontend@1.0.0 build
#10 5.301 frontend:build: > tsc && vite build
#10 5.301 frontend:build: 
#10 8.330 frontend:build: vite v4.2.2 building for production...
#10 8.355 frontend:build: transforming...
#10 9.072 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.076 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.086 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.088 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.090 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.090 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.708 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.738 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.740 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.744 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.60 frontend:build: ✓ 4519 modules transformed.
#10 14.90 frontend:build: rendering chunks...
#10 14.91 frontend:build: computing gzip size...
#10 14.95 frontend:build: dist/index.html                                                   0.44 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.95 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.95 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.95 frontend:build: 
#10 14.95 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.95 frontend:build: - Using dynamic import() to code-split the application
#10 14.95 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.95 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.95 frontend:build: ✓ built in 6.62s
#10 14.99 
#10 14.99  Tasks:    2 successful, 2 total
#10 14.99 Cached:    0 cached, 2 total
#10 14.99   Time:    14.3s 
#10 14.99 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:f614abc0e5718a2cb9a2e7a93fa6c29955c62ef453e3d411c5ab53d51bc9498c done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:08:59+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.12979498900006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.77439257911832 Mbps
          ===============================
        
          ===============================
          Deploy run: 8
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:11:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:11:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:11:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18610  - [39m04/22/2023, 4:11:50 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.75 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:11:56
frontend:test:    Duration  1.09s (transform 79ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2702ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2125ms)
frontend:test:     ✓ should throw an error given invalid credentials (1001ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2950ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.867s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.59s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.311 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.992 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.401 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.465 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.014 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.67 
#9 81.67 added 1498 packages, and audited 1502 packages in 1m
#9 81.67 
#9 81.67 149 packages are looking for funding
#9 81.67   run `npm fund` for details
#9 81.67 
#9 81.67 found 0 vulnerabilities
#9 81.67 npm notice 
#9 81.67 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.67 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.67 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.67 npm notice 
#9 DONE 82.7s

#10 [6/6] RUN npm run build
#10 0.712 
#10 0.712 > build
#10 0.712 > turbo run build
#10 0.712 
#10 0.779 • Packages in scope: backend, frontend, local-types
#10 0.779 • Running build in 3 packages
#10 0.779 • Remote caching disabled
#10 0.779 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.064 backend:build: 
#10 1.064 backend:build: > backend@1.0.0 build
#10 1.064 backend:build: > nest build
#10 1.064 backend:build: 
#10 5.044 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.330 frontend:build: 
#10 5.330 frontend:build: > frontend@1.0.0 build
#10 5.330 frontend:build: > tsc && vite build
#10 5.330 frontend:build: 
#10 8.365 frontend:build: vite v4.2.2 building for production...
#10 8.389 frontend:build: transforming...
#10 9.090 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.594 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.594 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.595 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.597 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.28 frontend:build: ✓ 4519 modules transformed.
#10 14.58 frontend:build: rendering chunks...
#10 14.59 frontend:build: computing gzip size...
#10 14.62 frontend:build: dist/index.html                                                   0.44 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.62 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.63 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.63 frontend:build: 
#10 14.63 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.63 frontend:build: - Using dynamic import() to code-split the application
#10 14.63 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.63 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.63 frontend:build: ✓ built in 6.26s
#10 14.67 
#10 14.67  Tasks:    2 successful, 2 total
#10 14.67 Cached:    0 cached, 2 total
#10 14.67   Time:    13.944s 
#10 14.67 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:d083e42107caf4c5e746933ac1fb08c91688236124e7a1d921129c8148f488a0 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:11:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.83313426599977 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.20403718416461 Mbps
          ===============================
        
          ===============================
          Deploy run: 9
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:14:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:14:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:14:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20343  - [39m04/22/2023, 4:14:36 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.816 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:14:42
frontend:test:    Duration  1.11s (transform 67ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2760ms)
frontend:test:     ✓ should checkout and place an order (5557ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2055ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.601s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.343s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.9s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.276 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.952 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.364 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.434 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.864 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.79 
#9 78.79 added 1498 packages, and audited 1502 packages in 1m
#9 78.79 
#9 78.79 149 packages are looking for funding
#9 78.79   run `npm fund` for details
#9 78.79 
#9 78.79 found 0 vulnerabilities
#9 78.79 npm notice 
#9 78.79 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.79 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.79 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.79 npm notice 
#9 DONE 79.7s

#10 [6/6] RUN npm run build
#10 0.670 
#10 0.670 > build
#10 0.670 > turbo run build
#10 0.670 
#10 0.736 • Packages in scope: backend, frontend, local-types
#10 0.736 • Running build in 3 packages
#10 0.736 • Remote caching disabled
#10 0.736 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.021 backend:build: 
#10 1.021 backend:build: > backend@1.0.0 build
#10 1.021 backend:build: > nest build
#10 1.021 backend:build: 
#10 4.993 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.279 frontend:build: 
#10 5.279 frontend:build: > frontend@1.0.0 build
#10 5.279 frontend:build: > tsc && vite build
#10 5.279 frontend:build: 
#10 8.318 frontend:build: vite v4.2.2 building for production...
#10 8.343 frontend:build: transforming...
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.673 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.702 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.705 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.707 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.50 frontend:build: ✓ 4519 modules transformed.
#10 14.81 frontend:build: rendering chunks...
#10 14.82 frontend:build: computing gzip size...
#10 14.85 frontend:build: dist/index.html                                                   0.44 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.85 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.86 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.86 frontend:build: 
#10 14.86 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.86 frontend:build: - Using dynamic import() to code-split the application
#10 14.86 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.86 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.86 frontend:build: ✓ built in 6.54s
#10 14.90 
#10 14.90  Tasks:    2 successful, 2 total
#10 14.90 Cached:    0 cached, 2 total
#10 14.90   Time:    14.225s 
#10 14.90 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:4a09e8c281fa4aef6cbdbbc49d4187c2ae598cee414409aec02d225e18898afa done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:14:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.94261128599987 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.81914139644968 Mbps
          ===============================
        
          ===============================
          Deploy run: 10
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:20 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:17:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22085  - [39m04/22/2023, 4:17:21 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.954 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:17:27
frontend:test:    Duration  1.08s (transform 46ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 77ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2740ms)
frontend:test:     ✓ should checkout and place an order (5602ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2102ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2889ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.784s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.459s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.338 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.023 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.366 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.440 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.488 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.14 
#9 80.14 added 1498 packages, and audited 1502 packages in 1m
#9 80.14 
#9 80.14 149 packages are looking for funding
#9 80.14   run `npm fund` for details
#9 80.14 
#9 80.14 found 0 vulnerabilities
#9 80.14 npm notice 
#9 80.14 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.14 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.14 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.14 npm notice 
#9 DONE 81.3s

#10 [6/6] RUN npm run build
#10 0.702 
#10 0.702 > build
#10 0.702 > turbo run build
#10 0.702 
#10 0.766 • Packages in scope: backend, frontend, local-types
#10 0.766 • Running build in 3 packages
#10 0.766 • Remote caching disabled
#10 0.766 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.052 backend:build: 
#10 1.052 backend:build: > backend@1.0.0 build
#10 1.052 backend:build: > nest build
#10 1.052 backend:build: 
#10 5.045 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.325 frontend:build: 
#10 5.325 frontend:build: > frontend@1.0.0 build
#10 5.325 frontend:build: > tsc && vite build
#10 5.325 frontend:build: 
#10 8.344 frontend:build: vite v4.2.2 building for production...
#10 8.368 frontend:build: transforming...
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.085 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.088 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.092 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.094 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.095 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.097 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.099 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.099 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.691 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.729 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.730 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.733 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.49 frontend:build: ✓ 4519 modules transformed.
#10 14.79 frontend:build: rendering chunks...
#10 14.80 frontend:build: computing gzip size...
#10 14.84 frontend:build: dist/index.html                                                   0.44 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.84 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.84 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.84 frontend:build: 
#10 14.84 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.84 frontend:build: - Using dynamic import() to code-split the application
#10 14.84 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.84 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.84 frontend:build: ✓ built in 6.50s
#10 14.89 
#10 14.89  Tasks:    2 successful, 2 total
#10 14.89 Cached:    0 cached, 2 total
#10 14.89   Time:    14.179s 
#10 14.89 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.0s done
#11 writing image sha256:76b07efcf4aed7c1f1b8d2bb387ef042b31ef0d8d48a8ef4318250dafbfd1de8 done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:17:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.8189856560002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.656647168251794 Mbps
          ===============================
        
          ===============================
          Deploy run: 11
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:20:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:20:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23837  - [39m04/22/2023, 4:20:07 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.788 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:20:13
frontend:test:    Duration  1.06s (transform 41ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 81ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2900ms)
frontend:test:     ✓ should checkout and place an order (5636ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2114ms)
frontend:test:     ✓ should throw an error given invalid credentials (999ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2894ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.61s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.091s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.287 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 1.093 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.515 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.580 OK: 10 MiB in 18 packages
#5 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 6.918 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.49 
#9 79.49 added 1498 packages, and audited 1502 packages in 1m
#9 79.49 
#9 79.49 149 packages are looking for funding
#9 79.49   run `npm fund` for details
#9 79.49 
#9 79.49 found 0 vulnerabilities
#9 79.49 npm notice 
#9 79.49 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.50 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.50 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.50 npm notice 
#9 DONE 81.8s

#10 [6/6] RUN npm run build
#10 0.679 
#10 0.679 > build
#10 0.679 > turbo run build
#10 0.679 
#10 0.745 • Packages in scope: backend, frontend, local-types
#10 0.745 • Running build in 3 packages
#10 0.745 • Remote caching disabled
#10 0.746 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.025 backend:build: 
#10 1.025 backend:build: > backend@1.0.0 build
#10 1.025 backend:build: > nest build
#10 1.025 backend:build: 
#10 4.986 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.268 frontend:build: 
#10 5.268 frontend:build: > frontend@1.0.0 build
#10 5.268 frontend:build: > tsc && vite build
#10 5.268 frontend:build: 
#10 8.289 frontend:build: vite v4.2.2 building for production...
#10 8.314 frontend:build: transforming...
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.089 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.091 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.093 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.095 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.096 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.097 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.098 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.644 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.681 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.682 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.684 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.46 frontend:build: ✓ 4519 modules transformed.
#10 14.77 frontend:build: rendering chunks...
#10 14.78 frontend:build: computing gzip size...
#10 14.82 frontend:build: dist/index.html                                                   0.44 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.82 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.82 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.82 frontend:build: 
#10 14.82 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.82 frontend:build: - Using dynamic import() to code-split the application
#10 14.82 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.82 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.82 frontend:build: ✓ built in 6.53s
#10 14.86 
#10 14.86  Tasks:    2 successful, 2 total
#10 14.86 Cached:    0 cached, 2 total
#10 14.86   Time:    14.173s 
#10 14.86 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:78d2ed3bda0bda4c6f9ec46cfec202ca6a377cb1a4dd2c8b231992b2b9feabf2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:20:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.22377643899992 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.49858216776694 Mbps
          ===============================
        
          ===============================
          Deploy run: 12
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:22:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:22:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25580  - [39m04/22/2023, 4:22:52 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.616 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:22:57
frontend:test:    Duration  1.05s (transform 35ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2751ms)
frontend:test:     ✓ should checkout and place an order (5595ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2042ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2866ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.325s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.811s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.331 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.059 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.466 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.541 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.586 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.97 
#9 78.97 added 1498 packages, and audited 1502 packages in 1m
#9 78.97 
#9 78.97 149 packages are looking for funding
#9 78.97   run `npm fund` for details
#9 78.98 
#9 78.98 found 0 vulnerabilities
#9 78.98 npm notice 
#9 78.98 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.98 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.98 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.98 npm notice 
#9 DONE 86.7s

#10 [6/6] RUN npm run build
#10 0.647 
#10 0.647 > build
#10 0.647 > turbo run build
#10 0.647 
#10 0.714 • Packages in scope: backend, frontend, local-types
#10 0.714 • Running build in 3 packages
#10 0.714 • Remote caching disabled
#10 0.714 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.999 backend:build: 
#10 0.999 backend:build: > backend@1.0.0 build
#10 0.999 backend:build: > nest build
#10 0.999 backend:build: 
#10 4.995 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.279 frontend:build: 
#10 5.279 frontend:build: > frontend@1.0.0 build
#10 5.279 frontend:build: > tsc && vite build
#10 5.279 frontend:build: 
#10 8.320 frontend:build: vite v4.2.2 building for production...
#10 8.343 frontend:build: transforming...
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.133 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.667 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.703 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.705 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.707 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.52 frontend:build: ✓ 4519 modules transformed.
#10 14.82 frontend:build: rendering chunks...
#10 14.83 frontend:build: computing gzip size...
#10 14.87 frontend:build: dist/index.html                                                   0.44 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.87 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.87 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.87 frontend:build: 
#10 14.87 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.87 frontend:build: - Using dynamic import() to code-split the application
#10 14.87 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.87 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.87 frontend:build: ✓ built in 6.55s
#10 14.92 
#10 14.92  Tasks:    2 successful, 2 total
#10 14.92 Cached:    0 cached, 2 total
#10 14.92   Time:    14.262s 
#10 14.92 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:715a2112a722c036f42ca56fd0baa6ae1b3881d59b83c44b45d1017b4ebfe6f3 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:22:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 146.19249035599967 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.60127434758657 Mbps
          ===============================
        
          ===============================
          Deploy run: 13
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:25:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:25:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27314  - [39m04/22/2023, 4:25:41 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.618 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:25:47
frontend:test:    Duration  1.11s (transform 103ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 141ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2786ms)
frontend:test:     ✓ should checkout and place an order (5727ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2082ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2953ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.657s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.15s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.298 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.975 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.357 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.422 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.541 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.19 
#9 79.19 added 1498 packages, and audited 1502 packages in 1m
#9 79.19 
#9 79.19 149 packages are looking for funding
#9 79.19   run `npm fund` for details
#9 79.20 
#9 79.20 found 0 vulnerabilities
#9 79.20 npm notice 
#9 79.20 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.20 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.20 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.20 npm notice 
#9 DONE 85.2s

#10 [6/6] RUN npm run build
#10 0.676 
#10 0.676 > build
#10 0.676 > turbo run build
#10 0.676 
#10 0.742 • Packages in scope: backend, frontend, local-types
#10 0.742 • Running build in 3 packages
#10 0.742 • Remote caching disabled
#10 0.742 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.028 backend:build: 
#10 1.028 backend:build: > backend@1.0.0 build
#10 1.028 backend:build: > nest build
#10 1.028 backend:build: 
#10 4.984 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.274 frontend:build: 
#10 5.274 frontend:build: > frontend@1.0.0 build
#10 5.274 frontend:build: > tsc && vite build
#10 5.274 frontend:build: 
#10 8.292 frontend:build: vite v4.2.2 building for production...
#10 8.315 frontend:build: transforming...
#10 9.056 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.059 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.060 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.062 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.063 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.064 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.065 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.067 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.068 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.069 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.491 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.525 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.526 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.527 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.18 frontend:build: ✓ 4519 modules transformed.
#10 14.48 frontend:build: rendering chunks...
#10 14.49 frontend:build: computing gzip size...
#10 14.53 frontend:build: dist/index.html                                                   0.44 kB
#10 14.53 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.53 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.53 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.53 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.53 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.53 frontend:build: 
#10 14.53 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.53 frontend:build: - Using dynamic import() to code-split the application
#10 14.53 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.53 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.53 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.53 frontend:build: ✓ built in 6.24s
#10 14.57 
#10 14.57  Tasks:    2 successful, 2 total
#10 14.57 Cached:    0 cached, 2 total
#10 14.57   Time:    13.882s 
#10 14.57 
#10 DONE 14.6s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:4116942b8bcab9e2523dabf399570f85638fe8f0221bfd1b2ca7b20939a41faf done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:25:35+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 145.16793982700003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.39299079388896 Mbps
          ===============================
        
          ===============================
          Deploy run: 14
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:28:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:28:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29064  - [39m04/22/2023, 4:28:34 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.72 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:28:40
frontend:test:    Duration  1.13s (transform 127ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 159ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2756ms)
frontend:test:     ✓ should checkout and place an order (5635ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2084ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2861ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.651s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.397s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.340 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.028 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.423 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.488 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.737 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.90 
#9 79.90 added 1498 packages, and audited 1502 packages in 1m
#9 79.90 
#9 79.90 149 packages are looking for funding
#9 79.90   run `npm fund` for details
#9 79.90 
#9 79.90 found 0 vulnerabilities
#9 79.90 npm notice 
#9 79.90 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.90 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.90 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.90 npm notice 
#9 DONE 81.0s

#10 [6/6] RUN npm run build
#10 0.717 
#10 0.717 > build
#10 0.717 > turbo run build
#10 0.717 
#10 0.781 • Packages in scope: backend, frontend, local-types
#10 0.781 • Running build in 3 packages
#10 0.781 • Remote caching disabled
#10 0.781 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.064 backend:build: 
#10 1.064 backend:build: > backend@1.0.0 build
#10 1.064 backend:build: > nest build
#10 1.064 backend:build: 
#10 5.060 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.343 frontend:build: 
#10 5.343 frontend:build: > frontend@1.0.0 build
#10 5.343 frontend:build: > tsc && vite build
#10 5.343 frontend:build: 
#10 8.411 frontend:build: vite v4.2.2 building for production...
#10 8.436 frontend:build: transforming...
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.194 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.194 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.195 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.197 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.199 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.200 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.628 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.660 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.661 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.662 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.40 frontend:build: ✓ 4519 modules transformed.
#10 14.70 frontend:build: rendering chunks...
#10 14.71 frontend:build: computing gzip size...
#10 14.75 frontend:build: dist/index.html                                                   0.44 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.75 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.75 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.75 frontend:build: 
#10 14.75 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.75 frontend:build: - Using dynamic import() to code-split the application
#10 14.75 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.75 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.75 frontend:build: ✓ built in 6.34s
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    14.068s 
#10 14.79 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:81bbb83f91a19cebc43794655f930511c543263e377f3403ef0e276ea987f29c done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:28:28+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.94240944000055 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 36.99806607280502 Mbps
          ===============================
        
          ===============================
          Deploy run: 15
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:31:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:31:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:31:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30808  - [39m04/22/2023, 4:31:18 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.681 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:31:24
frontend:test:    Duration  1.17s (transform 353ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 531ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2781ms)
frontend:test:     ✓ should checkout and place an order (5518ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2041ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2909ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.714s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.431s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.282 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.976 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.382 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.445 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.607 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.50 
#9 79.50 added 1498 packages, and audited 1502 packages in 1m
#9 79.50 
#9 79.50 149 packages are looking for funding
#9 79.50   run `npm fund` for details
#9 79.50 
#9 79.50 found 0 vulnerabilities
#9 79.50 npm notice 
#9 79.50 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.50 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.50 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.50 npm notice 
#9 DONE 86.4s

#10 [6/6] RUN npm run build
#10 0.679 
#10 0.679 > build
#10 0.679 > turbo run build
#10 0.679 
#10 0.745 • Packages in scope: backend, frontend, local-types
#10 0.745 • Running build in 3 packages
#10 0.745 • Remote caching disabled
#10 0.745 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.026 backend:build: 
#10 1.026 backend:build: > backend@1.0.0 build
#10 1.026 backend:build: > nest build
#10 1.026 backend:build: 
#10 4.965 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.256 frontend:build: 
#10 5.256 frontend:build: > frontend@1.0.0 build
#10 5.256 frontend:build: > tsc && vite build
#10 5.256 frontend:build: 
#10 8.336 frontend:build: vite v4.2.2 building for production...
#10 8.361 frontend:build: transforming...
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.149 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.150 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.153 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.683 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.715 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.717 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.718 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.51 frontend:build: ✓ 4519 modules transformed.
#10 14.82 frontend:build: rendering chunks...
#10 14.83 frontend:build: computing gzip size...
#10 14.87 frontend:build: dist/index.html                                                   0.44 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.87 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.87 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.87 frontend:build: 
#10 14.87 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.87 frontend:build: - Using dynamic import() to code-split the application
#10 14.87 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.87 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.87 frontend:build: ✓ built in 6.53s
#10 14.92 
#10 14.92  Tasks:    2 successful, 2 total
#10 14.92 Cached:    0 cached, 2 total
#10 14.92   Time:    14.231s 
#10 14.92 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.1s done
#11 writing image sha256:2f1d992ded356fbd67ffa3b6fb21a5df73dba1704e76817ac91045c21d04c9f8 done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.1s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:31:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 147.87255216199998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.637582210965085 Mbps
          ===============================
        
          ===============================
          Deploy run: 16
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:34:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:34:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32548  - [39m04/22/2023, 4:34:09 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.724 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:34:15
frontend:test:    Duration  1.10s (transform 332ms, setup 1ms, collect 20ms, tests 1ms, environment 0ms, prepare 450ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2800ms)
frontend:test:     ✓ should checkout and place an order (5666ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2093ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2899ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.559s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.027s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.340 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.031 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.405 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.470 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.969 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 82.16 
#9 82.16 added 1498 packages, and audited 1502 packages in 1m
#9 82.16 
#9 82.16 149 packages are looking for funding
#9 82.16   run `npm fund` for details
#9 82.16 
#9 82.16 found 0 vulnerabilities
#9 82.16 npm notice 
#9 82.16 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 82.16 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 82.16 npm notice Run `npm install -g npm@9.6.5` to update!
#9 82.16 npm notice 
#9 DONE 87.8s

#10 [6/6] RUN npm run build
#10 0.702 
#10 0.702 > build
#10 0.702 > turbo run build
#10 0.702 
#10 0.769 • Packages in scope: backend, frontend, local-types
#10 0.770 • Running build in 3 packages
#10 0.770 • Remote caching disabled
#10 0.770 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.055 backend:build: 
#10 1.055 backend:build: > backend@1.0.0 build
#10 1.055 backend:build: > nest build
#10 1.055 backend:build: 
#10 5.003 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.284 frontend:build: 
#10 5.284 frontend:build: > frontend@1.0.0 build
#10 5.284 frontend:build: > tsc && vite build
#10 5.284 frontend:build: 
#10 8.315 frontend:build: vite v4.2.2 building for production...
#10 8.342 frontend:build: transforming...
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.664 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.694 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.696 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.698 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.58 frontend:build: ✓ 4519 modules transformed.
#10 14.87 frontend:build: rendering chunks...
#10 14.88 frontend:build: computing gzip size...
#10 14.92 frontend:build: dist/index.html                                                   0.44 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.92 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.92 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.92 frontend:build: 
#10 14.92 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.92 frontend:build: - Using dynamic import() to code-split the application
#10 14.92 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.92 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.92 frontend:build: ✓ built in 6.60s
#10 14.97 
#10 14.97  Tasks:    2 successful, 2 total
#10 14.97 Cached:    0 cached, 2 total
#10 14.97   Time:    14.253s 
#10 14.97 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:0c7f1f892486210196012f59de8bda284ca761266f1d146a1d46c18026baa023 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:34:03+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 147.39984898099956 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.77150093045355 Mbps
          ===============================
        
          ===============================
          Deploy run: 17
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:36:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1839  - [39m04/22/2023, 4:37:00 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.724 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:37:06
frontend:test:    Duration  1.10s (transform 76ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 125ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2813ms)
frontend:test:     ✓ should checkout and place an order (5620ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2075ms)
frontend:test:     ✓ should throw an error given invalid credentials (1070ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2843ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.725s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.396s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.262 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.016 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.400 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.469 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.869 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.50 
#9 78.50 added 1498 packages, and audited 1502 packages in 1m
#9 78.51 
#9 78.51 149 packages are looking for funding
#9 78.51   run `npm fund` for details
#9 78.51 
#9 78.51 found 0 vulnerabilities
#9 78.51 npm notice 
#9 78.51 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.51 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.51 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.51 npm notice 
#9 DONE 79.3s

#10 [6/6] RUN npm run build
#10 0.652 
#10 0.652 > build
#10 0.652 > turbo run build
#10 0.652 
#10 0.717 • Packages in scope: backend, frontend, local-types
#10 0.717 • Running build in 3 packages
#10 0.717 • Remote caching disabled
#10 0.717 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.997 backend:build: 
#10 0.997 backend:build: > backend@1.0.0 build
#10 0.997 backend:build: > nest build
#10 0.997 backend:build: 
#10 4.975 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.263 frontend:build: 
#10 5.263 frontend:build: > frontend@1.0.0 build
#10 5.263 frontend:build: > tsc && vite build
#10 5.263 frontend:build: 
#10 8.308 frontend:build: vite v4.2.2 building for production...
#10 8.333 frontend:build: transforming...
#10 9.058 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.099 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.102 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.105 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.110 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.112 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.671 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.699 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.706 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.709 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.50 frontend:build: ✓ 4519 modules transformed.
#10 14.81 frontend:build: rendering chunks...
#10 14.82 frontend:build: computing gzip size...
#10 14.85 frontend:build: dist/index.html                                                   0.44 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.85 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.85 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.85 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.85 frontend:build: 
#10 14.85 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.85 frontend:build: - Using dynamic import() to code-split the application
#10 14.85 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.85 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.85 frontend:build: ✓ built in 6.54s
#10 14.90 
#10 14.90  Tasks:    2 successful, 2 total
#10 14.90 Cached:    0 cached, 2 total
#10 14.90   Time:    14.239s 
#10 14.90 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:b6c286c5c78f96291387987e9ba9503447e83ed6a6f88a058b005581bf4e14ce done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:36:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.9210192189999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.94097215644206 Mbps
          ===============================
        
          ===============================
          Deploy run: 18
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:39:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3584  - [39m04/22/2023, 4:39:42 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.718 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:39:48
frontend:test:    Duration  1.08s (transform 56ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 84ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2747ms)
frontend:test:     ✓ should checkout and place an order (5580ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2077ms)
frontend:test:     ✓ should throw an error given invalid credentials (1006ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2898ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.463s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.898s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.306 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.994 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.346 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.413 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.759 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.59 
#9 79.59 added 1498 packages, and audited 1502 packages in 1m
#9 79.59 
#9 79.59 149 packages are looking for funding
#9 79.59   run `npm fund` for details
#9 79.60 
#9 79.60 found 0 vulnerabilities
#9 79.60 npm notice 
#9 79.60 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.60 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.60 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.60 npm notice 
#9 DONE 84.3s

#10 [6/6] RUN npm run build
#10 0.661 
#10 0.661 > build
#10 0.661 > turbo run build
#10 0.661 
#10 0.728 • Packages in scope: backend, frontend, local-types
#10 0.728 • Running build in 3 packages
#10 0.728 • Remote caching disabled
#10 0.728 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.014 backend:build: 
#10 1.014 backend:build: > backend@1.0.0 build
#10 1.014 backend:build: > nest build
#10 1.014 backend:build: 
#10 4.995 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.282 frontend:build: 
#10 5.282 frontend:build: > frontend@1.0.0 build
#10 5.282 frontend:build: > tsc && vite build
#10 5.282 frontend:build: 
#10 8.361 frontend:build: vite v4.2.2 building for production...
#10 8.384 frontend:build: transforming...
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.122 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.557 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.589 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.591 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.593 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 14.29 frontend:build: ✓ 4519 modules transformed.
#10 14.60 frontend:build: rendering chunks...
#10 14.61 frontend:build: computing gzip size...
#10 14.64 frontend:build: dist/index.html                                                   0.44 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.64 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.64 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.64 frontend:build: 
#10 14.64 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.64 frontend:build: - Using dynamic import() to code-split the application
#10 14.64 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.64 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.64 frontend:build: ✓ built in 6.28s
#10 14.69 
#10 14.69  Tasks:    2 successful, 2 total
#10 14.69 Cached:    0 cached, 2 total
#10 14.69   Time:    14.018s 
#10 14.69 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:3b502411f51025d9d1e325bcde7cd6203ece8fedd64f5193cba7bbaf477426f0 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:39:37+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.67144384300056 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.16964758994348 Mbps
          ===============================
        
          ===============================
          Deploy run: 19
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:42:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5340  - [39m04/22/2023, 4:42:29 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.691 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:42:35
frontend:test:    Duration  1.05s (transform 34ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 57ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2845ms)
frontend:test:     ✓ should checkout and place an order (5665ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2050ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2896ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.678s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.111s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.278 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.301 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.378 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.774 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.59 
#9 78.59 added 1498 packages, and audited 1502 packages in 1m
#9 78.59 
#9 78.59 149 packages are looking for funding
#9 78.59   run `npm fund` for details
#9 78.59 
#9 78.59 found 0 vulnerabilities
#9 78.59 npm notice 
#9 78.59 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.59 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.59 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.59 npm notice 
#9 DONE 80.3s

#10 [6/6] RUN npm run build
#10 0.694 
#10 0.694 > build
#10 0.694 > turbo run build
#10 0.694 
#10 0.759 • Packages in scope: backend, frontend, local-types
#10 0.760 • Running build in 3 packages
#10 0.760 • Remote caching disabled
#10 0.761 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.042 backend:build: 
#10 1.042 backend:build: > backend@1.0.0 build
#10 1.042 backend:build: > nest build
#10 1.042 backend:build: 
#10 5.018 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.305 frontend:build: 
#10 5.305 frontend:build: > frontend@1.0.0 build
#10 5.305 frontend:build: > tsc && vite build
#10 5.305 frontend:build: 
#10 8.408 frontend:build: vite v4.2.2 building for production...
#10 8.433 frontend:build: transforming...
#10 9.180 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.194 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.628 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.629 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.631 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.663 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.37 frontend:build: ✓ 4519 modules transformed.
#10 14.67 frontend:build: rendering chunks...
#10 14.68 frontend:build: computing gzip size...
#10 14.71 frontend:build: dist/index.html                                                   0.44 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.71 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.71 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.71 frontend:build: 
#10 14.71 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.71 frontend:build: - Using dynamic import() to code-split the application
#10 14.71 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.71 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.71 frontend:build: ✓ built in 6.31s
#10 14.76 
#10 14.76  Tasks:    2 successful, 2 total
#10 14.76 Cached:    0 cached, 2 total
#10 14.76   Time:    14.055s 
#10 14.76 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:ab4b561d21035b7fa0be274ad97c96824f27964c60e01933d56c95af6ae094b9
#11 writing image sha256:ab4b561d21035b7fa0be274ad97c96824f27964c60e01933d56c95af6ae094b9 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:42:23+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.29763270500024 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.71084911212903 Mbps
          ===============================
        
          ===============================
          Deploy run: 20
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:45:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7094  - [39m04/22/2023, 4:45:13 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.71 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:45:18
frontend:test:    Duration  1.12s (transform 56ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 82ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2807ms)
frontend:test:     ✓ should checkout and place an order (5534ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2129ms)
frontend:test:     ✓ should throw an error given invalid credentials (1010ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2945ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.712s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.435s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.281 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.945 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.348 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.413 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.573 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.99 
#9 81.99 added 1498 packages, and audited 1502 packages in 1m
#9 81.99 
#9 81.99 149 packages are looking for funding
#9 81.99   run `npm fund` for details
#9 81.99 
#9 81.99 found 0 vulnerabilities
#9 81.99 npm notice 
#9 81.99 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.99 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.99 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.99 npm notice 
#9 DONE 82.7s

#10 [6/6] RUN npm run build
#10 0.724 
#10 0.724 > build
#10 0.724 > turbo run build
#10 0.724 
#10 0.793 • Packages in scope: backend, frontend, local-types
#10 0.793 • Running build in 3 packages
#10 0.793 • Remote caching disabled
#10 0.793 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.081 backend:build: 
#10 1.081 backend:build: > backend@1.0.0 build
#10 1.081 backend:build: > nest build
#10 1.081 backend:build: 
#10 5.078 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.365 frontend:build: 
#10 5.365 frontend:build: > frontend@1.0.0 build
#10 5.365 frontend:build: > tsc && vite build
#10 5.365 frontend:build: 
#10 8.422 frontend:build: vite v4.2.2 building for production...
#10 8.447 frontend:build: transforming...
#10 9.200 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.203 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.204 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.208 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.209 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.210 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.212 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.213 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.638 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.669 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.671 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.672 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.40 frontend:build: ✓ 4519 modules transformed.
#10 14.70 frontend:build: rendering chunks...
#10 14.71 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.74 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.74 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.74 frontend:build: 
#10 14.74 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.74 frontend:build: - Using dynamic import() to code-split the application
#10 14.74 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.74 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.32s
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    14.052s 
#10 14.79 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:62b9b0ec975fa5b7bf13d561716318c2171a3608103d332d363218d99b63f8d3 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:45:07+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.48804585999994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.95870999234419 Mbps
          ===============================
        
          ===============================
          Deploy run: 21
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:47:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8854  - [39m04/22/2023, 4:47:58 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.641 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:48:04
frontend:test:    Duration  1.07s (transform 101ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 128ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2766ms)
frontend:test:     ✓ should checkout and place an order (5615ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2091ms)
frontend:test:     ✓ should throw an error given invalid credentials (1043ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2945ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.593s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.009s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.318 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.996 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.371 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.438 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 9.164 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 97.42 
#9 97.42 added 1498 packages, and audited 1502 packages in 2m
#9 97.42 
#9 97.42 149 packages are looking for funding
#9 97.42   run `npm fund` for details
#9 97.42 
#9 97.42 found 0 vulnerabilities
#9 97.42 npm notice 
#9 97.42 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 97.42 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 97.42 npm notice Run `npm install -g npm@9.6.5` to update!
#9 97.42 npm notice 
#9 DONE 100.5s

#10 [6/6] RUN npm run build
#10 0.722 
#10 0.722 > build
#10 0.722 > turbo run build
#10 0.722 
#10 0.789 • Packages in scope: backend, frontend, local-types
#10 0.789 • Running build in 3 packages
#10 0.789 • Remote caching disabled
#10 0.789 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.075 backend:build: 
#10 1.075 backend:build: > backend@1.0.0 build
#10 1.075 backend:build: > nest build
#10 1.075 backend:build: 
#10 5.052 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.335 frontend:build: 
#10 5.335 frontend:build: > frontend@1.0.0 build
#10 5.335 frontend:build: > tsc && vite build
#10 5.335 frontend:build: 
#10 8.375 frontend:build: vite v4.2.2 building for production...
#10 8.400 frontend:build: transforming...
#10 9.103 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.105 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.144 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.147 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.149 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.576 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.607 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.608 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.609 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.31 frontend:build: ✓ 4519 modules transformed.
#10 14.61 frontend:build: rendering chunks...
#10 14.62 frontend:build: computing gzip size...
#10 14.66 frontend:build: dist/index.html                                                   0.44 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.66 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.66 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.66 frontend:build: 
#10 14.66 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.66 frontend:build: - Using dynamic import() to code-split the application
#10 14.66 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.66 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.66 frontend:build: ✓ built in 6.28s
#10 14.70 
#10 14.70  Tasks:    2 successful, 2 total
#10 14.70 Cached:    0 cached, 2 total
#10 14.70   Time:    13.964s 
#10 14.70 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:ff463406e887305fe0a749b74d1a7324c3ef74a870af0ca98b88b60776b44e51 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:47:52+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 160.54674335400014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.02488123956454 Mbps
          ===============================
        
          ===============================
          Deploy run: 22
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:50:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10610  - [39m04/22/2023, 4:51:02 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.809 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:51:08
frontend:test:    Duration  1.07s (transform 47ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 72ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2805ms)
frontend:test:     ✓ should checkout and place an order (5565ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2043ms)
frontend:test:     ✓ should throw an error given invalid credentials (995ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2867ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.647s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.21s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.289 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 0.976 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.397 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.465 OK: 10 MiB in 18 packages
#5 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.1s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.509 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.42 
#9 78.42 added 1498 packages, and audited 1502 packages in 1m
#9 78.42 
#9 78.42 149 packages are looking for funding
#9 78.42   run `npm fund` for details
#9 78.42 
#9 78.42 found 0 vulnerabilities
#9 78.42 npm notice 
#9 78.42 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.42 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.42 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.42 npm notice 
#9 DONE 78.9s

#10 [6/6] RUN npm run build
#10 0.706 
#10 0.706 > build
#10 0.706 > turbo run build
#10 0.706 
#10 0.774 • Packages in scope: backend, frontend, local-types
#10 0.774 • Running build in 3 packages
#10 0.774 • Remote caching disabled
#10 0.774 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.057 backend:build: 
#10 1.057 backend:build: > backend@1.0.0 build
#10 1.057 backend:build: > nest build
#10 1.057 backend:build: 
#10 5.029 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.315 frontend:build: 
#10 5.315 frontend:build: > frontend@1.0.0 build
#10 5.315 frontend:build: > tsc && vite build
#10 5.315 frontend:build: 
#10 8.355 frontend:build: vite v4.2.2 building for production...
#10 8.380 frontend:build: transforming...
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.161 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.162 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.163 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.165 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.167 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.168 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.690 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.724 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.727 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.729 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.47 frontend:build: ✓ 4519 modules transformed.
#10 14.78 frontend:build: rendering chunks...
#10 14.79 frontend:build: computing gzip size...
#10 14.82 frontend:build: dist/index.html                                                   0.44 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.82 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.82 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.82 frontend:build: 
#10 14.82 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.82 frontend:build: - Using dynamic import() to code-split the application
#10 14.82 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.82 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.82 frontend:build: ✓ built in 6.47s
#10 14.87 
#10 14.87  Tasks:    2 successful, 2 total
#10 14.87 Cached:    0 cached, 2 total
#10 14.87   Time:    14.151s 
#10 14.87 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:012653b400f742d7a5636e0d3fcadee90e114b447b6af93fc99e0e385ff8dcc3 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:50:56+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.84139011400006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.65050841919879 Mbps
          ===============================
        
          ===============================
          Deploy run: 23
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:53:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12352  - [39m04/22/2023, 4:53:44 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
frontend:dev:test: 4:53:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.829 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:53:50
frontend:test:    Duration  1.05s (transform 38ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 70ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2736ms)
frontend:test:     ✓ should checkout and place an order (5572ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2131ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2943ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.664s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.494s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.236 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.912 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.297 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.371 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.776 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.32 
#9 81.32 added 1498 packages, and audited 1502 packages in 1m
#9 81.32 
#9 81.32 149 packages are looking for funding
#9 81.32   run `npm fund` for details
#9 81.32 
#9 81.32 found 0 vulnerabilities
#9 81.32 npm notice 
#9 81.32 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.32 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.32 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.32 npm notice 
#9 DONE 85.9s

#10 [6/6] RUN npm run build
#10 0.701 
#10 0.701 > build
#10 0.701 > turbo run build
#10 0.701 
#10 0.767 • Packages in scope: backend, frontend, local-types
#10 0.767 • Running build in 3 packages
#10 0.767 • Remote caching disabled
#10 0.767 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.054 backend:build: 
#10 1.054 backend:build: > backend@1.0.0 build
#10 1.054 backend:build: > nest build
#10 1.054 backend:build: 
#10 5.036 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.320 frontend:build: 
#10 5.320 frontend:build: > frontend@1.0.0 build
#10 5.320 frontend:build: > tsc && vite build
#10 5.320 frontend:build: 
#10 8.331 frontend:build: vite v4.2.2 building for production...
#10 8.355 frontend:build: transforming...
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.108 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.122 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.670 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.699 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.701 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.703 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.47 frontend:build: ✓ 4519 modules transformed.
#10 14.78 frontend:build: rendering chunks...
#10 14.79 frontend:build: computing gzip size...
#10 14.82 frontend:build: dist/index.html                                                   0.44 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.82 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.82 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.82 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.82 frontend:build: 
#10 14.82 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.82 frontend:build: - Using dynamic import() to code-split the application
#10 14.82 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.82 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.83 frontend:build: ✓ built in 6.49s
#10 14.87 
#10 14.87  Tasks:    2 successful, 2 total
#10 14.87 Cached:    0 cached, 2 total
#10 14.87   Time:    14.161s 
#10 14.87 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:a45a3082d8e6fa2873496352f6c52f383fd394cbb067752c81914e69be4b95a8 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:53:38+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 146.65207000200078 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.781870881578776 Mbps
          ===============================
        
          ===============================
          Deploy run: 24
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:56:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14087  - [39m04/22/2023, 4:56:34 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.676 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:56:40
frontend:test:    Duration  1.04s (transform 34ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2775ms)
frontend:test:     ✓ should checkout and place an order (5442ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2061ms)
frontend:test:     ✓ should throw an error given invalid credentials (1003ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2858ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.096s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.577s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.281 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.953 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.362 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.432 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.010 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.93 
#9 78.93 added 1498 packages, and audited 1502 packages in 1m
#9 78.93 
#9 78.93 149 packages are looking for funding
#9 78.93   run `npm fund` for details
#9 78.93 
#9 78.93 found 0 vulnerabilities
#9 78.93 npm notice 
#9 78.93 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.93 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.93 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.93 npm notice 
#9 DONE 79.7s

#10 [6/6] RUN npm run build
#10 0.662 
#10 0.662 > build
#10 0.662 > turbo run build
#10 0.662 
#10 0.725 • Packages in scope: backend, frontend, local-types
#10 0.725 • Running build in 3 packages
#10 0.725 • Remote caching disabled
#10 0.726 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.010 backend:build: 
#10 1.010 backend:build: > backend@1.0.0 build
#10 1.010 backend:build: > nest build
#10 1.010 backend:build: 
#10 5.029 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.315 frontend:build: 
#10 5.315 frontend:build: > frontend@1.0.0 build
#10 5.315 frontend:build: > tsc && vite build
#10 5.315 frontend:build: 
#10 8.398 frontend:build: vite v4.2.2 building for production...
#10 8.422 frontend:build: transforming...
#10 9.165 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.167 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.169 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.172 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.176 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.609 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.642 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.643 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.645 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.39 frontend:build: ✓ 4519 modules transformed.
#10 14.69 frontend:build: rendering chunks...
#10 14.70 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.74 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.74 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.74 frontend:build: 
#10 14.74 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.74 frontend:build: - Using dynamic import() to code-split the application
#10 14.74 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.74 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.34s
#10 14.78 
#10 14.78  Tasks:    2 successful, 2 total
#10 14.78 Cached:    0 cached, 2 total
#10 14.78   Time:    14.114s 
#10 14.78 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:294763a62ca60030c5acf0e2cdf7dda7e2a1aab77de5b053808ced4b505492c4 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:56:28+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.60012751000002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.44321479664411 Mbps
          ===============================
        
          ===============================
          Deploy run: 25
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:59:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +23ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15831  - [39m04/22/2023, 4:59:16 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.672 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  04:59:22
frontend:test:    Duration  1.15s (transform 129ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2800ms)
frontend:test:     ✓ should checkout and place an order (5476ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2066ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2828ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.37s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.791s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.313 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.015 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.408 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.471 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.440 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.09 
#9 80.09 added 1498 packages, and audited 1502 packages in 1m
#9 80.09 
#9 80.09 149 packages are looking for funding
#9 80.09   run `npm fund` for details
#9 80.09 
#9 80.09 found 0 vulnerabilities
#9 80.10 npm notice 
#9 80.10 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.10 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.10 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.10 npm notice 
#9 DONE 80.8s

#10 [6/6] RUN npm run build
#10 0.712 
#10 0.712 > build
#10 0.712 > turbo run build
#10 0.712 
#10 0.777 • Packages in scope: backend, frontend, local-types
#10 0.777 • Running build in 3 packages
#10 0.777 • Remote caching disabled
#10 0.777 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.062 backend:build: 
#10 1.062 backend:build: > backend@1.0.0 build
#10 1.062 backend:build: > nest build
#10 1.062 backend:build: 
#10 5.034 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.320 frontend:build: 
#10 5.320 frontend:build: > frontend@1.0.0 build
#10 5.320 frontend:build: > tsc && vite build
#10 5.320 frontend:build: 
#10 8.357 frontend:build: vite v4.2.2 building for production...
#10 8.380 frontend:build: transforming...
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.164 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.165 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.167 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.168 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.169 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.718 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.748 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.750 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.752 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.55 frontend:build: ✓ 4519 modules transformed.
#10 14.85 frontend:build: rendering chunks...
#10 14.86 frontend:build: computing gzip size...
#10 14.89 frontend:build: dist/index.html                                                   0.44 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.89 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.89 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.89 frontend:build: 
#10 14.89 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.89 frontend:build: - Using dynamic import() to code-split the application
#10 14.89 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.89 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.89 frontend:build: ✓ built in 6.54s
#10 14.94 
#10 14.94  Tasks:    2 successful, 2 total
#10 14.94 Cached:    0 cached, 2 total
#10 14.94   Time:    14.222s 
#10 14.94 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:f81624d0875b67668303932776d969fe5171b25e557ff5cd4a5f190065b39f85 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T04:59:10+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.96574597400055 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.59778903331715 Mbps
          ===============================
        
          ===============================
          Deploy run: 26
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 207 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:01:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17579  - [39m04/22/2023, 5:02:01 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.726 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:02:07
frontend:test:    Duration  1.14s (transform 50ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2691ms)
frontend:test:     ✓ should checkout and place an order (5521ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2077ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2924ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.617s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.078s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.280 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 0.973 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.383 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.450 OK: 10 MiB in 18 packages
#5 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.276 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.33 
#9 79.33 added 1498 packages, and audited 1502 packages in 1m
#9 79.33 
#9 79.33 149 packages are looking for funding
#9 79.33   run `npm fund` for details
#9 79.33 
#9 79.33 found 0 vulnerabilities
#9 79.33 npm notice 
#9 79.33 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.33 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.33 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.33 npm notice 
#9 DONE 80.3s

#10 [6/6] RUN npm run build
#10 0.655 
#10 0.655 > build
#10 0.655 > turbo run build
#10 0.655 
#10 0.723 • Packages in scope: backend, frontend, local-types
#10 0.723 • Running build in 3 packages
#10 0.723 • Remote caching disabled
#10 0.723 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.008 backend:build: 
#10 1.008 backend:build: > backend@1.0.0 build
#10 1.008 backend:build: > nest build
#10 1.008 backend:build: 
#10 4.996 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.281 frontend:build: 
#10 5.281 frontend:build: > frontend@1.0.0 build
#10 5.281 frontend:build: > tsc && vite build
#10 5.281 frontend:build: 
#10 8.331 frontend:build: vite v4.2.2 building for production...
#10 8.355 frontend:build: transforming...
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.688 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.719 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.720 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.722 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.49 frontend:build: ✓ 4519 modules transformed.
#10 14.81 frontend:build: rendering chunks...
#10 14.82 frontend:build: computing gzip size...
#10 14.86 frontend:build: dist/index.html                                                   0.44 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.86 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.86 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.86 frontend:build: 
#10 14.86 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.86 frontend:build: - Using dynamic import() to code-split the application
#10 14.86 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.86 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.86 frontend:build: ✓ built in 6.53s
#10 14.91 
#10 14.91  Tasks:    2 successful, 2 total
#10 14.91 Cached:    0 cached, 2 total
#10 14.91   Time:    14.241s 
#10 14.91 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:ffb4687f6a336545d6fdfd41ed77c6a81e768d45ca3611cfd6e8b39439993f9b done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:01:55+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.83630638800003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.96399203290298 Mbps
          ===============================
        
          ===============================
          Deploy run: 27
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:04:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:44 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19335  - [39m04/22/2023, 5:04:45 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.785 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:04:51
frontend:test:    Duration  1.17s (transform 203ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 284ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2749ms)
frontend:test:     ✓ should checkout and place an order (5608ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2029ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.807s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.249s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.310 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.985 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.374 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.446 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.237 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.30 
#9 78.30 added 1498 packages, and audited 1502 packages in 1m
#9 78.30 
#9 78.30 149 packages are looking for funding
#9 78.30   run `npm fund` for details
#9 78.31 
#9 78.31 found 0 vulnerabilities
#9 78.31 npm notice 
#9 78.31 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.31 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.31 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.31 npm notice 
#9 DONE 79.0s

#10 [6/6] RUN npm run build
#10 0.661 
#10 0.661 > build
#10 0.661 > turbo run build
#10 0.661 
#10 0.727 • Packages in scope: backend, frontend, local-types
#10 0.727 • Running build in 3 packages
#10 0.727 • Remote caching disabled
#10 0.727 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.011 backend:build: 
#10 1.011 backend:build: > backend@1.0.0 build
#10 1.011 backend:build: > nest build
#10 1.011 backend:build: 
#10 5.020 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.302 frontend:build: 
#10 5.302 frontend:build: > frontend@1.0.0 build
#10 5.302 frontend:build: > tsc && vite build
#10 5.302 frontend:build: 
#10 8.361 frontend:build: vite v4.2.2 building for production...
#10 8.386 frontend:build: transforming...
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.171 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.175 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.178 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.602 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.635 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.637 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.638 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.36 frontend:build: ✓ 4519 modules transformed.
#10 14.66 frontend:build: rendering chunks...
#10 14.67 frontend:build: computing gzip size...
#10 14.71 frontend:build: dist/index.html                                                   0.44 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.71 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.71 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.71 frontend:build: 
#10 14.71 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.71 frontend:build: - Using dynamic import() to code-split the application
#10 14.71 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.71 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.71 frontend:build: ✓ built in 6.34s
#10 14.75 
#10 14.75  Tasks:    2 successful, 2 total
#10 14.75 Cached:    0 cached, 2 total
#10 14.75   Time:    14.08s 
#10 14.75 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:593ad566db273d08fe12483635650d180366b65507ae77bc406e4c862970b9e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:04:39+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.26301324300002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.58492589689271 Mbps
          ===============================
        
          ===============================
          Deploy run: 28
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:07:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21093  - [39m04/22/2023, 5:07:27 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.62 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:07:33
frontend:test:    Duration  1.04s (transform 47ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2792ms)
frontend:test:     ✓ should checkout and place an order (5568ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2082ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2903ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.466s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.938s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.299 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.985 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.449 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.521 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.753 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.20 
#9 80.20 added 1498 packages, and audited 1502 packages in 1m
#9 80.20 
#9 80.20 149 packages are looking for funding
#9 80.20   run `npm fund` for details
#9 80.20 
#9 80.20 found 0 vulnerabilities
#9 80.20 npm notice 
#9 80.20 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.20 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.20 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.20 npm notice 
#9 DONE 80.8s

#10 [6/6] RUN npm run build
#10 0.718 
#10 0.718 > build
#10 0.718 > turbo run build
#10 0.718 
#10 0.784 • Packages in scope: backend, frontend, local-types
#10 0.784 • Running build in 3 packages
#10 0.784 • Remote caching disabled
#10 0.784 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.066 backend:build: 
#10 1.066 backend:build: > backend@1.0.0 build
#10 1.066 backend:build: > nest build
#10 1.066 backend:build: 
#10 5.010 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.298 frontend:build: 
#10 5.298 frontend:build: > frontend@1.0.0 build
#10 5.298 frontend:build: > tsc && vite build
#10 5.298 frontend:build: 
#10 8.348 frontend:build: vite v4.2.2 building for production...
#10 8.372 frontend:build: transforming...
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.147 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.149 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.705 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.734 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.736 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.738 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.56 frontend:build: ✓ 4519 modules transformed.
#10 14.86 frontend:build: rendering chunks...
#10 14.87 frontend:build: computing gzip size...
#10 14.91 frontend:build: dist/index.html                                                   0.44 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.91 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.91 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.91 frontend:build: 
#10 14.91 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.91 frontend:build: - Using dynamic import() to code-split the application
#10 14.91 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.91 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.91 frontend:build: ✓ built in 6.56s
#10 14.96 
#10 14.96  Tasks:    2 successful, 2 total
#10 14.96 Cached:    0 cached, 2 total
#10 14.96   Time:    14.227s 
#10 14.96 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:3a586d14ff20548063500b9396a1019c019e73769770d41d66536cc734421689 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:07:21+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.36610434200057 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.06522402036167 Mbps
          ===============================
        
          ===============================
          Deploy run: 29
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 5:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22847  - [39m04/22/2023, 5:10:12 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +62ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.742 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:10:18
frontend:test:    Duration  1.04s (transform 59ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5576ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2066ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2883ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.532s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.933s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.287 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.964 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.312 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.381 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.730 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.39 
#9 81.39 added 1498 packages, and audited 1502 packages in 1m
#9 81.39 
#9 81.39 149 packages are looking for funding
#9 81.39   run `npm fund` for details
#9 81.39 
#9 81.39 found 0 vulnerabilities
#9 81.39 npm notice 
#9 81.39 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.39 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.39 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.39 npm notice 
#9 DONE 82.0s

#10 [6/6] RUN npm run build
#10 0.669 
#10 0.669 > build
#10 0.669 > turbo run build
#10 0.669 
#10 0.735 • Packages in scope: backend, frontend, local-types
#10 0.735 • Running build in 3 packages
#10 0.735 • Remote caching disabled
#10 0.735 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.020 backend:build: 
#10 1.020 backend:build: > backend@1.0.0 build
#10 1.020 backend:build: > nest build
#10 1.020 backend:build: 
#10 4.993 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.274 frontend:build: 
#10 5.274 frontend:build: > frontend@1.0.0 build
#10 5.274 frontend:build: > tsc && vite build
#10 5.274 frontend:build: 
#10 8.329 frontend:build: vite v4.2.2 building for production...
#10 8.353 frontend:build: transforming...
#10 9.098 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.100 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.101 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.105 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.108 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.110 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.112 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.537 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.568 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.570 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.686 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.28 frontend:build: ✓ 4519 modules transformed.
#10 14.59 frontend:build: rendering chunks...
#10 14.61 frontend:build: computing gzip size...
#10 14.64 frontend:build: dist/index.html                                                   0.44 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.64 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.64 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.64 frontend:build: 
#10 14.64 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.64 frontend:build: - Using dynamic import() to code-split the application
#10 14.64 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.64 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.64 frontend:build: ✓ built in 6.31s
#10 14.68 
#10 14.68  Tasks:    2 successful, 2 total
#10 14.68 Cached:    0 cached, 2 total
#10 14.68   Time:    14.005s 
#10 14.68 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:2572156dc219ad31797ea5940dc66a0b7168725f01343553b556aca173f6ff49 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:10:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.93177998800016 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.01448417823314 Mbps
          ===============================
        
          ===============================
          Deploy run: 30
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 94ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:12:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:12:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:12:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24585  - [39m04/22/2023, 5:12:57 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.633 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:13:04
frontend:test:    Duration  1.08s (transform 68ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 108ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2724ms)
frontend:test:     ✓ should checkout and place an order (5522ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2147ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2907ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.523s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.221s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.283 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.956 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.665 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.745 OK: 10 MiB in 18 packages
#6 DONE 1.8s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 8.753 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.05 
#9 79.05 added 1498 packages, and audited 1502 packages in 1m
#9 79.05 
#9 79.05 149 packages are looking for funding
#9 79.05   run `npm fund` for details
#9 79.05 
#9 79.05 found 0 vulnerabilities
#9 79.05 npm notice 
#9 79.05 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.05 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.05 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.05 npm notice 
#9 DONE 79.6s

#10 [6/6] RUN npm run build
#10 0.666 
#10 0.666 > build
#10 0.666 > turbo run build
#10 0.666 
#10 0.734 • Packages in scope: backend, frontend, local-types
#10 0.734 • Running build in 3 packages
#10 0.734 • Remote caching disabled
#10 0.734 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.017 backend:build: 
#10 1.017 backend:build: > backend@1.0.0 build
#10 1.017 backend:build: > nest build
#10 1.017 backend:build: 
#10 5.006 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.288 frontend:build: 
#10 5.288 frontend:build: > frontend@1.0.0 build
#10 5.288 frontend:build: > tsc && vite build
#10 5.288 frontend:build: 
#10 8.346 frontend:build: vite v4.2.2 building for production...
#10 8.370 frontend:build: transforming...
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.150 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.154 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.697 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.726 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.728 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.730 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.48 frontend:build: ✓ 4519 modules transformed.
#10 14.79 frontend:build: rendering chunks...
#10 14.80 frontend:build: computing gzip size...
#10 14.84 frontend:build: dist/index.html                                                   0.44 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.84 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.84 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.84 frontend:build: 
#10 14.84 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.84 frontend:build: - Using dynamic import() to code-split the application
#10 14.84 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.84 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.84 frontend:build: ✓ built in 6.49s
#10 14.89 
#10 14.89  Tasks:    2 successful, 2 total
#10 14.89 Cached:    0 cached, 2 total
#10 14.89   Time:    14.212s 
#10 14.89 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:02f1f000be6aab0210642d1cd34ebfeceb1d2e62b15115416f73040697b3b4ce done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:12:52+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.8704240819998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.69598878205237 Mbps
          ===============================
        
          ===============================
          Deploy run: 31
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:15:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:15:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26316  - [39m04/22/2023, 5:15:39 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.813 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:15:45
frontend:test:    Duration  1.17s (transform 292ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 395ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2765ms)
frontend:test:     ✓ should checkout and place an order (5525ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1060ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2878ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.792s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.814s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.263 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.344 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.418 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.081 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.60 
#9 79.60 added 1498 packages, and audited 1502 packages in 1m
#9 79.60 
#9 79.60 149 packages are looking for funding
#9 79.60   run `npm fund` for details
#9 79.60 
#9 79.60 found 0 vulnerabilities
#9 79.60 npm notice 
#9 79.60 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.60 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.60 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.60 npm notice 
#9 DONE 80.6s

#10 [6/6] RUN npm run build
#10 0.711 
#10 0.711 > build
#10 0.711 > turbo run build
#10 0.711 
#10 0.776 • Packages in scope: backend, frontend, local-types
#10 0.776 • Running build in 3 packages
#10 0.776 • Remote caching disabled
#10 0.776 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.063 backend:build: 
#10 1.063 backend:build: > backend@1.0.0 build
#10 1.063 backend:build: > nest build
#10 1.063 backend:build: 
#10 5.037 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.324 frontend:build: 
#10 5.324 frontend:build: > frontend@1.0.0 build
#10 5.324 frontend:build: > tsc && vite build
#10 5.324 frontend:build: 
#10 8.409 frontend:build: vite v4.2.2 building for production...
#10 8.434 frontend:build: transforming...
#10 9.201 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.205 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.213 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.214 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.215 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.216 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.217 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.219 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.219 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.771 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.805 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.807 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.809 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.61 frontend:build: ✓ 4519 modules transformed.
#10 14.91 frontend:build: rendering chunks...
#10 14.92 frontend:build: computing gzip size...
#10 14.96 frontend:build: dist/index.html                                                   0.44 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.96 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.96 frontend:build: 
#10 14.96 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.96 frontend:build: - Using dynamic import() to code-split the application
#10 14.96 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.96 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.96 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.96 frontend:build: ✓ built in 6.55s
#10 15.01 
#10 15.01  Tasks:    2 successful, 2 total
#10 15.01 Cached:    0 cached, 2 total
#10 15.01   Time:    14.285s 
#10 15.01 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:d6e924618bf30b05d452062e06343c5e9549658ab78a9e033df99e83d24cf28f done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:15:34+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.58878902100025 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.0091258918705 Mbps
          ===============================
        
          ===============================
          Deploy run: 32
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:18:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:18:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28067  - [39m04/22/2023, 5:18:23 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.692 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:18:29
frontend:test:    Duration  1.23s (transform 355ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 566ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2934ms)
frontend:test:     ✓ should checkout and place an order (5531ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2103ms)
frontend:test:     ✓ should throw an error given invalid credentials (1015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.878s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.399s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.1s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.291 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.974 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.400 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.462 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.763 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.34 
#9 78.34 added 1498 packages, and audited 1502 packages in 1m
#9 78.34 
#9 78.34 149 packages are looking for funding
#9 78.34   run `npm fund` for details
#9 78.34 
#9 78.34 found 0 vulnerabilities
#9 78.34 npm notice 
#9 78.34 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.34 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.34 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.34 npm notice 
#9 DONE 79.0s

#10 [6/6] RUN npm run build
#10 0.697 
#10 0.697 > build
#10 0.697 > turbo run build
#10 0.697 
#10 0.772 • Packages in scope: backend, frontend, local-types
#10 0.772 • Running build in 3 packages
#10 0.772 • Remote caching disabled
#10 0.772 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.052 backend:build: 
#10 1.052 backend:build: > backend@1.0.0 build
#10 1.052 backend:build: > nest build
#10 1.052 backend:build: 
#10 5.037 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.321 frontend:build: 
#10 5.321 frontend:build: > frontend@1.0.0 build
#10 5.321 frontend:build: > tsc && vite build
#10 5.321 frontend:build: 
#10 8.366 frontend:build: vite v4.2.2 building for production...
#10 8.389 frontend:build: transforming...
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.568 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.599 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.600 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.602 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.67 frontend:build: rendering chunks...
#10 14.68 frontend:build: computing gzip size...
#10 14.71 frontend:build: dist/index.html                                                   0.44 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.71 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.71 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.71 frontend:build: 
#10 14.71 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.71 frontend:build: - Using dynamic import() to code-split the application
#10 14.71 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.71 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.71 frontend:build: ✓ built in 6.35s
#10 14.75 
#10 14.75  Tasks:    2 successful, 2 total
#10 14.75 Cached:    0 cached, 2 total
#10 14.75   Time:    14.047s 
#10 14.75 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:6c9749da7f049484b5f554dafc68cff4111381f66c19eecc8cca47680fff28a5 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:18:17+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.85249812200013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.98272922080181 Mbps
          ===============================
        
          ===============================
          Deploy run: 33
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 207 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:21:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:21:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29818  - [39m04/22/2023, 5:21:04 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.859 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:21:10
frontend:test:    Duration  1.06s (transform 49ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 81ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2824ms)
frontend:test:     ✓ should checkout and place an order (5509ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2074ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2851ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.652s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.394s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.286 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.974 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.307 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.380 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 9.198 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.86 
#9 78.86 added 1498 packages, and audited 1502 packages in 1m
#9 78.86 
#9 78.86 149 packages are looking for funding
#9 78.86   run `npm fund` for details
#9 78.86 
#9 78.86 found 0 vulnerabilities
#9 78.86 npm notice 
#9 78.86 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.86 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.86 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.86 npm notice 
#9 DONE 79.6s

#10 [6/6] RUN npm run build
#10 0.677 
#10 0.677 > build
#10 0.677 > turbo run build
#10 0.677 
#10 0.741 • Packages in scope: backend, frontend, local-types
#10 0.741 • Running build in 3 packages
#10 0.741 • Remote caching disabled
#10 0.741 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.023 backend:build: 
#10 1.023 backend:build: > backend@1.0.0 build
#10 1.023 backend:build: > nest build
#10 1.023 backend:build: 
#10 5.053 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.337 frontend:build: 
#10 5.337 frontend:build: > frontend@1.0.0 build
#10 5.337 frontend:build: > tsc && vite build
#10 5.337 frontend:build: 
#10 8.401 frontend:build: vite v4.2.2 building for production...
#10 8.425 frontend:build: transforming...
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.168 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.171 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.172 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.176 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.176 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.594 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.625 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.626 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.628 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.65 frontend:build: rendering chunks...
#10 14.66 frontend:build: computing gzip size...
#10 14.70 frontend:build: dist/index.html                                                   0.44 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.70 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.70 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.70 frontend:build: 
#10 14.70 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.70 frontend:build: - Using dynamic import() to code-split the application
#10 14.70 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.70 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.70 frontend:build: ✓ built in 6.30s
#10 14.74 
#10 14.74  Tasks:    2 successful, 2 total
#10 14.74 Cached:    0 cached, 2 total
#10 14.74   Time:    14.056s 
#10 14.74 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:eba874c61a41f8a6f791ecfef5b351727643b397bc638cc6d29397785b5a7c34 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:20:58+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.1481132139992 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.81065620006765 Mbps
          ===============================
        
          ===============================
          Deploy run: 34
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:23:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:23:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31559  - [39m04/22/2023, 5:23:46 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.699 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:23:52
frontend:test:    Duration  1.12s (transform 60ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2845ms)
frontend:test:     ✓ should checkout and place an order (5663ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2148ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2855ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.781s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.264s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.293 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.974 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.448 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.518 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.434 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.06 
#9 79.06 added 1498 packages, and audited 1502 packages in 1m
#9 79.06 
#9 79.06 149 packages are looking for funding
#9 79.06   run `npm fund` for details
#9 79.06 
#9 79.06 found 0 vulnerabilities
#9 79.07 npm notice 
#9 79.07 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.07 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.07 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.07 npm notice 
#9 DONE 104.6s

#10 [6/6] RUN npm run build
#10 0.833 
#10 0.833 > build
#10 0.833 > turbo run build
#10 0.833 
#10 0.901 • Packages in scope: backend, frontend, local-types
#10 0.901 • Running build in 3 packages
#10 0.901 • Remote caching disabled
#10 0.901 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.198 backend:build: 
#10 1.198 backend:build: > backend@1.0.0 build
#10 1.198 backend:build: > nest build
#10 1.198 backend:build: 
#10 5.174 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.466 frontend:build: 
#10 5.466 frontend:build: > frontend@1.0.0 build
#10 5.466 frontend:build: > tsc && vite build
#10 5.466 frontend:build: 
#10 8.507 frontend:build: vite v4.2.2 building for production...
#10 8.531 frontend:build: transforming...
#10 9.301 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.303 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.304 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.307 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.308 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.309 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.310 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.312 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.313 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.313 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.862 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.891 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.894 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.896 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.80 frontend:build: ✓ 4519 modules transformed.
#10 15.11 frontend:build: rendering chunks...
#10 15.12 frontend:build: computing gzip size...
#10 15.15 frontend:build: dist/index.html                                                   0.44 kB
#10 15.15 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.15 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.15 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.15 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.15 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.15 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.15 frontend:build: 
#10 15.15 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.15 frontend:build: - Using dynamic import() to code-split the application
#10 15.15 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.15 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.15 frontend:build: ✓ built in 6.64s
#10 15.20 
#10 15.20  Tasks:    2 successful, 2 total
#10 15.20 Cached:    0 cached, 2 total
#10 15.20   Time:    14.355s 
#10 15.20 
#10 DONE 15.5s

#11 exporting to image
#11 exporting layers
#11 exporting layers 9.6s done
#11 writing image sha256:f8de85be57f057ec3fd6255144837c3edfc2beb6d0a57e1938e0982ee4f26f16 0.0s done
#11 naming to docker.io/library/gift-app done
#11 DONE 9.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:23:41+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 169.70427378400043 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.04098300409458 Mbps
          ===============================
        
          ===============================
          Deploy run: 35
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:26:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:26:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:27:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 837  - [39m04/22/2023, 5:27:00 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.754 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:27:06
frontend:test:    Duration  1.05s (transform 41ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 79ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2828ms)
frontend:test:     ✓ should checkout and place an order (5521ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2109ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2948ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.051s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.792s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.315 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.001 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.656 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.727 OK: 10 MiB in 18 packages
#6 DONE 1.8s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.034 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.81 
#9 81.81 added 1498 packages, and audited 1502 packages in 1m
#9 81.81 
#9 81.81 149 packages are looking for funding
#9 81.81   run `npm fund` for details
#9 81.82 
#9 81.82 found 0 vulnerabilities
#9 81.82 npm notice 
#9 81.82 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.82 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.82 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.82 npm notice 
#9 DONE 82.5s

#10 [6/6] RUN npm run build
#10 0.656 
#10 0.656 > build
#10 0.656 > turbo run build
#10 0.656 
#10 0.724 • Packages in scope: backend, frontend, local-types
#10 0.724 • Running build in 3 packages
#10 0.724 • Remote caching disabled
#10 0.724 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.020 backend:build: 
#10 1.020 backend:build: > backend@1.0.0 build
#10 1.020 backend:build: > nest build
#10 1.020 backend:build: 
#10 5.126 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.431 frontend:build: 
#10 5.431 frontend:build: > frontend@1.0.0 build
#10 5.431 frontend:build: > tsc && vite build
#10 5.431 frontend:build: 
#10 8.593 frontend:build: vite v4.2.2 building for production...
#10 8.618 frontend:build: transforming...
#10 9.361 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.403 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.404 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.406 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.407 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.408 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.409 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.411 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.412 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.413 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.848 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.879 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.880 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.882 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.79 frontend:build: ✓ 4519 modules transformed.
#10 15.09 frontend:build: rendering chunks...
#10 15.10 frontend:build: computing gzip size...
#10 15.14 frontend:build: dist/index.html                                                   0.44 kB
#10 15.14 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.14 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.14 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.14 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.14 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.14 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.14 frontend:build: 
#10 15.14 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.14 frontend:build: - Using dynamic import() to code-split the application
#10 15.14 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.14 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.14 frontend:build: ✓ built in 6.54s
#10 15.18 
#10 15.18  Tasks:    2 successful, 2 total
#10 15.18 Cached:    0 cached, 2 total
#10 15.18   Time:    14.517s 
#10 15.18 
#10 DONE 15.2s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.8s done
#11 writing image sha256:1f9257a3ceb3daad7fa676fc49d9660fc828a78c40c06308cda98105ec3b4527 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.9s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:26:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.59036797000002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 35.52698305079711 Mbps
          ===============================
        
          ===============================
          Deploy run: 36
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:29:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:29:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:29:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:46 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2584  - [39m04/22/2023, 5:29:47 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.733 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:29:53
frontend:test:    Duration  1.13s (transform 76ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5805ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2198ms)
frontend:test:     ✓ should throw an error given invalid credentials (1066ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2931ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.104s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.194s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.294 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.043 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.833 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.904 OK: 10 MiB in 18 packages
#6 DONE 1.9s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.678 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.22 
#9 83.22 added 1498 packages, and audited 1502 packages in 1m
#9 83.22 
#9 83.22 149 packages are looking for funding
#9 83.22   run `npm fund` for details
#9 83.22 
#9 83.22 found 0 vulnerabilities
#9 83.22 npm notice 
#9 83.22 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.22 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.22 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.22 npm notice 
#9 DONE 84.5s

#10 [6/6] RUN npm run build
#10 0.724 
#10 0.724 > build
#10 0.724 > turbo run build
#10 0.724 
#10 0.790 • Packages in scope: backend, frontend, local-types
#10 0.790 • Running build in 3 packages
#10 0.790 • Remote caching disabled
#10 0.790 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.081 backend:build: 
#10 1.081 backend:build: > backend@1.0.0 build
#10 1.081 backend:build: > nest build
#10 1.081 backend:build: 
#10 5.137 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.423 frontend:build: 
#10 5.423 frontend:build: > frontend@1.0.0 build
#10 5.423 frontend:build: > tsc && vite build
#10 5.423 frontend:build: 
#10 8.488 frontend:build: vite v4.2.2 building for production...
#10 8.513 frontend:build: transforming...
#10 9.298 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.303 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.304 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.307 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.308 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.309 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.311 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.312 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.313 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.314 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.860 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.890 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.892 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.898 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.82 frontend:build: ✓ 4519 modules transformed.
#10 15.14 frontend:build: rendering chunks...
#10 15.15 frontend:build: computing gzip size...
#10 15.19 frontend:build: dist/index.html                                                   0.44 kB
#10 15.19 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.19 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.19 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.19 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.19 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.19 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.19 frontend:build: 
#10 15.19 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.19 frontend:build: - Using dynamic import() to code-split the application
#10 15.19 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.19 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.19 frontend:build: ✓ built in 6.70s
#10 15.23 
#10 15.23  Tasks:    2 successful, 2 total
#10 15.23 Cached:    0 cached, 2 total
#10 15.23   Time:    14.501s 
#10 15.23 
#10 DONE 15.3s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.9s done
#11 writing image sha256:09c601fd8a844ac2a496ba1cd77a11fbcf649a086479ce7f808bddf663f3d44d done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.9s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:29:41+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 146.1870270419996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 35.40264322927623 Mbps
          ===============================
        
          ===============================
          Deploy run: 37
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:32:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:32:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4321  - [39m04/22/2023, 5:32:36 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.688 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:32:42
frontend:test:    Duration  1.08s (transform 80ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 126ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2756ms)
frontend:test:     ✓ should checkout and place an order (5742ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2070ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.469s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.957s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.317 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.059 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.464 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.528 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 6.916 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.31 
#9 79.31 added 1498 packages, and audited 1502 packages in 1m
#9 79.31 
#9 79.31 149 packages are looking for funding
#9 79.31   run `npm fund` for details
#9 79.32 
#9 79.32 found 0 vulnerabilities
#9 79.32 npm notice 
#9 79.32 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.32 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.32 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.32 npm notice 
#9 DONE 80.3s

#10 [6/6] RUN npm run build
#10 0.653 
#10 0.653 > build
#10 0.653 > turbo run build
#10 0.653 
#10 0.718 • Packages in scope: backend, frontend, local-types
#10 0.718 • Running build in 3 packages
#10 0.718 • Remote caching disabled
#10 0.718 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.005 backend:build: 
#10 1.005 backend:build: > backend@1.0.0 build
#10 1.005 backend:build: > nest build
#10 1.005 backend:build: 
#10 4.975 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.264 frontend:build: 
#10 5.264 frontend:build: > frontend@1.0.0 build
#10 5.264 frontend:build: > tsc && vite build
#10 5.264 frontend:build: 
#10 8.360 frontend:build: vite v4.2.2 building for production...
#10 8.384 frontend:build: transforming...
#10 9.113 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.115 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.122 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.555 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.586 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.588 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.691 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 14.31 frontend:build: ✓ 4519 modules transformed.
#10 14.61 frontend:build: rendering chunks...
#10 14.62 frontend:build: computing gzip size...
#10 14.66 frontend:build: dist/index.html                                                   0.44 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.66 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.66 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.66 frontend:build: 
#10 14.66 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.66 frontend:build: - Using dynamic import() to code-split the application
#10 14.66 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.66 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.66 frontend:build: ✓ built in 6.30s
#10 14.70 
#10 14.70  Tasks:    2 successful, 2 total
#10 14.70 Cached:    0 cached, 2 total
#10 14.70   Time:    14.042s 
#10 14.70 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:2a4fc32b7b51817ebd9e40531d5a3ba7cca3d60ae814cc174a99a55f02f01f14 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:32:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.21089287899994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.005272152548976 Mbps
          ===============================
        
          ===============================
          Deploy run: 38
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:35:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:35:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6084  - [39m04/22/2023, 5:35:18 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.669 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:35:24
frontend:test:    Duration  1.11s (transform 51ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 78ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2742ms)
frontend:test:     ✓ should checkout and place an order (5707ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2064ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2857ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.642s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.108s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.282 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.959 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.333 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.399 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.618 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.73 
#9 78.73 added 1498 packages, and audited 1502 packages in 1m
#9 78.73 
#9 78.73 149 packages are looking for funding
#9 78.73   run `npm fund` for details
#9 78.74 
#9 78.74 found 0 vulnerabilities
#9 78.74 npm notice 
#9 78.74 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.74 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.74 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.74 npm notice 
#9 DONE 79.5s

#10 [6/6] RUN npm run build
#10 0.696 
#10 0.696 > build
#10 0.696 > turbo run build
#10 0.696 
#10 0.761 • Packages in scope: backend, frontend, local-types
#10 0.761 • Running build in 3 packages
#10 0.761 • Remote caching disabled
#10 0.761 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.049 backend:build: 
#10 1.049 backend:build: > backend@1.0.0 build
#10 1.049 backend:build: > nest build
#10 1.049 backend:build: 
#10 5.067 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.354 frontend:build: 
#10 5.354 frontend:build: > frontend@1.0.0 build
#10 5.354 frontend:build: > tsc && vite build
#10 5.354 frontend:build: 
#10 8.435 frontend:build: vite v4.2.2 building for production...
#10 8.460 frontend:build: transforming...
#10 9.223 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.226 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.229 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.232 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.234 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.235 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.236 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.237 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.239 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.239 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.773 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.805 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.807 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.809 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.59 frontend:build: ✓ 4519 modules transformed.
#10 14.93 frontend:build: rendering chunks...
#10 14.94 frontend:build: computing gzip size...
#10 14.97 frontend:build: dist/index.html                                                   0.44 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.97 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.97 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.97 frontend:build: 
#10 14.97 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.97 frontend:build: - Using dynamic import() to code-split the application
#10 14.97 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.97 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.97 frontend:build: ✓ built in 6.54s
#10 15.02 
#10 15.02  Tasks:    2 successful, 2 total
#10 15.02 Cached:    0 cached, 2 total
#10 15.02   Time:    14.315s 
#10 15.02 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:147d5c526b35ddcfd4076d3487b3fbc0c5e25b42e12b69a0a73f55088dcc568f done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:35:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.23917063499988 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.409361329058925 Mbps
          ===============================
        
          ===============================
          Deploy run: 39
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:37:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:37:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:38:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:38:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7842  - [39m04/22/2023, 5:38:00 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.8 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:38:06
frontend:test:    Duration  1.09s (transform 70ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 115ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2767ms)
frontend:test:     ✓ should checkout and place an order (5677ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2096ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2877ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.679s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.151s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.324 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.007 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.485 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.559 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.862 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.68 
#9 80.68 added 1498 packages, and audited 1502 packages in 1m
#9 80.68 
#9 80.68 149 packages are looking for funding
#9 80.68   run `npm fund` for details
#9 80.68 
#9 80.68 found 0 vulnerabilities
#9 80.69 npm notice 
#9 80.69 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.69 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.69 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.69 npm notice 
#9 DONE 88.3s

#10 [6/6] RUN npm run build
#10 0.743 
#10 0.743 > build
#10 0.743 > turbo run build
#10 0.743 
#10 0.807 • Packages in scope: backend, frontend, local-types
#10 0.807 • Running build in 3 packages
#10 0.807 • Remote caching disabled
#10 0.807 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.086 backend:build: 
#10 1.086 backend:build: > backend@1.0.0 build
#10 1.086 backend:build: > nest build
#10 1.086 backend:build: 
#10 5.036 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.317 frontend:build: 
#10 5.317 frontend:build: > frontend@1.0.0 build
#10 5.317 frontend:build: > tsc && vite build
#10 5.317 frontend:build: 
#10 8.357 frontend:build: vite v4.2.2 building for production...
#10 8.383 frontend:build: transforming...
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.147 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.570 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.600 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.601 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.602 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.25 frontend:build: ✓ 4519 modules transformed.
#10 14.55 frontend:build: rendering chunks...
#10 14.56 frontend:build: computing gzip size...
#10 14.59 frontend:build: dist/index.html                                                   0.44 kB
#10 14.59 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.59 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.59 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.59 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.59 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.60 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.60 frontend:build: 
#10 14.60 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.60 frontend:build: - Using dynamic import() to code-split the application
#10 14.60 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.60 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.60 frontend:build: ✓ built in 6.24s
#10 14.63 
#10 14.63  Tasks:    2 successful, 2 total
#10 14.63 Cached:    0 cached, 2 total
#10 14.63   Time:    13.882s 
#10 14.63 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.1s done
#11 writing image sha256:6bb92b4f42cb86d3fab9985a87f2f322e5e2140f561b6a92cd13b82c95da3968 done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.1s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:37:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 149.16232978999986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.87323501198392 Mbps
          ===============================
        
          ===============================
          Deploy run: 40
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:40:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:40:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9587  - [39m04/22/2023, 5:40:52 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.743 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:40:58
frontend:test:    Duration  1.12s (transform 65ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2851ms)
frontend:test:     ✓ should checkout and place an order (5563ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2042ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.544s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.972s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.319 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.996 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.368 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.436 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.887 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.72 
#9 80.72 added 1498 packages, and audited 1502 packages in 1m
#9 80.72 
#9 80.72 149 packages are looking for funding
#9 80.72   run `npm fund` for details
#9 80.72 
#9 80.72 found 0 vulnerabilities
#9 80.72 npm notice 
#9 80.72 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.72 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.72 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.72 npm notice 
#9 DONE 81.7s

#10 [6/6] RUN npm run build
#10 0.716 
#10 0.716 > build
#10 0.716 > turbo run build
#10 0.716 
#10 0.783 • Packages in scope: backend, frontend, local-types
#10 0.783 • Running build in 3 packages
#10 0.783 • Remote caching disabled
#10 0.783 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.070 backend:build: 
#10 1.070 backend:build: > backend@1.0.0 build
#10 1.070 backend:build: > nest build
#10 1.070 backend:build: 
#10 5.065 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.346 frontend:build: 
#10 5.346 frontend:build: > frontend@1.0.0 build
#10 5.346 frontend:build: > tsc && vite build
#10 5.346 frontend:build: 
#10 8.396 frontend:build: vite v4.2.2 building for production...
#10 8.420 frontend:build: transforming...
#10 9.158 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.160 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.162 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.163 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.165 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.167 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.169 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.590 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.620 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.621 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.623 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.34 frontend:build: ✓ 4519 modules transformed.
#10 14.64 frontend:build: rendering chunks...
#10 14.65 frontend:build: computing gzip size...
#10 14.69 frontend:build: dist/index.html                                                   0.44 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.69 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.69 frontend:build: 
#10 14.69 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.69 frontend:build: - Using dynamic import() to code-split the application
#10 14.69 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.69 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.69 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.69 frontend:build: ✓ built in 6.29s
#10 14.73 
#10 14.73  Tasks:    2 successful, 2 total
#10 14.73 Cached:    0 cached, 2 total
#10 14.73   Time:    14.005s 
#10 14.73 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:0ef5c1cf9d078d9c8de9fa572d3477e41ba6dcf8d78809f721f942892822c79a done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:40:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.0316548319999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.63957076816112 Mbps
          ===============================
        
          ===============================
          Deploy run: 41
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:43:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:43:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:35 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11326  - [39m04/22/2023, 5:43:36 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.814 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:43:42
frontend:test:    Duration  1.01s (transform 41ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2740ms)
frontend:test:     ✓ should checkout and place an order (5748ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2061ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2880ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.575s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.096s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.290 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.968 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.385 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.449 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.688 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.69 
#9 83.69 added 1498 packages, and audited 1502 packages in 1m
#9 83.69 
#9 83.69 149 packages are looking for funding
#9 83.69   run `npm fund` for details
#9 83.70 
#9 83.70 found 0 vulnerabilities
#9 83.70 npm notice 
#9 83.70 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.70 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.70 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.70 npm notice 
#9 DONE 84.5s

#10 [6/6] RUN npm run build
#10 0.806 
#10 0.806 > build
#10 0.806 > turbo run build
#10 0.806 
#10 0.871 • Packages in scope: backend, frontend, local-types
#10 0.871 • Running build in 3 packages
#10 0.871 • Remote caching disabled
#10 0.871 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.150 backend:build: 
#10 1.150 backend:build: > backend@1.0.0 build
#10 1.150 backend:build: > nest build
#10 1.150 backend:build: 
#10 5.107 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.392 frontend:build: 
#10 5.392 frontend:build: > frontend@1.0.0 build
#10 5.392 frontend:build: > tsc && vite build
#10 5.392 frontend:build: 
#10 8.444 frontend:build: vite v4.2.2 building for production...
#10 8.468 frontend:build: transforming...
#10 9.212 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.214 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.215 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.217 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.218 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.219 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.220 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.221 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.222 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.223 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.649 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.683 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.684 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.686 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.42 frontend:build: ✓ 4519 modules transformed.
#10 14.73 frontend:build: rendering chunks...
#10 14.74 frontend:build: computing gzip size...
#10 14.78 frontend:build: dist/index.html                                                   0.44 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.78 frontend:build: 
#10 14.78 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.78 frontend:build: - Using dynamic import() to code-split the application
#10 14.78 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.78 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.78 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.78 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.78 frontend:build: ✓ built in 6.33s
#10 14.82 
#10 14.82  Tasks:    2 successful, 2 total
#10 14.82 Cached:    0 cached, 2 total
#10 14.82   Time:    14.004s 
#10 14.82 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:81c7f146fe6e2d73c3a109e3822c32f2380890d516582e67c3c0f4d777a186d6 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:43:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.7621147529995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.08791204137335 Mbps
          ===============================
        
          ===============================
          Deploy run: 42
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 93ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:46:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:46:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13073  - [39m04/22/2023, 5:46:22 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.844 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:46:28
frontend:test:    Duration  1.19s (transform 350ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 478ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2790ms)
frontend:test:     ✓ should checkout and place an order (5595ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2070ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2903ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.796s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.046s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.293 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 0.968 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.491 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.560 OK: 10 MiB in 18 packages
#5 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.042 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.10 
#9 79.10 added 1498 packages, and audited 1502 packages in 1m
#9 79.10 
#9 79.10 149 packages are looking for funding
#9 79.10   run `npm fund` for details
#9 79.10 
#9 79.10 found 0 vulnerabilities
#9 79.10 npm notice 
#9 79.10 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.10 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.10 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.10 npm notice 
#9 DONE 81.0s

#10 [6/6] RUN npm run build
#10 0.679 
#10 0.679 > build
#10 0.679 > turbo run build
#10 0.679 
#10 0.747 • Packages in scope: backend, frontend, local-types
#10 0.747 • Running build in 3 packages
#10 0.747 • Remote caching disabled
#10 0.747 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.029 backend:build: 
#10 1.029 backend:build: > backend@1.0.0 build
#10 1.029 backend:build: > nest build
#10 1.029 backend:build: 
#10 5.004 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.289 frontend:build: 
#10 5.289 frontend:build: > frontend@1.0.0 build
#10 5.289 frontend:build: > tsc && vite build
#10 5.289 frontend:build: 
#10 8.327 frontend:build: vite v4.2.2 building for production...
#10 8.350 frontend:build: transforming...
#10 9.068 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.071 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.072 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.074 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.076 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.511 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.539 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.541 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.542 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.25 frontend:build: ✓ 4519 modules transformed.
#10 14.57 frontend:build: rendering chunks...
#10 14.58 frontend:build: computing gzip size...
#10 14.61 frontend:build: dist/index.html                                                   0.44 kB
#10 14.61 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.61 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.61 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.61 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.61 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.61 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.61 frontend:build: 
#10 14.61 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.61 frontend:build: - Using dynamic import() to code-split the application
#10 14.61 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.61 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.61 frontend:build: ✓ built in 6.29s
#10 14.66 
#10 14.66  Tasks:    2 successful, 2 total
#10 14.66 Cached:    0 cached, 2 total
#10 14.66   Time:    13.973s 
#10 14.66 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:9c1aa16ed4cec652fca0fbf16ca11a839dd62298449de42c524dd97971eed2bc done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:46:16+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.51886502000036 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.54410180073582 Mbps
          ===============================
        
          ===============================
          Deploy run: 43
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:49:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:49:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:49:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14821  - [39m04/22/2023, 5:49:06 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.737 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:49:12
frontend:test:    Duration  1.11s (transform 85ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 124ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2736ms)
frontend:test:     ✓ should checkout and place an order (5485ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2053ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2848ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.294s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.027s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.290 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.975 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.363 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.428 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.696 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.15 
#9 80.15 added 1498 packages, and audited 1502 packages in 1m
#9 80.15 
#9 80.15 149 packages are looking for funding
#9 80.15   run `npm fund` for details
#9 80.15 
#9 80.15 found 0 vulnerabilities
#9 80.15 npm notice 
#9 80.15 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.15 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.15 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.15 npm notice 
#9 DONE 81.0s

#10 [6/6] RUN npm run build
#10 0.718 
#10 0.718 > build
#10 0.718 > turbo run build
#10 0.718 
#10 0.785 • Packages in scope: backend, frontend, local-types
#10 0.785 • Running build in 3 packages
#10 0.785 • Remote caching disabled
#10 0.786 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.070 backend:build: 
#10 1.070 backend:build: > backend@1.0.0 build
#10 1.070 backend:build: > nest build
#10 1.070 backend:build: 
#10 5.066 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.354 frontend:build: 
#10 5.354 frontend:build: > frontend@1.0.0 build
#10 5.354 frontend:build: > tsc && vite build
#10 5.354 frontend:build: 
#10 8.394 frontend:build: vite v4.2.2 building for production...
#10 8.419 frontend:build: transforming...
#10 9.164 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.166 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.176 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.180 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.745 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.773 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.774 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.776 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 14.70 frontend:build: ✓ 4519 modules transformed.
#10 14.99 frontend:build: rendering chunks...
#10 15.00 frontend:build: computing gzip size...
#10 15.04 frontend:build: dist/index.html                                                   0.44 kB
#10 15.04 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.04 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.04 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.04 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.04 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.04 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.04 frontend:build: 
#10 15.04 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.04 frontend:build: - Using dynamic import() to code-split the application
#10 15.04 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.04 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.04 frontend:build: ✓ built in 6.64s
#10 15.08 
#10 15.08  Tasks:    2 successful, 2 total
#10 15.08 Cached:    0 cached, 2 total
#10 15.08   Time:    14.354s 
#10 15.08 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:313d3475a8438f34b514130c440d8bd10bcbca0b842dd15c0c2c787b70231602 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:49:00+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.49506522499956 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.70939110632023 Mbps
          ===============================
        
          ===============================
          Deploy run: 44
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:51:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:51:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 5:51:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16562  - [39m04/22/2023, 5:51:50 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.92 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:51:56
frontend:test:    Duration  1.03s (transform 39ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2885ms)
frontend:test:     ✓ should checkout and place an order (5612ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2094ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2946ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.846s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.529s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.326 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.019 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.385 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.452 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.396 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.07 
#9 80.07 added 1498 packages, and audited 1502 packages in 1m
#9 80.07 
#9 80.07 149 packages are looking for funding
#9 80.07   run `npm fund` for details
#9 80.07 
#9 80.07 found 0 vulnerabilities
#9 80.08 npm notice 
#9 80.08 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.08 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.08 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.08 npm notice 
#9 DONE 81.1s

#10 [6/6] RUN npm run build
#10 0.739 
#10 0.739 > build
#10 0.739 > turbo run build
#10 0.739 
#10 0.804 • Packages in scope: backend, frontend, local-types
#10 0.804 • Running build in 3 packages
#10 0.804 • Remote caching disabled
#10 0.804 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.089 backend:build: 
#10 1.089 backend:build: > backend@1.0.0 build
#10 1.089 backend:build: > nest build
#10 1.089 backend:build: 
#10 5.055 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.343 frontend:build: 
#10 5.343 frontend:build: > frontend@1.0.0 build
#10 5.343 frontend:build: > tsc && vite build
#10 5.343 frontend:build: 
#10 8.398 frontend:build: vite v4.2.2 building for production...
#10 8.424 frontend:build: transforming...
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.182 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.186 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.622 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.654 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.656 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.657 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.66 frontend:build: rendering chunks...
#10 14.67 frontend:build: computing gzip size...
#10 14.70 frontend:build: 
#10 14.70 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.70 frontend:build: - Using dynamic import() to code-split the application
#10 14.70 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.70 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.70 frontend:build: dist/index.html                                                   0.44 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.70 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.70 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.70 frontend:build: ✓ built in 6.30s
#10 14.75 
#10 14.75  Tasks:    2 successful, 2 total
#10 14.75 Cached:    0 cached, 2 total
#10 14.75   Time:    13.997s 
#10 14.75 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:5a40d69f7cb7d9b9f754a52c8d86a79ddba5a7ab73d1ccd70a406ed6212138fc done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:51:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.041476129001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.16782715231146 Mbps
          ===============================
        
          ===============================
          Deploy run: 45
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:54:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:54:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18296  - [39m04/22/2023, 5:54:33 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.838 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:54:39
frontend:test:    Duration  1.09s (transform 46ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2765ms)
frontend:test:     ✓ should checkout and place an order (5706ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2065ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2869ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.807s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.261s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.302 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.969 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.338 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.401 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.589 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.25 
#9 78.25 added 1498 packages, and audited 1502 packages in 1m
#9 78.25 
#9 78.25 149 packages are looking for funding
#9 78.25   run `npm fund` for details
#9 78.25 
#9 78.25 found 0 vulnerabilities
#9 78.25 npm notice 
#9 78.25 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.25 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.25 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.25 npm notice 
#9 DONE 86.7s

#10 [6/6] RUN npm run build
#10 0.658 
#10 0.658 > build
#10 0.658 > turbo run build
#10 0.658 
#10 0.723 • Packages in scope: backend, frontend, local-types
#10 0.723 • Running build in 3 packages
#10 0.723 • Remote caching disabled
#10 0.724 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.006 backend:build: 
#10 1.006 backend:build: > backend@1.0.0 build
#10 1.006 backend:build: > nest build
#10 1.006 backend:build: 
#10 5.011 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.297 frontend:build: 
#10 5.297 frontend:build: > frontend@1.0.0 build
#10 5.297 frontend:build: > tsc && vite build
#10 5.297 frontend:build: 
#10 8.343 frontend:build: vite v4.2.2 building for production...
#10 8.366 frontend:build: transforming...
#10 9.094 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.097 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.144 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.689 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.719 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.721 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.723 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.57 frontend:build: ✓ 4519 modules transformed.
#10 14.87 frontend:build: rendering chunks...
#10 14.88 frontend:build: computing gzip size...
#10 14.92 frontend:build: dist/index.html                                                   0.44 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.92 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.92 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.92 frontend:build: 
#10 14.92 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.92 frontend:build: - Using dynamic import() to code-split the application
#10 14.92 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.92 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.92 frontend:build: ✓ built in 6.58s
#10 14.97 
#10 14.97  Tasks:    2 successful, 2 total
#10 14.97 Cached:    0 cached, 2 total
#10 14.97   Time:    14.301s 
#10 14.97 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:835f2ca98a7ecbe54563699c2e75b58246745589aef0770e53abb69b94ea37fa done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:54:27+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 147.19620200500077 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.82019915917064 Mbps
          ===============================
        
          ===============================
          Deploy run: 46
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:57:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:57:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20035  - [39m04/22/2023, 5:57:23 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.876 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  05:57:29
frontend:test:    Duration  1.09s (transform 56ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2791ms)
frontend:test:     ✓ should checkout and place an order (5623ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2922ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.768s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.534s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.276 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.958 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.324 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.390 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.363 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.09 
#9 81.09 added 1498 packages, and audited 1502 packages in 1m
#9 81.09 
#9 81.09 149 packages are looking for funding
#9 81.09   run `npm fund` for details
#9 81.09 
#9 81.09 found 0 vulnerabilities
#9 81.09 npm notice 
#9 81.09 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.09 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.09 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.09 npm notice 
#9 DONE 90.1s

#10 [6/6] RUN npm run build
#10 0.635 
#10 0.635 > build
#10 0.635 > turbo run build
#10 0.635 
#10 0.703 • Packages in scope: backend, frontend, local-types
#10 0.703 • Running build in 3 packages
#10 0.703 • Remote caching disabled
#10 0.703 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.988 backend:build: 
#10 0.988 backend:build: > backend@1.0.0 build
#10 0.988 backend:build: > nest build
#10 0.988 backend:build: 
#10 4.939 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.227 frontend:build: 
#10 5.227 frontend:build: > frontend@1.0.0 build
#10 5.227 frontend:build: > tsc && vite build
#10 5.227 frontend:build: 
#10 8.268 frontend:build: vite v4.2.2 building for production...
#10 8.292 frontend:build: transforming...
#10 9.041 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.047 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.048 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.050 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.051 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.052 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.053 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.054 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.055 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.056 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.482 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.512 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.513 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.515 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.24 frontend:build: ✓ 4519 modules transformed.
#10 14.53 frontend:build: rendering chunks...
#10 14.55 frontend:build: computing gzip size...
#10 14.58 frontend:build: dist/index.html                                                   0.44 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.58 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.58 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.58 frontend:build: 
#10 14.58 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.58 frontend:build: - Using dynamic import() to code-split the application
#10 14.58 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.58 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.58 frontend:build: ✓ built in 6.31s
#10 14.63 
#10 14.63  Tasks:    2 successful, 2 total
#10 14.63 Cached:    0 cached, 2 total
#10 14.63   Time:    13.98s 
#10 14.63 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:482f33b75039743b67e764f5b29155eaf8d5f2785804f59029f6b36a2f3de10e done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T05:57:17+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 149.94763932199962 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.29674112717934 Mbps
          ===============================
        
          ===============================
          Deploy run: 47
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:00:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:00:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21759  - [39m04/22/2023, 6:00:16 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.964 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:00:23
frontend:test:    Duration  1.08s (transform 58ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2934ms)
frontend:test:     ✓ should checkout and place an order (5943ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2073ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2906ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.423s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.876s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.261 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.322 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.385 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.472 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.85 
#9 79.85 added 1498 packages, and audited 1502 packages in 1m
#9 79.85 
#9 79.85 149 packages are looking for funding
#9 79.85   run `npm fund` for details
#9 79.85 
#9 79.85 found 0 vulnerabilities
#9 79.85 npm notice 
#9 79.85 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.85 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.85 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.85 npm notice 
#9 DONE 87.5s

#10 [6/6] RUN npm run build
#10 0.644 
#10 0.644 > build
#10 0.644 > turbo run build
#10 0.644 
#10 0.707 • Packages in scope: backend, frontend, local-types
#10 0.707 • Running build in 3 packages
#10 0.707 • Remote caching disabled
#10 0.707 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.985 backend:build: 
#10 0.985 backend:build: > backend@1.0.0 build
#10 0.985 backend:build: > nest build
#10 0.985 backend:build: 
#10 4.933 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.216 frontend:build: 
#10 5.216 frontend:build: > frontend@1.0.0 build
#10 5.216 frontend:build: > tsc && vite build
#10 5.216 frontend:build: 
#10 8.220 frontend:build: vite v4.2.2 building for production...
#10 8.245 frontend:build: transforming...
#10 9.089 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.093 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.095 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.096 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.097 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.098 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.101 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.102 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.103 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.103 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.590 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.620 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.622 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.623 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.37 frontend:build: ✓ 4519 modules transformed.
#10 14.70 frontend:build: rendering chunks...
#10 14.71 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.74 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.74 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.74 frontend:build: 
#10 14.74 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.74 frontend:build: - Using dynamic import() to code-split the application
#10 14.74 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.74 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.52s
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    14.131s 
#10 14.79 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:0dc97f86ff7aab869d12f7b91c7b88a156623d1fa7e94253f2cdbaade94056bf done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:00:11+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 148.35815652699955 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.860028758560354 Mbps
          ===============================
        
          ===============================
          Deploy run: 48
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23505  - [39m04/22/2023, 6:03:07 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.912 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:03:13
frontend:test:    Duration  1.06s (transform 37ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 60ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2742ms)
frontend:test:     ✓ should checkout and place an order (5626ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2080ms)
frontend:test:     ✓ should throw an error given invalid credentials (1022ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2891ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.792s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.754s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.291 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.979 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.658 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.737 OK: 10 MiB in 18 packages
#6 DONE 1.8s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.254 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.56 
#9 78.56 added 1498 packages, and audited 1502 packages in 1m
#9 78.56 
#9 78.56 149 packages are looking for funding
#9 78.56   run `npm fund` for details
#9 78.56 
#9 78.56 found 0 vulnerabilities
#9 78.56 npm notice 
#9 78.56 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.56 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.56 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.56 npm notice 
#9 DONE 79.4s

#10 [6/6] RUN npm run build
#10 0.712 
#10 0.712 > build
#10 0.712 > turbo run build
#10 0.712 
#10 0.781 • Packages in scope: backend, frontend, local-types
#10 0.781 • Running build in 3 packages
#10 0.781 • Remote caching disabled
#10 0.781 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.065 backend:build: 
#10 1.065 backend:build: > backend@1.0.0 build
#10 1.065 backend:build: > nest build
#10 1.065 backend:build: 
#10 5.044 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.328 frontend:build: 
#10 5.328 frontend:build: > frontend@1.0.0 build
#10 5.328 frontend:build: > tsc && vite build
#10 5.328 frontend:build: 
#10 8.413 frontend:build: vite v4.2.2 building for production...
#10 8.438 frontend:build: transforming...
#10 9.171 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.175 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.222 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.223 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.224 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.225 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.226 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.228 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.229 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.788 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.789 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.790 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.827 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.74 frontend:build: ✓ 4519 modules transformed.
#10 15.03 frontend:build: rendering chunks...
#10 15.04 frontend:build: computing gzip size...
#10 15.08 frontend:build: dist/index.html                                                   0.44 kB
#10 15.08 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.08 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.08 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.08 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.08 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.08 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.08 frontend:build: 
#10 15.08 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.08 frontend:build: - Using dynamic import() to code-split the application
#10 15.08 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.08 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.08 frontend:build: ✓ built in 6.67s
#10 15.13 
#10 15.13  Tasks:    2 successful, 2 total
#10 15.13 Cached:    0 cached, 2 total
#10 15.13   Time:    14.404s 
#10 15.13 
#10 DONE 15.2s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:9fcdaca28341811d9c1571c6d7a2de14a80647921aa91e74b1d6541a4a1c9140 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:03:02+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.2203465949986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.808818865571475 Mbps
          ===============================
        
          ===============================
          Deploy run: 49
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:05:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:05:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25238  - [39m04/22/2023, 6:05:50 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.919 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:05:56
frontend:test:    Duration  1.12s (transform 63ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 91ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2765ms)
frontend:test:     ✓ should checkout and place an order (5620ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2057ms)
frontend:test:     ✓ should throw an error given invalid credentials (1060ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.785s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.262s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.310 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.986 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.385 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.457 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.300 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.78 
#9 79.78 added 1498 packages, and audited 1502 packages in 1m
#9 79.78 
#9 79.78 149 packages are looking for funding
#9 79.78   run `npm fund` for details
#9 79.78 
#9 79.78 found 0 vulnerabilities
#9 79.78 npm notice 
#9 79.78 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.78 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.78 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.78 npm notice 
#9 DONE 80.5s

#10 [6/6] RUN npm run build
#10 0.715 
#10 0.715 > build
#10 0.715 > turbo run build
#10 0.715 
#10 0.781 • Packages in scope: backend, frontend, local-types
#10 0.781 • Running build in 3 packages
#10 0.781 • Remote caching disabled
#10 0.782 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.068 backend:build: 
#10 1.068 backend:build: > backend@1.0.0 build
#10 1.068 backend:build: > nest build
#10 1.068 backend:build: 
#10 5.082 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.366 frontend:build: 
#10 5.366 frontend:build: > frontend@1.0.0 build
#10 5.366 frontend:build: > tsc && vite build
#10 5.366 frontend:build: 
#10 8.417 frontend:build: vite v4.2.2 building for production...
#10 8.441 frontend:build: transforming...
#10 9.223 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.226 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.227 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.230 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.232 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.233 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.234 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.235 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.236 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.237 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.783 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.811 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.815 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.816 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.58 frontend:build: ✓ 4519 modules transformed.
#10 14.90 frontend:build: rendering chunks...
#10 14.91 frontend:build: computing gzip size...
#10 14.94 frontend:build: dist/index.html                                                   0.44 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.94 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.94 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.94 frontend:build: 
#10 14.94 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.94 frontend:build: - Using dynamic import() to code-split the application
#10 14.94 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.94 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.94 frontend:build: ✓ built in 6.53s
#10 14.99 
#10 14.99  Tasks:    2 successful, 2 total
#10 14.99 Cached:    0 cached, 2 total
#10 14.99   Time:    14.269s 
#10 14.99 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:14219edadf69ec5e33e398cbb7a9428193f45dc3c95d4cdbe7b5914c30cf3276 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:05:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.11071192199924 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.3774700682486 Mbps
          ===============================
        
          ===============================
          Deploy run: 50
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:08:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:08:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:08:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26977  - [39m04/22/2023, 6:08:34 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.841 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:08:40
frontend:test:    Duration  1.04s (transform 34ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 58ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2801ms)
frontend:test:     ✓ should checkout and place an order (5631ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2107ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2894ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.96s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.687s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.7s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.315 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.980 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.712 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.792 OK: 10 MiB in 18 packages
#6 DONE 1.8s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.886 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.04 
#9 79.04 added 1498 packages, and audited 1502 packages in 1m
#9 79.04 
#9 79.04 149 packages are looking for funding
#9 79.04   run `npm fund` for details
#9 79.04 
#9 79.04 found 0 vulnerabilities
#9 79.04 npm notice 
#9 79.04 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.04 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.04 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.04 npm notice 
#9 DONE 80.0s

#10 [6/6] RUN npm run build
#10 0.674 
#10 0.674 > build
#10 0.674 > turbo run build
#10 0.674 
#10 0.740 • Packages in scope: backend, frontend, local-types
#10 0.740 • Running build in 3 packages
#10 0.740 • Remote caching disabled
#10 0.740 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.026 backend:build: 
#10 1.026 backend:build: > backend@1.0.0 build
#10 1.026 backend:build: > nest build
#10 1.026 backend:build: 
#10 5.042 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.327 frontend:build: 
#10 5.327 frontend:build: > frontend@1.0.0 build
#10 5.327 frontend:build: > tsc && vite build
#10 5.327 frontend:build: 
#10 8.418 frontend:build: vite v4.2.2 building for production...
#10 8.442 frontend:build: transforming...
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.212 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.213 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.214 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.216 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.221 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.223 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.224 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.226 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.227 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.780 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.813 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.814 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.816 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.61 frontend:build: ✓ 4519 modules transformed.
#10 14.91 frontend:build: rendering chunks...
#10 14.92 frontend:build: computing gzip size...
#10 14.95 frontend:build: dist/index.html                                                   0.44 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.95 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.95 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.95 frontend:build: 
#10 14.95 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.95 frontend:build: - Using dynamic import() to code-split the application
#10 14.95 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.95 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.96 frontend:build: ✓ built in 6.54s
#10 15.00 
#10 15.00  Tasks:    2 successful, 2 total
#10 15.00 Cached:    0 cached, 2 total
#10 15.00   Time:    14.316s 
#10 15.00 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:c6ecfc4334f830b45a3d9dda0128df365e7fff727b7a25564cfa7376cc4680da done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:08:28+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.72841524499842 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.698605379328654 Mbps
          ===============================
        
          ===============================
          Deploy run: 51
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:11:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:11:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:11:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28715  - [39m04/22/2023, 6:11:17 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.761 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:11:24
frontend:test:    Duration  1.08s (transform 73ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 115ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5519ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2093ms)
frontend:test:     ✓ should throw an error given invalid credentials (1006ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.907s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.613s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.357 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.033 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.404 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.468 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.216 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.18 
#9 78.18 added 1498 packages, and audited 1502 packages in 1m
#9 78.18 
#9 78.18 149 packages are looking for funding
#9 78.18   run `npm fund` for details
#9 78.18 
#9 78.18 found 0 vulnerabilities
#9 78.18 npm notice 
#9 78.18 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.18 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.18 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.18 npm notice 
#9 DONE 79.0s

#10 [6/6] RUN npm run build
#10 0.653 
#10 0.653 > build
#10 0.653 > turbo run build
#10 0.653 
#10 0.719 • Packages in scope: backend, frontend, local-types
#10 0.719 • Running build in 3 packages
#10 0.719 • Remote caching disabled
#10 0.719 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.003 backend:build: 
#10 1.003 backend:build: > backend@1.0.0 build
#10 1.003 backend:build: > nest build
#10 1.003 backend:build: 
#10 4.977 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.260 frontend:build: 
#10 5.260 frontend:build: > frontend@1.0.0 build
#10 5.260 frontend:build: > tsc && vite build
#10 5.260 frontend:build: 
#10 8.348 frontend:build: vite v4.2.2 building for production...
#10 8.373 frontend:build: transforming...
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.153 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.154 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.156 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.157 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.158 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.159 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.687 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.716 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.718 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.720 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.51 frontend:build: ✓ 4519 modules transformed.
#10 14.81 frontend:build: rendering chunks...
#10 14.82 frontend:build: computing gzip size...
#10 14.86 frontend:build: dist/index.html                                                   0.44 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.86 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.86 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.86 frontend:build: 
#10 14.86 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.86 frontend:build: - Using dynamic import() to code-split the application
#10 14.86 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.86 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.86 frontend:build: ✓ built in 6.51s
#10 14.91 
#10 14.91  Tasks:    2 successful, 2 total
#10 14.91 Cached:    0 cached, 2 total
#10 14.91   Time:    14.25s 
#10 14.91 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:1b137d1f496cc9b456136e54d70d574f3d9ea19108f3c067bdb87f089ca6100e done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:11:11+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.8217470040014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.86172462969918 Mbps
          ===============================
        
          ===============================
          Deploy run: 52
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 94ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:13:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:13:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30454  - [39m04/22/2023, 6:13:59 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.677 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:14:05
frontend:test:    Duration  1.06s (transform 34ms, setup 1ms, collect 18ms, tests 2ms, environment 0ms, prepare 59ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2746ms)
frontend:test:     ✓ should checkout and place an order (5651ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2038ms)
frontend:test:     ✓ should throw an error given invalid credentials (1000ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2895ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.476s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.968s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.296 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.983 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.601 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.671 OK: 10 MiB in 18 packages
#6 DONE 1.7s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.670 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.39 
#9 78.39 added 1498 packages, and audited 1502 packages in 1m
#9 78.39 
#9 78.39 149 packages are looking for funding
#9 78.39   run `npm fund` for details
#9 78.39 
#9 78.39 found 0 vulnerabilities
#9 78.40 npm notice 
#9 78.40 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.40 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.40 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.40 npm notice 
#9 DONE 79.3s

#10 [6/6] RUN npm run build
#10 0.689 
#10 0.689 > build
#10 0.689 > turbo run build
#10 0.689 
#10 0.754 • Packages in scope: backend, frontend, local-types
#10 0.754 • Running build in 3 packages
#10 0.754 • Remote caching disabled
#10 0.755 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.038 backend:build: 
#10 1.038 backend:build: > backend@1.0.0 build
#10 1.038 backend:build: > nest build
#10 1.038 backend:build: 
#10 5.044 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.330 frontend:build: 
#10 5.330 frontend:build: > frontend@1.0.0 build
#10 5.330 frontend:build: > tsc && vite build
#10 5.330 frontend:build: 
#10 8.411 frontend:build: vite v4.2.2 building for production...
#10 8.435 frontend:build: transforming...
#10 9.196 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.199 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.201 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.203 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.204 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.205 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.208 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.209 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.638 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.670 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.671 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.673 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.38 frontend:build: ✓ 4519 modules transformed.
#10 14.69 frontend:build: rendering chunks...
#10 14.70 frontend:build: computing gzip size...
#10 14.73 frontend:build: dist/index.html                                                   0.44 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.73 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.73 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.73 frontend:build: 
#10 14.73 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.73 frontend:build: - Using dynamic import() to code-split the application
#10 14.73 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.73 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.32s
#10 14.78 
#10 14.78  Tasks:    2 successful, 2 total
#10 14.78 Cached:    0 cached, 2 total
#10 14.78   Time:    14.082s 
#10 14.78 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:29c70ac7bae015d5db7fe0cec70caee90f020dccebb53445c4e2772306746c10 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:13:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.89002222800067 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.759632257982425 Mbps
          ===============================
        
          ===============================
          Deploy run: 53
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:16:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:16:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:16:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32194  - [39m04/22/2023, 6:16:41 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.853 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:16:47
frontend:test:    Duration  1.08s (transform 63ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 117ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2771ms)
frontend:test:     ✓ should checkout and place an order (5753ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2123ms)
frontend:test:     ✓ should throw an error given invalid credentials (1000ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2929ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.629s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.422s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.1s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.341 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 1.094 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.550 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.618 OK: 10 MiB in 18 packages
#5 DONE 1.7s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.536 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.30 
#9 79.30 added 1498 packages, and audited 1502 packages in 1m
#9 79.30 
#9 79.30 149 packages are looking for funding
#9 79.30   run `npm fund` for details
#9 79.30 
#9 79.30 found 0 vulnerabilities
#9 79.30 npm notice 
#9 79.30 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.30 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.30 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.30 npm notice 
#9 DONE 79.9s

#10 [6/6] RUN npm run build
#10 0.721 
#10 0.721 > build
#10 0.721 > turbo run build
#10 0.721 
#10 0.788 • Packages in scope: backend, frontend, local-types
#10 0.788 • Running build in 3 packages
#10 0.788 • Remote caching disabled
#10 0.788 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.075 backend:build: 
#10 1.075 backend:build: > backend@1.0.0 build
#10 1.075 backend:build: > nest build
#10 1.075 backend:build: 
#10 5.050 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.335 frontend:build: 
#10 5.335 frontend:build: > frontend@1.0.0 build
#10 5.335 frontend:build: > tsc && vite build
#10 5.335 frontend:build: 
#10 8.395 frontend:build: vite v4.2.2 building for production...
#10 8.419 frontend:build: transforming...
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.195 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.196 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.197 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.199 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.200 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.201 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.202 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.731 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.762 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.763 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.764 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.62 frontend:build: ✓ 4519 modules transformed.
#10 14.93 frontend:build: rendering chunks...
#10 14.93 frontend:build: computing gzip size...
#10 14.97 frontend:build: dist/index.html                                                   0.44 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.97 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.97 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.97 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.97 frontend:build: 
#10 14.97 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.97 frontend:build: - Using dynamic import() to code-split the application
#10 14.97 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.97 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.97 frontend:build: ✓ built in 6.58s
#10 15.02 
#10 15.02  Tasks:    2 successful, 2 total
#10 15.02 Cached:    0 cached, 2 total
#10 15.02   Time:    14.289s 
#10 15.02 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:9b62ba43f405eb271da1850d61ee5a516e6ef2bb2f004aec2d6995a612ec2f59 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:16:35+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.98831275299938 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.70709813679556 Mbps
          ===============================
        
          ===============================
          Deploy run: 54
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:19:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:19:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1473  - [39m04/22/2023, 6:19:25 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.687 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:19:31
frontend:test:    Duration  1.11s (transform 50ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2745ms)
frontend:test:     ✓ should checkout and place an order (5592ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2086ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2821ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.632s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.909s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.290 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.957 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.377 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.442 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.440 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.10 
#9 80.10 added 1498 packages, and audited 1502 packages in 1m
#9 80.10 
#9 80.10 149 packages are looking for funding
#9 80.10   run `npm fund` for details
#9 80.10 
#9 80.10 found 0 vulnerabilities
#9 80.10 npm notice 
#9 80.10 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.10 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.10 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.10 npm notice 
#9 DONE 84.3s

#10 [6/6] RUN npm run build
#10 0.700 
#10 0.700 > build
#10 0.700 > turbo run build
#10 0.700 
#10 0.765 • Packages in scope: backend, frontend, local-types
#10 0.765 • Running build in 3 packages
#10 0.765 • Remote caching disabled
#10 0.765 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.048 backend:build: 
#10 1.048 backend:build: > backend@1.0.0 build
#10 1.048 backend:build: > nest build
#10 1.048 backend:build: 
#10 4.996 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.282 frontend:build: 
#10 5.282 frontend:build: > frontend@1.0.0 build
#10 5.282 frontend:build: > tsc && vite build
#10 5.282 frontend:build: 
#10 8.343 frontend:build: vite v4.2.2 building for production...
#10 8.368 frontend:build: transforming...
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.133 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.684 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.714 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.715 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.718 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.51 frontend:build: ✓ 4519 modules transformed.
#10 14.83 frontend:build: rendering chunks...
#10 14.85 frontend:build: computing gzip size...
#10 14.89 frontend:build: dist/index.html                                                   0.44 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.89 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.89 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.89 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.89 frontend:build: 
#10 14.89 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.89 frontend:build: - Using dynamic import() to code-split the application
#10 14.89 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.89 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.89 frontend:build: ✓ built in 6.55s
#10 15.04 
#10 15.04  Tasks:    2 successful, 2 total
#10 15.04 Cached:    0 cached, 2 total
#10 15.04   Time:    14.325s 
#10 15.04 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:a7452c642ac7e8589385b692114cf8718cd96cad62a97b13e8025efd5667f305 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:19:19+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.96627091700026 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.87313801453522 Mbps
          ===============================
        
          ===============================
          Deploy run: 55
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:22:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:22:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3210  - [39m04/22/2023, 6:22:13 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.732 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:22:19
frontend:test:    Duration  1.17s (transform 94ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 139ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2723ms)
frontend:test:     ✓ should checkout and place an order (5718ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2155ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2907ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.729s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.157s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.335 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.020 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.451 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.514 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.436 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.21 
#9 78.21 added 1498 packages, and audited 1502 packages in 1m
#9 78.21 
#9 78.21 149 packages are looking for funding
#9 78.21   run `npm fund` for details
#9 78.21 
#9 78.21 found 0 vulnerabilities
#9 78.21 npm notice 
#9 78.21 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.21 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.21 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.21 npm notice 
#9 DONE 81.8s

#10 [6/6] RUN npm run build
#10 0.665 
#10 0.665 > build
#10 0.665 > turbo run build
#10 0.665 
#10 0.731 • Packages in scope: backend, frontend, local-types
#10 0.731 • Running build in 3 packages
#10 0.731 • Remote caching disabled
#10 0.732 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.015 backend:build: 
#10 1.015 backend:build: > backend@1.0.0 build
#10 1.015 backend:build: > nest build
#10 1.015 backend:build: 
#10 5.013 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.299 frontend:build: 
#10 5.299 frontend:build: > frontend@1.0.0 build
#10 5.299 frontend:build: > tsc && vite build
#10 5.299 frontend:build: 
#10 8.371 frontend:build: vite v4.2.2 building for production...
#10 8.397 frontend:build: transforming...
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.186 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.743 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.777 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.778 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.780 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.66 frontend:build: ✓ 4519 modules transformed.
#10 14.96 frontend:build: rendering chunks...
#10 14.97 frontend:build: computing gzip size...
#10 15.00 frontend:build: dist/index.html                                                   0.44 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.00 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.00 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.00 frontend:build: 
#10 15.00 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.00 frontend:build: - Using dynamic import() to code-split the application
#10 15.00 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.00 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.00 frontend:build: ✓ built in 6.63s
#10 15.05 
#10 15.05  Tasks:    2 successful, 2 total
#10 15.05 Cached:    0 cached, 2 total
#10 15.05   Time:    14.373s 
#10 15.05 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.0s done
#11 writing image sha256:3dd8651175532dadf90eae34c21520f0b84d9df624e6fe8b65d04b7a5d6f33bf done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.1s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:22:07+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.1606459340006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.51926162587177 Mbps
          ===============================
        
          ===============================
          Deploy run: 56
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:24:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:24:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:25:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:25:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:25:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:25:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:25:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4946  - [39m04/22/2023, 6:25:01 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.837 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:25:07
frontend:test:    Duration  1.11s (transform 73ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 102ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2791ms)
frontend:test:     ✓ should checkout and place an order (5627ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2026ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2868ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.637s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.437s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.316 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.987 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.411 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.473 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.996 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.68 
#9 79.68 added 1498 packages, and audited 1502 packages in 1m
#9 79.68 
#9 79.68 149 packages are looking for funding
#9 79.68   run `npm fund` for details
#9 79.68 
#9 79.68 found 0 vulnerabilities
#9 79.68 npm notice 
#9 79.68 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.68 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.68 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.68 npm notice 
#9 DONE 80.9s

#10 [6/6] RUN npm run build
#10 0.654 
#10 0.654 > build
#10 0.654 > turbo run build
#10 0.654 
#10 0.722 • Packages in scope: backend, frontend, local-types
#10 0.722 • Running build in 3 packages
#10 0.722 • Remote caching disabled
#10 0.722 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.007 backend:build: 
#10 1.007 backend:build: > backend@1.0.0 build
#10 1.007 backend:build: > nest build
#10 1.007 backend:build: 
#10 4.998 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.285 frontend:build: 
#10 5.285 frontend:build: > frontend@1.0.0 build
#10 5.285 frontend:build: > tsc && vite build
#10 5.285 frontend:build: 
#10 8.357 frontend:build: vite v4.2.2 building for production...
#10 8.381 frontend:build: transforming...
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.133 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.140 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.577 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.606 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.608 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.610 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.65 frontend:build: rendering chunks...
#10 14.66 frontend:build: computing gzip size...
#10 14.70 frontend:build: dist/index.html                                                   0.44 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.70 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.70 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.70 frontend:build: 
#10 14.70 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.70 frontend:build: - Using dynamic import() to code-split the application
#10 14.70 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.70 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.70 frontend:build: ✓ built in 6.34s
#10 14.74 
#10 14.74  Tasks:    2 successful, 2 total
#10 14.74 Cached:    0 cached, 2 total
#10 14.74   Time:    14.08s 
#10 14.74 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:50af3a7bdff8da8ca83c745876f4190254b38e15c00ec7f2937915211abc4404 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:24:55+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.8305612190012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.72205920210227 Mbps
          ===============================
        
          ===============================
          Deploy run: 57
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:27:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:27:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6708  - [39m04/22/2023, 6:27:44 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.856 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:27:50
frontend:test:    Duration  1.08s (transform 54ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2766ms)
frontend:test:     ✓ should checkout and place an order (5484ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2082ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2892ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.471s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.204s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.293 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.978 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.386 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.458 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.769 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.62 
#9 80.62 added 1498 packages, and audited 1502 packages in 1m
#9 80.62 
#9 80.62 149 packages are looking for funding
#9 80.62   run `npm fund` for details
#9 80.62 
#9 80.62 found 0 vulnerabilities
#9 80.62 npm notice 
#9 80.62 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.62 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.62 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.62 npm notice 
#9 DONE 84.1s

#10 [6/6] RUN npm run build
#10 0.694 
#10 0.694 > build
#10 0.694 > turbo run build
#10 0.694 
#10 0.760 • Packages in scope: backend, frontend, local-types
#10 0.760 • Running build in 3 packages
#10 0.760 • Remote caching disabled
#10 0.760 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.044 backend:build: 
#10 1.044 backend:build: > backend@1.0.0 build
#10 1.044 backend:build: > nest build
#10 1.044 backend:build: 
#10 5.004 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.287 frontend:build: 
#10 5.287 frontend:build: > frontend@1.0.0 build
#10 5.287 frontend:build: > tsc && vite build
#10 5.287 frontend:build: 
#10 8.327 frontend:build: vite v4.2.2 building for production...
#10 8.352 frontend:build: transforming...
#10 9.104 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.113 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.115 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.116 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.675 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.702 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.704 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.706 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 14.46 frontend:build: ✓ 4519 modules transformed.
#10 14.76 frontend:build: rendering chunks...
#10 14.77 frontend:build: computing gzip size...
#10 14.81 frontend:build: dist/index.html                                                   0.44 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.81 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.81 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.81 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.81 frontend:build: 
#10 14.81 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.81 frontend:build: - Using dynamic import() to code-split the application
#10 14.81 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.81 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.81 frontend:build: ✓ built in 6.48s
#10 14.86 
#10 14.86  Tasks:    2 successful, 2 total
#10 14.86 Cached:    0 cached, 2 total
#10 14.86   Time:    14.154s 
#10 14.86 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.0s done
#11 writing image sha256:e7cff24a8898f136377973d01d1f026153bf8f0ae4da28952ba04c1a53164910 done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:27:38+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 145.28078059300034 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.1087076503695 Mbps
          ===============================
        
          ===============================
          Deploy run: 58
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:30:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:30:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
frontend:dev:test: 6:30:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8344  - [39m04/22/2023, 6:30:11 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.983 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:30:17
frontend:test:    Duration  1.09s (transform 63ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 94ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2751ms)
frontend:test:     ✓ should checkout and place an order (5641ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2078ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2906ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.894s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.586s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.311 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 4.599 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 12.10 (1/1) Installing libc6-compat (1.2.3-r4)
#6 12.17 OK: 10 MiB in 18 packages
#6 DONE 12.2s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.699 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.21 
#9 80.21 added 1498 packages, and audited 1502 packages in 1m
#9 80.21 
#9 80.21 149 packages are looking for funding
#9 80.21   run `npm fund` for details
#9 80.21 
#9 80.21 found 0 vulnerabilities
#9 80.21 npm notice 
#9 80.21 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.21 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.21 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.21 npm notice 
#9 DONE 80.8s

#10 [6/6] RUN npm run build
#10 0.668 
#10 0.668 > build
#10 0.668 > turbo run build
#10 0.668 
#10 0.734 • Packages in scope: backend, frontend, local-types
#10 0.734 • Running build in 3 packages
#10 0.734 • Remote caching disabled
#10 0.734 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.012 backend:build: 
#10 1.012 backend:build: > backend@1.0.0 build
#10 1.012 backend:build: > nest build
#10 1.012 backend:build: 
#10 4.944 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.225 frontend:build: 
#10 5.225 frontend:build: > frontend@1.0.0 build
#10 5.225 frontend:build: > tsc && vite build
#10 5.225 frontend:build: 
#10 8.250 frontend:build: vite v4.2.2 building for production...
#10 8.274 frontend:build: transforming...
#10 8.953 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 8.956 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 8.957 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.015 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.016 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.017 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.018 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.020 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.022 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.023 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.450 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.480 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.481 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.483 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.18 frontend:build: ✓ 4519 modules transformed.
#10 14.49 frontend:build: rendering chunks...
#10 14.50 frontend:build: computing gzip size...
#10 14.54 frontend:build: dist/index.html                                                   0.44 kB
#10 14.54 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.54 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.54 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.54 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.54 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.54 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.54 frontend:build: 
#10 14.54 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.54 frontend:build: - Using dynamic import() to code-split the application
#10 14.54 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.54 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.54 frontend:build: ✓ built in 6.29s
#10 14.58 
#10 14.58  Tasks:    2 successful, 2 total
#10 14.58 Cached:    0 cached, 2 total
#10 14.58   Time:    13.9s 
#10 14.58 
#10 DONE 14.6s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:df770940aa43aa722e7c139275a09a3dca91b11ddf8c3a631f8a05a59ec4e39c done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:30:05+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 151.46344795100018 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          
          ===============================
        
          ===============================
          Deploy run: 59
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 94ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:33:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:33:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10096  - [39m04/22/2023, 6:33:05 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.959 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:33:11
frontend:test:    Duration  1.06s (transform 72ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2775ms)
frontend:test:     ✓ should checkout and place an order (5577ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2113ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2901ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.81s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.005s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.314 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.988 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.352 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.422 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.060 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.71 
#9 80.71 added 1498 packages, and audited 1502 packages in 1m
#9 80.71 
#9 80.71 149 packages are looking for funding
#9 80.71   run `npm fund` for details
#9 80.71 
#9 80.71 found 0 vulnerabilities
#9 80.71 npm notice 
#9 80.71 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.71 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.71 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.71 npm notice 
#9 DONE 81.9s

#10 [6/6] RUN npm run build
#10 0.650 
#10 0.650 > build
#10 0.650 > turbo run build
#10 0.650 
#10 0.717 • Packages in scope: backend, frontend, local-types
#10 0.717 • Running build in 3 packages
#10 0.717 • Remote caching disabled
#10 0.717 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.004 backend:build: 
#10 1.004 backend:build: > backend@1.0.0 build
#10 1.004 backend:build: > nest build
#10 1.004 backend:build: 
#10 4.981 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.263 frontend:build: 
#10 5.263 frontend:build: > frontend@1.0.0 build
#10 5.263 frontend:build: > tsc && vite build
#10 5.263 frontend:build: 
#10 8.291 frontend:build: vite v4.2.2 building for production...
#10 8.315 frontend:build: transforming...
#10 9.069 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.071 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.081 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.083 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.085 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.085 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.644 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.677 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.678 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.680 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.53 frontend:build: ✓ 4519 modules transformed.
#10 14.83 frontend:build: rendering chunks...
#10 14.84 frontend:build: computing gzip size...
#10 14.88 frontend:build: dist/index.html                                                   0.44 kB
#10 14.88 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.88 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.88 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.88 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.88 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.88 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.88 frontend:build: 
#10 14.88 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.88 frontend:build: - Using dynamic import() to code-split the application
#10 14.88 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.88 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.88 frontend:build: ✓ built in 6.59s
#10 14.93 
#10 14.93  Tasks:    2 successful, 2 total
#10 14.93 Cached:    0 cached, 2 total
#10 14.93   Time:    14.265s 
#10 14.93 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:4a01b6484c38d95b3a003f456d362f861d6fd553401c2a23577d228de0e61083 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:32:59+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.11326666000113 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.07303951797619 Mbps
          ===============================
        
          ===============================
          Deploy run: 60
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:35:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:35:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11848  - [39m04/22/2023, 6:35:51 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.985 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:35:57
frontend:test:    Duration  1.17s (transform 209ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 304ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2753ms)
frontend:test:     ✓ should checkout and place an order (5629ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2091ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2939ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.944s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.431s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.315 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 0.986 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.405 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.470 OK: 10 MiB in 18 packages
#5 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.828 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.20 
#9 79.20 added 1498 packages, and audited 1502 packages in 1m
#9 79.20 
#9 79.20 149 packages are looking for funding
#9 79.20   run `npm fund` for details
#9 79.20 
#9 79.20 found 0 vulnerabilities
#9 79.20 npm notice 
#9 79.20 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.20 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.20 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.20 npm notice 
#9 DONE 80.2s

#10 [6/6] RUN npm run build
#10 0.682 
#10 0.682 > build
#10 0.682 > turbo run build
#10 0.682 
#10 0.748 • Packages in scope: backend, frontend, local-types
#10 0.748 • Running build in 3 packages
#10 0.748 • Remote caching disabled
#10 0.749 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.035 backend:build: 
#10 1.035 backend:build: > backend@1.0.0 build
#10 1.035 backend:build: > nest build
#10 1.035 backend:build: 
#10 5.019 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.305 frontend:build: 
#10 5.305 frontend:build: > frontend@1.0.0 build
#10 5.305 frontend:build: > tsc && vite build
#10 5.305 frontend:build: 
#10 8.372 frontend:build: vite v4.2.2 building for production...
#10 8.396 frontend:build: transforming...
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.115 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.729 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.757 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.763 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.765 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.57 frontend:build: ✓ 4519 modules transformed.
#10 14.87 frontend:build: rendering chunks...
#10 14.88 frontend:build: computing gzip size...
#10 14.92 frontend:build: dist/index.html                                                   0.44 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.92 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.92 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.92 frontend:build: 
#10 14.92 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.92 frontend:build: - Using dynamic import() to code-split the application
#10 14.92 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.92 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.92 frontend:build: ✓ built in 6.55s
#10 14.97 
#10 14.97  Tasks:    2 successful, 2 total
#10 14.97 Cached:    0 cached, 2 total
#10 14.97   Time:    14.279s 
#10 14.97 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:908e5b1f66e88b0ea515887c7c79785f4f2b3ebfeec48c7059ecb4751357d23b done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:35:45+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.489793358 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.99114573188414 Mbps
          ===============================
        
          ===============================
          Deploy run: 61
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:38:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:38:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13604  - [39m04/22/2023, 6:38:34 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.92 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:38:40
frontend:test:    Duration  1.09s (transform 57ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2770ms)
frontend:test:     ✓ should checkout and place an order (5658ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2063ms)
frontend:test:     ✓ should throw an error given invalid credentials (1019ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2943ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.918s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.443s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.303 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.984 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.378 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.444 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 6.999 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.71 
#9 79.71 added 1498 packages, and audited 1502 packages in 1m
#9 79.71 
#9 79.71 149 packages are looking for funding
#9 79.71   run `npm fund` for details
#9 79.71 
#9 79.71 found 0 vulnerabilities
#9 79.71 npm notice 
#9 79.72 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.72 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.72 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.72 npm notice 
#9 DONE 80.7s

#10 [6/6] RUN npm run build
#10 0.680 
#10 0.680 > build
#10 0.680 > turbo run build
#10 0.680 
#10 0.745 • Packages in scope: backend, frontend, local-types
#10 0.745 • Running build in 3 packages
#10 0.745 • Remote caching disabled
#10 0.745 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.026 backend:build: 
#10 1.026 backend:build: > backend@1.0.0 build
#10 1.026 backend:build: > nest build
#10 1.026 backend:build: 
#10 4.978 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.259 frontend:build: 
#10 5.259 frontend:build: > frontend@1.0.0 build
#10 5.259 frontend:build: > tsc && vite build
#10 5.259 frontend:build: 
#10 8.268 frontend:build: vite v4.2.2 building for production...
#10 8.293 frontend:build: transforming...
#10 9.061 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.069 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.081 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.610 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.640 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.641 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.643 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.42 frontend:build: ✓ 4519 modules transformed.
#10 14.75 frontend:build: rendering chunks...
#10 14.76 frontend:build: computing gzip size...
#10 14.80 frontend:build: dist/index.html                                                   0.44 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.80 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.80 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.80 frontend:build: 
#10 14.80 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.80 frontend:build: - Using dynamic import() to code-split the application
#10 14.80 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.80 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.80 frontend:build: ✓ built in 6.53s
#10 14.84 
#10 14.84  Tasks:    2 successful, 2 total
#10 14.84 Cached:    0 cached, 2 total
#10 14.84   Time:    14.171s 
#10 14.84 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:69933780d8917a36fbcbd5cba593623a48818a8dcfc9f70e024328245c5ed859 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:38:28+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.3341508090012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.17851209605284 Mbps
          ===============================
        
          ===============================
          Deploy run: 62
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 220 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:41:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:41:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15339  - [39m04/22/2023, 6:41:17 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.837 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:41:24
frontend:test:    Duration  1.13s (transform 74ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 111ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5636ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2050ms)
frontend:test:     ✓ should throw an error given invalid credentials (1060ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.089s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.578s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.288 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.958 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.364 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.438 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.360 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.52 
#9 79.52 added 1498 packages, and audited 1502 packages in 1m
#9 79.52 
#9 79.52 149 packages are looking for funding
#9 79.52   run `npm fund` for details
#9 79.53 
#9 79.53 found 0 vulnerabilities
#9 79.53 npm notice 
#9 79.53 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.53 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.53 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.53 npm notice 
#9 DONE 80.5s

#10 [6/6] RUN npm run build
#10 0.680 
#10 0.680 > build
#10 0.680 > turbo run build
#10 0.680 
#10 0.746 • Packages in scope: backend, frontend, local-types
#10 0.746 • Running build in 3 packages
#10 0.746 • Remote caching disabled
#10 0.746 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.027 backend:build: 
#10 1.027 backend:build: > backend@1.0.0 build
#10 1.027 backend:build: > nest build
#10 1.027 backend:build: 
#10 4.953 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.241 frontend:build: 
#10 5.241 frontend:build: > frontend@1.0.0 build
#10 5.241 frontend:build: > tsc && vite build
#10 5.241 frontend:build: 
#10 8.244 frontend:build: vite v4.2.2 building for production...
#10 8.268 frontend:build: transforming...
#10 9.007 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.009 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.011 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.012 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.014 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.015 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.016 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.017 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.019 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.020 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.441 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.470 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.472 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.473 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.14 frontend:build: ✓ 4519 modules transformed.
#10 14.45 frontend:build: rendering chunks...
#10 14.46 frontend:build: computing gzip size...
#10 14.49 frontend:build: dist/index.html                                                   0.44 kB
#10 14.49 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.49 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.49 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.49 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.49 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.49 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.49 frontend:build: 
#10 14.49 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.49 frontend:build: - Using dynamic import() to code-split the application
#10 14.49 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.49 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.49 frontend:build: ✓ built in 6.25s
#10 14.53 
#10 14.53  Tasks:    2 successful, 2 total
#10 14.53 Cached:    0 cached, 2 total
#10 14.53   Time:    13.842s 
#10 14.53 
#10 DONE 14.6s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:e629a99f1226fce5254cc93fc5b79e8084f3d8fcfad89b43c4f9237f1a268fdd done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:41:12+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.3796810999997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.49379740548107 Mbps
          ===============================
        
          ===============================
          Deploy run: 63
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:43:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:43:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:44:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:44:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17095  - [39m04/22/2023, 6:44:00 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.953 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:44:06
frontend:test:    Duration  1.09s (transform 343ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 473ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2785ms)
frontend:test:     ✓ should checkout and place an order (5626ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2093ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2921ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.818s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.22s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.280 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.950 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.359 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.422 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.325 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 77.68 
#9 77.68 added 1498 packages, and audited 1502 packages in 1m
#9 77.68 
#9 77.68 149 packages are looking for funding
#9 77.68   run `npm fund` for details
#9 77.68 
#9 77.68 found 0 vulnerabilities
#9 77.68 npm notice 
#9 77.68 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 77.68 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 77.68 npm notice Run `npm install -g npm@9.6.5` to update!
#9 77.68 npm notice 
#9 DONE 78.5s

#10 [6/6] RUN npm run build
#10 0.715 
#10 0.715 > build
#10 0.715 > turbo run build
#10 0.715 
#10 0.782 • Packages in scope: backend, frontend, local-types
#10 0.782 • Running build in 3 packages
#10 0.782 • Remote caching disabled
#10 0.782 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.068 backend:build: 
#10 1.068 backend:build: > backend@1.0.0 build
#10 1.068 backend:build: > nest build
#10 1.068 backend:build: 
#10 5.076 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.362 frontend:build: 
#10 5.362 frontend:build: > frontend@1.0.0 build
#10 5.362 frontend:build: > tsc && vite build
#10 5.362 frontend:build: 
#10 8.460 frontend:build: vite v4.2.2 building for production...
#10 8.484 frontend:build: transforming...
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.197 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.198 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.201 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.202 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.204 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.794 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.824 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.826 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.828 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.63 frontend:build: ✓ 4519 modules transformed.
#10 14.96 frontend:build: rendering chunks...
#10 14.97 frontend:build: computing gzip size...
#10 15.00 frontend:build: dist/index.html                                                   0.44 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.00 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.00 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.00 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.00 frontend:build: 
#10 15.00 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.00 frontend:build: - Using dynamic import() to code-split the application
#10 15.00 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.00 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.01 frontend:build: ✓ built in 6.54s
#10 15.05 
#10 15.05  Tasks:    2 successful, 2 total
#10 15.05 Cached:    0 cached, 2 total
#10 15.05   Time:    14.327s 
#10 15.05 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:8e318e1079740f72ebfb474de179ebbc7bd7cf78f255054f37c27143b40a40b3 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:43:54+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.04816911000015 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 40.03720966288295 Mbps
          ===============================
        
          ===============================
          Deploy run: 64
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:46:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:46:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:46:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18851  - [39m04/22/2023, 6:46:42 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.999 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:46:49
frontend:test:    Duration  1.19s (transform 391ms, setup 0ms, collect 17ms, tests 2ms, environment 0ms, prepare 564ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2722ms)
frontend:test:     ✓ should checkout and place an order (5660ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2037ms)
frontend:test:     ✓ should throw an error given invalid credentials (1096ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2928ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.669s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.478s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.317 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.999 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.373 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.446 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.450 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.99 
#9 79.99 added 1498 packages, and audited 1502 packages in 1m
#9 79.99 
#9 79.99 149 packages are looking for funding
#9 79.99   run `npm fund` for details
#9 79.99 
#9 79.99 found 0 vulnerabilities
#9 80.00 npm notice 
#9 80.00 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.00 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.00 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.00 npm notice 
#9 DONE 81.0s

#10 [6/6] RUN npm run build
#10 0.693 
#10 0.693 > build
#10 0.693 > turbo run build
#10 0.693 
#10 0.757 • Packages in scope: backend, frontend, local-types
#10 0.757 • Running build in 3 packages
#10 0.757 • Remote caching disabled
#10 0.758 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.041 backend:build: 
#10 1.041 backend:build: > backend@1.0.0 build
#10 1.041 backend:build: > nest build
#10 1.041 backend:build: 
#10 5.048 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.328 frontend:build: 
#10 5.328 frontend:build: > frontend@1.0.0 build
#10 5.328 frontend:build: > tsc && vite build
#10 5.328 frontend:build: 
#10 8.408 frontend:build: vite v4.2.2 building for production...
#10 8.433 frontend:build: transforming...
#10 9.178 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.625 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.655 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.657 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.659 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.38 frontend:build: ✓ 4519 modules transformed.
#10 14.68 frontend:build: rendering chunks...
#10 14.70 frontend:build: computing gzip size...
#10 14.73 frontend:build: dist/index.html                                                   0.44 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.73 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.73 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.73 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.73 frontend:build: 
#10 14.73 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.73 frontend:build: - Using dynamic import() to code-split the application
#10 14.73 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.73 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.73 frontend:build: ✓ built in 6.32s
#10 14.78 
#10 14.78  Tasks:    2 successful, 2 total
#10 14.78 Cached:    0 cached, 2 total
#10 14.78   Time:    14.073s 
#10 14.78 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:888497a63b60875fbcb730a4f60ce3b2e7e6013bac05e5344af65c4e5b95081e done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:46:36+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.99579505500012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.902239815012074 Mbps
          ===============================
        
          ===============================
          Deploy run: 65
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 93ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:49:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:49:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 6:49:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20607  - [39m04/22/2023, 6:49:27 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.796 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:49:33
frontend:test:    Duration  1.12s (transform 94ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 130ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2689ms)
frontend:test:     ✓ should checkout and place an order (5556ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1003ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2855ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.595s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.305s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.309 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.987 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.350 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.424 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.937 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.12 
#9 83.12 added 1498 packages, and audited 1502 packages in 1m
#9 83.12 
#9 83.12 149 packages are looking for funding
#9 83.12   run `npm fund` for details
#9 83.12 
#9 83.12 found 0 vulnerabilities
#9 83.12 npm notice 
#9 83.12 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.12 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.12 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.12 npm notice 
#9 DONE 83.9s

#10 [6/6] RUN npm run build
#10 0.654 
#10 0.654 > build
#10 0.654 > turbo run build
#10 0.654 
#10 0.719 • Packages in scope: backend, frontend, local-types
#10 0.719 • Running build in 3 packages
#10 0.719 • Remote caching disabled
#10 0.720 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.007 backend:build: 
#10 1.007 backend:build: > backend@1.0.0 build
#10 1.007 backend:build: > nest build
#10 1.007 backend:build: 
#10 4.959 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.248 frontend:build: 
#10 5.248 frontend:build: > frontend@1.0.0 build
#10 5.248 frontend:build: > tsc && vite build
#10 5.248 frontend:build: 
#10 8.305 frontend:build: vite v4.2.2 building for production...
#10 8.330 frontend:build: transforming...
#10 9.094 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.096 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.099 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.110 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.112 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.112 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.659 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.689 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.691 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.693 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.57 frontend:build: ✓ 4519 modules transformed.
#10 14.87 frontend:build: rendering chunks...
#10 14.88 frontend:build: computing gzip size...
#10 14.92 frontend:build: dist/index.html                                                   0.44 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.92 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.92 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.92 frontend:build: 
#10 14.92 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.92 frontend:build: - Using dynamic import() to code-split the application
#10 14.92 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.92 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.92 frontend:build: ✓ built in 6.61s
#10 14.97 
#10 14.97  Tasks:    2 successful, 2 total
#10 14.97 Cached:    0 cached, 2 total
#10 14.97   Time:    14.302s 
#10 14.97 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:61a1e81c0053fdbef5ec6ac7eecf5f9f32fb03dc87d13f2efb44d6959012e0ea done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:49:21+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.58903059899993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.065168284041725 Mbps
          ===============================
        
          ===============================
          Deploy run: 66
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 6:52:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 6:52:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22354  - [39m04/22/2023, 6:52:13 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.965 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  06:52:19
frontend:test:    Duration  1.06s (transform 61ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2752ms)
frontend:test:     ✓ should checkout and place an order (5831ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2100ms)
frontend:test:     ✓ should throw an error given invalid credentials (1015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2885ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.968s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.418s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.338 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.028 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.361 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.434 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 6.685 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.57 
#9 79.57 added 1498 packages, and audited 1502 packages in 1m
#9 79.57 
#9 79.57 149 packages are looking for funding
#9 79.57   run `npm fund` for details
#9 79.58 
#9 79.58 found 0 vulnerabilities
#9 79.58 npm notice 
#9 79.58 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.58 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.58 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.58 npm notice 
#9 DONE 80.1s

#10 [6/6] RUN npm run build
#10 0.715 
#10 0.715 > build
#10 0.715 > turbo run build
#10 0.715 
#10 0.781 • Packages in scope: backend, frontend, local-types
#10 0.781 • Running build in 3 packages
#10 0.781 • Remote caching disabled
#10 0.782 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.069 backend:build: 
#10 1.069 backend:build: > backend@1.0.0 build
#10 1.069 backend:build: > nest build
#10 1.069 backend:build: 
#10 5.069 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.354 frontend:build: 
#10 5.354 frontend:build: > frontend@1.0.0 build
#10 5.354 frontend:build: > tsc && vite build
#10 5.354 frontend:build: 
#10 8.434 frontend:build: vite v4.2.2 building for production...
#10 8.459 frontend:build: transforming...
#10 9.163 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.204 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.205 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.208 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.211 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.213 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.214 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.214 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.666 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.667 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.668 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.670 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.39 frontend:build: ✓ 4519 modules transformed.
#10 14.69 frontend:build: rendering chunks...
#10 14.70 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.74 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.74 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.74 frontend:build: 
#10 14.74 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.74 frontend:build: - Using dynamic import() to code-split the application
#10 14.74 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.74 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.31s
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    14.064s 
#10 14.79 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 8.0s done
#11 writing image sha256:8d38b60cff402a05b57def225bf78f7312754b68bee4b7de8832ceec55bc96e2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 8.0s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T06:52:08+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.51076393699833 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.8269921197192 Mbps
          ===============================
        
          ===============================
          Deploy run: 67
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:41:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:41:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24335  - [39m04/22/2023, 10:41:24 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.677 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:41:30
frontend:test:    Duration  1.02s (transform 70ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2817ms)
frontend:test:     ✓ should checkout and place an order (5515ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2095ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2879ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.701s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.587s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.4s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.261 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.021 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.421 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.485 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.450 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.29 
#9 83.29 added 1498 packages, and audited 1502 packages in 1m
#9 83.29 
#9 83.29 149 packages are looking for funding
#9 83.29   run `npm fund` for details
#9 83.30 
#9 83.30 found 0 vulnerabilities
#9 83.30 npm notice 
#9 83.30 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.30 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.30 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.30 npm notice 
#9 DONE 83.8s

#10 [6/6] RUN npm run build
#10 0.702 
#10 0.702 > build
#10 0.702 > turbo run build
#10 0.702 
#10 0.768 • Packages in scope: backend, frontend, local-types
#10 0.768 • Running build in 3 packages
#10 0.768 • Remote caching disabled
#10 0.768 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.049 backend:build: 
#10 1.049 backend:build: > backend@1.0.0 build
#10 1.049 backend:build: > nest build
#10 1.049 backend:build: 
#10 5.128 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.411 frontend:build: 
#10 5.411 frontend:build: > frontend@1.0.0 build
#10 5.411 frontend:build: > tsc && vite build
#10 5.411 frontend:build: 
#10 8.465 frontend:build: vite v4.2.2 building for production...
#10 8.489 frontend:build: transforming...
#10 9.205 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.243 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.244 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.246 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.247 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.248 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.249 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.250 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.252 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.253 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.709 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.710 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.712 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.714 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.41 frontend:build: ✓ 4519 modules transformed.
#10 14.72 frontend:build: rendering chunks...
#10 14.73 frontend:build: computing gzip size...
#10 14.77 frontend:build: dist/index.html                                                   0.44 kB
#10 14.77 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.77 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.77 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.77 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.77 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.77 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.77 frontend:build: 
#10 14.77 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.77 frontend:build: - Using dynamic import() to code-split the application
#10 14.77 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.77 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.77 frontend:build: ✓ built in 6.30s
#10 14.81 
#10 14.81  Tasks:    2 successful, 2 total
#10 14.81 Cached:    0 cached, 2 total
#10 14.81   Time:    14.105s 
#10 14.81 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:8e5da2d1e5982f27cc9f582ee9e3886b99d14c0badf82e3cc8d8f843288fab97 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
          time="2023-04-22T10:41:19+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.40163427700102 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.27141102191513 Mbps
          ===============================
        
          ===============================
          Deploy run: 68
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:44:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:44:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26085  - [39m04/22/2023, 10:44:12 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.979 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:44:18
frontend:test:    Duration  1.13s (transform 111ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 181ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2728ms)
frontend:test:     ✓ should checkout and place an order (5666ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2108ms)
frontend:test:     ✓ should throw an error given invalid credentials (1009ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2926ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.045s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.044s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.287 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.974 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.386 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.458 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.812 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.13 
#9 81.13 added 1498 packages, and audited 1502 packages in 1m
#9 81.13 
#9 81.13 149 packages are looking for funding
#9 81.13   run `npm fund` for details
#9 81.13 
#9 81.13 found 0 vulnerabilities
#9 81.13 npm notice 
#9 81.13 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.13 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.13 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.13 npm notice 
#9 DONE 81.8s

#10 [6/6] RUN npm run build
#10 0.714 
#10 0.714 > build
#10 0.714 > turbo run build
#10 0.714 
#10 0.779 • Packages in scope: backend, frontend, local-types
#10 0.779 • Running build in 3 packages
#10 0.779 • Remote caching disabled
#10 0.780 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.061 backend:build: 
#10 1.061 backend:build: > backend@1.0.0 build
#10 1.061 backend:build: > nest build
#10 1.061 backend:build: 
#10 5.071 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.355 frontend:build: 
#10 5.355 frontend:build: > frontend@1.0.0 build
#10 5.355 frontend:build: > tsc && vite build
#10 5.355 frontend:build: 
#10 8.455 frontend:build: vite v4.2.2 building for production...
#10 8.479 frontend:build: transforming...
#10 9.270 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.273 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.276 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.279 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.280 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.281 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.282 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.283 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.285 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.285 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.825 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.857 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.858 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.860 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.70 frontend:build: ✓ 4519 modules transformed.
#10 15.01 frontend:build: rendering chunks...
#10 15.02 frontend:build: computing gzip size...
#10 15.05 frontend:build: dist/index.html                                                   0.44 kB
#10 15.05 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.05 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.05 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.05 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.05 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.05 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.05 frontend:build: 
#10 15.05 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.05 frontend:build: - Using dynamic import() to code-split the application
#10 15.05 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.05 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.05 frontend:build: ✓ built in 6.60s
#10 15.10 
#10 15.10  Tasks:    2 successful, 2 total
#10 15.10 Cached:    0 cached, 2 total
#10 15.10   Time:    14.379s 
#10 15.10 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:d344111fde0ef05b2ea178a565d101b959d34f07062a7b27e67906acfc7a9a35 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:44:06+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.8207279230021 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.83760612384365 Mbps
          ===============================
        
          ===============================
          Deploy run: 69
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:46:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:46:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:47:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27823  - [39m04/22/2023, 10:47:02 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +53ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.993 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:47:08
frontend:test:    Duration  1.09s (transform 55ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 90ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2753ms)
frontend:test:     ✓ should checkout and place an order (5542ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2116ms)
frontend:test:     ✓ should throw an error given invalid credentials (1043ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2845ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.154s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.699s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.353 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.039 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.390 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.462 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.219 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.76 
#9 79.76 added 1498 packages, and audited 1502 packages in 1m
#9 79.76 
#9 79.76 149 packages are looking for funding
#9 79.76   run `npm fund` for details
#9 79.76 
#9 79.76 found 0 vulnerabilities
#9 79.76 npm notice 
#9 79.76 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.76 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.76 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.76 npm notice 
#9 DONE 80.6s

#10 [6/6] RUN npm run build
#10 0.697 
#10 0.697 > build
#10 0.697 > turbo run build
#10 0.697 
#10 0.762 • Packages in scope: backend, frontend, local-types
#10 0.762 • Running build in 3 packages
#10 0.762 • Remote caching disabled
#10 0.763 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.048 backend:build: 
#10 1.048 backend:build: > backend@1.0.0 build
#10 1.048 backend:build: > nest build
#10 1.048 backend:build: 
#10 5.049 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.333 frontend:build: 
#10 5.333 frontend:build: > frontend@1.0.0 build
#10 5.333 frontend:build: > tsc && vite build
#10 5.333 frontend:build: 
#10 8.414 frontend:build: vite v4.2.2 building for production...
#10 8.438 frontend:build: transforming...
#10 9.206 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.209 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.210 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.212 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.213 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.215 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.217 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.218 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.219 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.220 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.757 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.791 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.793 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.794 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.52 frontend:build: ✓ 4519 modules transformed.
#10 14.82 frontend:build: rendering chunks...
#10 14.83 frontend:build: computing gzip size...
#10 14.86 frontend:build: dist/index.html                                                   0.44 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.87 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.87 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.87 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.87 frontend:build: 
#10 14.87 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.87 frontend:build: - Using dynamic import() to code-split the application
#10 14.87 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.87 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.87 frontend:build: ✓ built in 6.45s
#10 14.91 
#10 14.91  Tasks:    2 successful, 2 total
#10 14.91 Cached:    0 cached, 2 total
#10 14.91   Time:    14.208s 
#10 14.91 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:fce7d34a43e5e3aa5030ffc9fcdc5e372a0532ed2a4607d11e8441a9f7bdf061 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:46:56+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.76121740299837 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 36.52858277028573 Mbps
          ===============================
        
          ===============================
          Deploy run: 70
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:49:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:49:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29568  - [39m04/22/2023, 10:49:47 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.713 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:49:53
frontend:test:    Duration  1.05s (transform 62ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2749ms)
frontend:test:     ✓ should checkout and place an order (5767ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2118ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2869ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.872s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.555s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.310 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.004 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.356 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.426 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.311 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.46 
#9 79.46 added 1498 packages, and audited 1502 packages in 1m
#9 79.46 
#9 79.46 149 packages are looking for funding
#9 79.46   run `npm fund` for details
#9 79.47 
#9 79.47 found 0 vulnerabilities
#9 79.47 npm notice 
#9 79.47 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.47 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.47 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.47 npm notice 
#9 DONE 80.2s

#10 [6/6] RUN npm run build
#10 0.707 
#10 0.707 > build
#10 0.707 > turbo run build
#10 0.707 
#10 0.773 • Packages in scope: backend, frontend, local-types
#10 0.773 • Running build in 3 packages
#10 0.773 • Remote caching disabled
#10 0.773 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.063 backend:build: 
#10 1.063 backend:build: > backend@1.0.0 build
#10 1.063 backend:build: > nest build
#10 1.063 backend:build: 
#10 5.033 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.319 frontend:build: 
#10 5.319 frontend:build: > frontend@1.0.0 build
#10 5.319 frontend:build: > tsc && vite build
#10 5.319 frontend:build: 
#10 8.380 frontend:build: vite v4.2.2 building for production...
#10 8.406 frontend:build: transforming...
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.194 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.201 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.202 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.203 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.204 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.205 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.207 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.208 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.752 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.786 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.788 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.794 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.59 frontend:build: ✓ 4519 modules transformed.
#10 14.90 frontend:build: rendering chunks...
#10 14.91 frontend:build: computing gzip size...
#10 14.94 frontend:build: dist/index.html                                                   0.44 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.94 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.94 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.94 frontend:build: 
#10 14.94 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.94 frontend:build: - Using dynamic import() to code-split the application
#10 14.94 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.94 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.94 frontend:build: ✓ built in 6.56s
#10 15.00 
#10 15.00  Tasks:    2 successful, 2 total
#10 15.00 Cached:    0 cached, 2 total
#10 15.00   Time:    14.28s 
#10 15.00 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:96312265ab7a8d53a9beac40d5b9d606ae6762968194f7aaa589d5f78c43fb46 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:49:41+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.54142054599896 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.64926817996798 Mbps
          ===============================
        
          ===============================
          Deploy run: 71
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:52:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:52:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31317  - [39m04/22/2023, 10:52:30 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +63ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.668 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:52:36
frontend:test:    Duration  1.14s (transform 103ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 138ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5535ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2151ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2881ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.814s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.24s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.280 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.966 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.314 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.379 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.445 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.82 
#9 79.82 added 1498 packages, and audited 1502 packages in 1m
#9 79.82 
#9 79.82 149 packages are looking for funding
#9 79.82   run `npm fund` for details
#9 79.82 
#9 79.82 found 0 vulnerabilities
#9 79.82 npm notice 
#9 79.82 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.82 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.82 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.82 npm notice 
#9 DONE 82.4s

#10 [6/6] RUN npm run build
#10 0.663 
#10 0.663 > build
#10 0.663 > turbo run build
#10 0.663 
#10 0.728 • Packages in scope: backend, frontend, local-types
#10 0.728 • Running build in 3 packages
#10 0.728 • Remote caching disabled
#10 0.728 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.012 backend:build: 
#10 1.012 backend:build: > backend@1.0.0 build
#10 1.012 backend:build: > nest build
#10 1.012 backend:build: 
#10 5.013 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.297 frontend:build: 
#10 5.297 frontend:build: > frontend@1.0.0 build
#10 5.297 frontend:build: > tsc && vite build
#10 5.297 frontend:build: 
#10 8.346 frontend:build: vite v4.2.2 building for production...
#10 8.370 frontend:build: transforming...
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.130 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.133 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.699 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.726 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.728 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.730 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.61 frontend:build: ✓ 4519 modules transformed.
#10 14.90 frontend:build: rendering chunks...
#10 14.91 frontend:build: computing gzip size...
#10 14.95 frontend:build: dist/index.html                                                   0.44 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.95 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.95 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.95 frontend:build: 
#10 14.95 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.95 frontend:build: - Using dynamic import() to code-split the application
#10 14.95 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.95 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.95 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.95 frontend:build: ✓ built in 6.60s
#10 14.99 
#10 14.99  Tasks:    2 successful, 2 total
#10 14.99 Cached:    0 cached, 2 total
#10 14.99   Time:    14.32s 
#10 14.99 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:bfa6dbc9b79811b418b93df791d3760d9083d08b461a6ae6d5fe588ac0b01c04 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:52:24+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.979883653 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.64852673890349 Mbps
          ===============================
        
          ===============================
          Deploy run: 72
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:55:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:55:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 588  - [39m04/22/2023, 10:55:16 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.655 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:55:22
frontend:test:    Duration  1.06s (transform 91ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 134ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2717ms)
frontend:test:     ✓ should checkout and place an order (5698ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2113ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2882ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.824s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.4s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.270 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 0.950 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.300 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.369 OK: 10 MiB in 18 packages
#5 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.873 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.86 
#9 79.86 added 1498 packages, and audited 1502 packages in 1m
#9 79.86 
#9 79.86 149 packages are looking for funding
#9 79.86   run `npm fund` for details
#9 79.86 
#9 79.86 found 0 vulnerabilities
#9 79.86 npm notice 
#9 79.86 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.86 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.86 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.86 npm notice 
#9 DONE 80.9s

#10 [6/6] RUN npm run build
#10 0.719 
#10 0.719 > build
#10 0.719 > turbo run build
#10 0.719 
#10 0.785 • Packages in scope: backend, frontend, local-types
#10 0.785 • Running build in 3 packages
#10 0.785 • Remote caching disabled
#10 0.785 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.072 backend:build: 
#10 1.072 backend:build: > backend@1.0.0 build
#10 1.072 backend:build: > nest build
#10 1.072 backend:build: 
#10 5.059 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.335 frontend:build: 
#10 5.335 frontend:build: > frontend@1.0.0 build
#10 5.335 frontend:build: > tsc && vite build
#10 5.335 frontend:build: 
#10 8.361 frontend:build: vite v4.2.2 building for production...
#10 8.387 frontend:build: transforming...
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.149 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.150 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.151 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.154 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.572 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.601 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.602 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.604 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.32 frontend:build: ✓ 4519 modules transformed.
#10 14.62 frontend:build: rendering chunks...
#10 14.63 frontend:build: computing gzip size...
#10 14.66 frontend:build: dist/index.html                                                   0.44 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.66 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.67 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.67 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.67 frontend:build: 
#10 14.67 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.67 frontend:build: - Using dynamic import() to code-split the application
#10 14.67 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.67 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.67 frontend:build: ✓ built in 6.30s
#10 14.71 
#10 14.71  Tasks:    2 successful, 2 total
#10 14.71 Cached:    0 cached, 2 total
#10 14.71   Time:    13.983s 
#10 14.71 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:778c65886292e1eb9af829273c9ad740755fe8b57f5000bb40e1efbc516f29f8 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:55:10+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.47284881299734 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.6535005156307 Mbps
          ===============================
        
          ===============================
          Deploy run: 73
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:57:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 10:57:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2328  - [39m04/22/2023, 10:57:59 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.631 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:58:04
frontend:test:    Duration  1.09s (transform 43ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 66ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2825ms)
frontend:test:     ✓ should checkout and place an order (5604ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2057ms)
frontend:test:     ✓ should throw an error given invalid credentials (1006ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2831ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.507s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.969s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.277 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.952 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.345 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.412 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 6.710 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.92 
#9 81.92 added 1498 packages, and audited 1502 packages in 1m
#9 81.92 
#9 81.92 149 packages are looking for funding
#9 81.92   run `npm fund` for details
#9 81.92 
#9 81.92 found 0 vulnerabilities
#9 81.92 npm notice 
#9 81.92 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.92 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.92 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.92 npm notice 
#9 DONE 87.1s

#10 [6/6] RUN npm run build
#10 0.700 
#10 0.700 > build
#10 0.700 > turbo run build
#10 0.700 
#10 0.767 • Packages in scope: backend, frontend, local-types
#10 0.767 • Running build in 3 packages
#10 0.767 • Remote caching disabled
#10 0.768 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.048 backend:build: 
#10 1.048 backend:build: > backend@1.0.0 build
#10 1.048 backend:build: > nest build
#10 1.048 backend:build: 
#10 5.018 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.301 frontend:build: 
#10 5.301 frontend:build: > frontend@1.0.0 build
#10 5.301 frontend:build: > tsc && vite build
#10 5.301 frontend:build: 
#10 8.334 frontend:build: vite v4.2.2 building for production...
#10 8.358 frontend:build: transforming...
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.133 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.143 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.144 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.145 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.146 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.673 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.705 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.707 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.709 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.59 frontend:build: ✓ 4519 modules transformed.
#10 14.89 frontend:build: rendering chunks...
#10 14.90 frontend:build: computing gzip size...
#10 14.93 frontend:build: dist/index.html                                                   0.44 kB
#10 14.93 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.93 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.93 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.93 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.93 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.93 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.93 frontend:build: 
#10 14.93 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.93 frontend:build: - Using dynamic import() to code-split the application
#10 14.93 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.93 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.93 frontend:build: ✓ built in 6.60s
#10 14.98 
#10 14.98  Tasks:    2 successful, 2 total
#10 14.98 Cached:    0 cached, 2 total
#10 14.98   Time:    14.271s 
#10 14.98 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:3b6385abc7ba71e2723d4f1e787325913d0eef6a4b71de431d8f4e76018e53ba done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T10:57:53+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 147.24168390100075 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.476550890302725 Mbps
          ===============================
        
          ===============================
          Deploy run: 74
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 222 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:00:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:00:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:49 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4074  - [39m04/22/2023, 11:00:50 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.743 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:00:55
frontend:test:    Duration  1.06s (transform 40ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 68ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2820ms)
frontend:test:     ✓ should checkout and place an order (5451ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2087ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2888ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.482s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.931s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.283 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.975 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.437 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.513 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.466 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.93 
#9 81.93 added 1498 packages, and audited 1502 packages in 1m
#9 81.94 
#9 81.94 149 packages are looking for funding
#9 81.94   run `npm fund` for details
#9 81.94 
#9 81.94 found 0 vulnerabilities
#9 81.94 npm notice 
#9 81.94 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.94 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.94 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.94 npm notice 
#9 DONE 83.0s

#10 [6/6] RUN npm run build
#10 0.666 
#10 0.666 > build
#10 0.666 > turbo run build
#10 0.666 
#10 0.732 • Packages in scope: backend, frontend, local-types
#10 0.732 • Running build in 3 packages
#10 0.732 • Remote caching disabled
#10 0.732 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.020 backend:build: 
#10 1.020 backend:build: > backend@1.0.0 build
#10 1.020 backend:build: > nest build
#10 1.020 backend:build: 
#10 5.019 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.303 frontend:build: 
#10 5.303 frontend:build: > frontend@1.0.0 build
#10 5.303 frontend:build: > tsc && vite build
#10 5.303 frontend:build: 
#10 8.341 frontend:build: vite v4.2.2 building for production...
#10 8.366 frontend:build: transforming...
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.138 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.142 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.690 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.721 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.723 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.724 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.49 frontend:build: ✓ 4519 modules transformed.
#10 14.79 frontend:build: rendering chunks...
#10 14.80 frontend:build: computing gzip size...
#10 14.84 frontend:build: dist/index.html                                                   0.44 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.84 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.84 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.84 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.84 frontend:build: 
#10 14.84 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.84 frontend:build: - Using dynamic import() to code-split the application
#10 14.84 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.84 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.84 frontend:build: ✓ built in 6.50s
#10 14.89 
#10 14.89  Tasks:    2 successful, 2 total
#10 14.89 Cached:    0 cached, 2 total
#10 14.89   Time:    14.212s 
#10 14.89 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:c371e83b2f4634f0d6a5a990215435f56badb5b883237a1358de17493c80f7b9 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:00:44+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.40571641600133 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.0883587829166 Mbps
          ===============================
        
          ===============================
          Deploy run: 75
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:03:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:03:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5818  - [39m04/22/2023, 11:03:34 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.692 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:03:40
frontend:test:    Duration  1.09s (transform 44ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2710ms)
frontend:test:     ✓ should checkout and place an order (5716ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2075ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2908ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.771s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.223s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.321 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.001 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.416 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.479 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.482 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.71 
#9 81.71 added 1498 packages, and audited 1502 packages in 1m
#9 81.71 
#9 81.71 149 packages are looking for funding
#9 81.71   run `npm fund` for details
#9 81.71 
#9 81.71 found 0 vulnerabilities
#9 81.71 npm notice 
#9 81.71 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.71 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.71 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.71 npm notice 
#9 DONE 82.5s

#10 [6/6] RUN npm run build
#10 0.824 
#10 0.824 > build
#10 0.824 > turbo run build
#10 0.824 
#10 0.888 • Packages in scope: backend, frontend, local-types
#10 0.888 • Running build in 3 packages
#10 0.888 • Remote caching disabled
#10 0.888 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.168 backend:build: 
#10 1.168 backend:build: > backend@1.0.0 build
#10 1.168 backend:build: > nest build
#10 1.168 backend:build: 
#10 5.128 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.420 frontend:build: 
#10 5.420 frontend:build: > frontend@1.0.0 build
#10 5.420 frontend:build: > tsc && vite build
#10 5.420 frontend:build: 
#10 8.509 frontend:build: vite v4.2.2 building for production...
#10 8.533 frontend:build: transforming...
#10 9.277 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.280 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.284 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.286 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.287 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.288 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.290 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.291 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.292 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.292 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.851 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.880 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.882 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.883 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.64 frontend:build: ✓ 4519 modules transformed.
#10 14.97 frontend:build: rendering chunks...
#10 14.98 frontend:build: computing gzip size...
#10 15.03 frontend:build: dist/index.html                                                   0.44 kB
#10 15.03 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.03 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.03 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.03 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.03 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.03 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.03 frontend:build: 
#10 15.03 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.03 frontend:build: - Using dynamic import() to code-split the application
#10 15.03 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.03 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.03 frontend:build: ✓ built in 6.52s
#10 15.15 
#10 15.15  Tasks:    2 successful, 2 total
#10 15.15 Cached:    0 cached, 2 total
#10 15.15   Time:    14.311s 
#10 15.15 
#10 DONE 15.2s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:3f800215811b4c50a80b3743d76d37698f175a54f4806057b1d3d340c4f5db2c done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:03:29+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.36242792799698 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.64999135470276 Mbps
          ===============================
        
          ===============================
          Deploy run: 76
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:06:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:06:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7577  - [39m04/22/2023, 11:06:21 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.735 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:06:27
frontend:test:    Duration  1.14s (transform 64ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 100ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2754ms)
frontend:test:     ✓ should checkout and place an order (5695ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2107ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2931ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.989s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.69s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.269 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.015 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.395 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.462 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 9.874 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 85.64 
#9 85.64 added 1498 packages, and audited 1502 packages in 1m
#9 85.64 
#9 85.65 149 packages are looking for funding
#9 85.65   run `npm fund` for details
#9 85.65 
#9 85.65 found 0 vulnerabilities
#9 85.65 npm notice 
#9 85.65 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 85.65 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 85.65 npm notice Run `npm install -g npm@9.6.5` to update!
#9 85.65 npm notice 
#9 DONE 89.4s

#10 [6/6] RUN npm run build
#10 0.738 
#10 0.738 > build
#10 0.738 > turbo run build
#10 0.738 
#10 0.806 • Packages in scope: backend, frontend, local-types
#10 0.806 • Running build in 3 packages
#10 0.806 • Remote caching disabled
#10 0.806 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.089 backend:build: 
#10 1.089 backend:build: > backend@1.0.0 build
#10 1.089 backend:build: > nest build
#10 1.089 backend:build: 
#10 5.096 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.387 frontend:build: 
#10 5.387 frontend:build: > frontend@1.0.0 build
#10 5.387 frontend:build: > tsc && vite build
#10 5.387 frontend:build: 
#10 8.454 frontend:build: vite v4.2.2 building for production...
#10 8.479 frontend:build: transforming...
#10 9.235 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.243 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.244 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.246 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.247 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.248 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.249 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.251 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.252 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.253 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.785 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.821 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.822 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.824 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.59 frontend:build: ✓ 4519 modules transformed.
#10 14.92 frontend:build: rendering chunks...
#10 14.93 frontend:build: computing gzip size...
#10 14.96 frontend:build: dist/index.html                                                   0.44 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.96 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.96 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.97 frontend:build: 
#10 14.97 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.97 frontend:build: - Using dynamic import() to code-split the application
#10 14.97 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.97 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.97 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.97 frontend:build: ✓ built in 6.51s
#10 15.01 
#10 15.01  Tasks:    2 successful, 2 total
#10 15.01 Cached:    0 cached, 2 total
#10 15.01   Time:    14.266s 
#10 15.01 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:4bc5309fa834aa95ba364c73fa324e1541fade45f0ece8d1450cd30516cd765a done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:06:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 149.7680169389993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.687737768010074 Mbps
          ===============================
        
          ===============================
          Deploy run: 77
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:09:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:09:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9317  - [39m04/22/2023, 11:09:13 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +64ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.76 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:09:19
frontend:test:    Duration  1.13s (transform 53ms, setup 1ms, collect 18ms, tests 2ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2712ms)
frontend:test:     ✓ should checkout and place an order (5709ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2117ms)
frontend:test:     ✓ should throw an error given invalid credentials (1051ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2867ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.678s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.403s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.293 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.977 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.334 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.407 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.648 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.65 
#9 79.65 added 1498 packages, and audited 1502 packages in 1m
#9 79.65 
#9 79.65 149 packages are looking for funding
#9 79.65   run `npm fund` for details
#9 79.65 
#9 79.65 found 0 vulnerabilities
#9 79.65 npm notice 
#9 79.65 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.65 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.65 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.65 npm notice 
#9 DONE 86.5s

#10 [6/6] RUN npm run build
#10 0.658 
#10 0.658 > build
#10 0.658 > turbo run build
#10 0.658 
#10 0.724 • Packages in scope: backend, frontend, local-types
#10 0.724 • Running build in 3 packages
#10 0.724 • Remote caching disabled
#10 0.724 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.007 backend:build: 
#10 1.007 backend:build: > backend@1.0.0 build
#10 1.007 backend:build: > nest build
#10 1.007 backend:build: 
#10 4.971 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.258 frontend:build: 
#10 5.258 frontend:build: > frontend@1.0.0 build
#10 5.258 frontend:build: > tsc && vite build
#10 5.258 frontend:build: 
#10 8.303 frontend:build: vite v4.2.2 building for production...
#10 8.327 frontend:build: transforming...
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.094 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.095 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.096 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.098 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.098 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.099 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.100 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.102 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.103 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.540 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.571 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.572 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.574 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.33 frontend:build: ✓ 4519 modules transformed.
#10 14.63 frontend:build: rendering chunks...
#10 14.64 frontend:build: computing gzip size...
#10 14.69 frontend:build: 
#10 14.69 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.69 frontend:build: - Using dynamic import() to code-split the application
#10 14.69 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.69 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.69 frontend:build: dist/index.html                                                   0.44 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.69 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.69 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.69 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.69 frontend:build: ✓ built in 6.38s
#10 14.73 
#10 14.73  Tasks:    2 successful, 2 total
#10 14.73 Cached:    0 cached, 2 total
#10 14.73   Time:    14.061s 
#10 14.73 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:51b2955c994319022fee8c9c13a163317bd80600569d09d5b3344f547c16c0fe done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:09:07+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 146.8694746209979 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.18303391519138 Mbps
          ===============================
        
          ===============================
          Deploy run: 78
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 224 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:12:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:12:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11051  - [39m04/22/2023, 11:12:02 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.766 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:12:08
frontend:test:    Duration  1.13s (transform 94ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 141ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2743ms)
frontend:test:     ✓ should checkout and place an order (5612ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2065ms)
frontend:test:     ✓ should throw an error given invalid credentials (1013ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2891ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.792s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.29s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.288 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.970 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.331 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.394 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.827 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.78 
#9 81.78 added 1498 packages, and audited 1502 packages in 1m
#9 81.78 
#9 81.78 149 packages are looking for funding
#9 81.78   run `npm fund` for details
#9 81.78 
#9 81.78 found 0 vulnerabilities
#9 81.78 npm notice 
#9 81.78 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.78 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.78 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.78 npm notice 
#9 DONE 87.5s

#10 [6/6] RUN npm run build
#10 0.687 
#10 0.687 > build
#10 0.687 > turbo run build
#10 0.687 
#10 0.754 • Packages in scope: backend, frontend, local-types
#10 0.754 • Running build in 3 packages
#10 0.754 • Remote caching disabled
#10 0.755 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.039 backend:build: 
#10 1.039 backend:build: > backend@1.0.0 build
#10 1.039 backend:build: > nest build
#10 1.039 backend:build: 
#10 5.032 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.318 frontend:build: 
#10 5.318 frontend:build: > frontend@1.0.0 build
#10 5.318 frontend:build: > tsc && vite build
#10 5.318 frontend:build: 
#10 8.375 frontend:build: vite v4.2.2 building for production...
#10 8.400 frontend:build: transforming...
#10 9.164 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.168 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.171 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.175 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.178 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.760 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.761 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.763 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.765 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.58 frontend:build: ✓ 4519 modules transformed.
#10 14.88 frontend:build: rendering chunks...
#10 14.89 frontend:build: computing gzip size...
#10 14.92 frontend:build: dist/index.html                                                   0.44 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.92 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.92 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.92 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.92 frontend:build: 
#10 14.92 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.92 frontend:build: - Using dynamic import() to code-split the application
#10 14.92 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.92 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.92 frontend:build: ✓ built in 6.55s
#10 14.97 
#10 14.97  Tasks:    2 successful, 2 total
#10 14.97 Cached:    0 cached, 2 total
#10 14.97   Time:    14.272s 
#10 14.97 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:d66395dc7cc9cb02c2485039d01da3ac9e95e9f3a705ad3af3e9b8f09810f9dd done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:11:57+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 147.4537073169984 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.80302031717337 Mbps
          ===============================
        
          ===============================
          Deploy run: 79
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:14:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:14:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12787  - [39m04/22/2023, 11:14:52 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.675 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:14:58
frontend:test:    Duration  1.09s (transform 81ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 109ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2759ms)
frontend:test:     ✓ should checkout and place an order (5668ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2074ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2865ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.592s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.684s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.336 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.034 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.461 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.526 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.1s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.529 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.48 
#9 81.48 added 1498 packages, and audited 1502 packages in 1m
#9 81.48 
#9 81.48 149 packages are looking for funding
#9 81.48   run `npm fund` for details
#9 81.48 
#9 81.48 found 0 vulnerabilities
#9 81.48 npm notice 
#9 81.48 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.48 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.48 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.48 npm notice 
#9 DONE 82.9s

#10 [6/6] RUN npm run build
#10 0.728 
#10 0.728 > build
#10 0.728 > turbo run build
#10 0.728 
#10 0.795 • Packages in scope: backend, frontend, local-types
#10 0.795 • Running build in 3 packages
#10 0.795 • Remote caching disabled
#10 0.795 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.084 backend:build: 
#10 1.084 backend:build: > backend@1.0.0 build
#10 1.084 backend:build: > nest build
#10 1.084 backend:build: 
#10 5.096 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.379 frontend:build: 
#10 5.379 frontend:build: > frontend@1.0.0 build
#10 5.379 frontend:build: > tsc && vite build
#10 5.379 frontend:build: 
#10 8.406 frontend:build: vite v4.2.2 building for production...
#10 8.430 frontend:build: transforming...
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.171 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.172 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.180 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.642 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.642 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.644 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.645 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.39 frontend:build: ✓ 4519 modules transformed.
#10 14.69 frontend:build: rendering chunks...
#10 14.70 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.74 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.74 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.74 frontend:build: 
#10 14.74 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.74 frontend:build: - Using dynamic import() to code-split the application
#10 14.74 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.74 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.74 frontend:build: ✓ built in 6.33s
#10 14.78 
#10 14.78  Tasks:    2 successful, 2 total
#10 14.78 Cached:    0 cached, 2 total
#10 14.78   Time:    14.043s 
#10 14.78 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:75c60d4188afbfa804de2f18533e094d3e9d63ea5e96553d0faed7268f002bb1 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:14:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.0180966040008 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.70360067392405 Mbps
          ===============================
        
          ===============================
          Deploy run: 80
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 224 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:17:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:17:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:17:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14539  - [39m04/22/2023, 11:17:39 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.745 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:17:45
frontend:test:    Duration  1.13s (transform 113ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 157ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2711ms)
frontend:test:     ✓ should checkout and place an order (5641ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2108ms)
frontend:test:     ✓ should throw an error given invalid credentials (1015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2952ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.791s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.965s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.287 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.981 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.392 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.466 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.608 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 82.86 
#9 82.86 added 1498 packages, and audited 1502 packages in 1m
#9 82.86 
#9 82.86 149 packages are looking for funding
#9 82.86   run `npm fund` for details
#9 82.86 
#9 82.86 found 0 vulnerabilities
#9 82.86 npm notice 
#9 82.86 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 82.86 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 82.86 npm notice Run `npm install -g npm@9.6.5` to update!
#9 82.86 npm notice 
#9 DONE 89.8s

#10 [6/6] RUN npm run build
#10 0.680 
#10 0.680 > build
#10 0.680 > turbo run build
#10 0.680 
#10 0.746 • Packages in scope: backend, frontend, local-types
#10 0.746 • Running build in 3 packages
#10 0.746 • Remote caching disabled
#10 0.746 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.030 backend:build: 
#10 1.030 backend:build: > backend@1.0.0 build
#10 1.030 backend:build: > nest build
#10 1.030 backend:build: 
#10 5.041 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.324 frontend:build: 
#10 5.324 frontend:build: > frontend@1.0.0 build
#10 5.324 frontend:build: > tsc && vite build
#10 5.324 frontend:build: 
#10 8.454 frontend:build: vite v4.2.2 building for production...
#10 8.479 frontend:build: transforming...
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.232 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.233 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.234 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.235 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.236 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.238 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.239 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.669 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.699 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.700 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.805 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.40 frontend:build: ✓ 4519 modules transformed.
#10 14.71 frontend:build: rendering chunks...
#10 14.72 frontend:build: computing gzip size...
#10 14.75 frontend:build: dist/index.html                                                   0.44 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.76 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.76 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.76 frontend:build: 
#10 14.76 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.76 frontend:build: - Using dynamic import() to code-split the application
#10 14.76 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.76 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.76 frontend:build: ✓ built in 6.30s
#10 14.80 
#10 14.80  Tasks:    2 successful, 2 total
#10 14.80 Cached:    0 cached, 2 total
#10 14.80   Time:    14.113s 
#10 14.80 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:084ca411d6df0119af180664fa8d9ca6e9358e8a5f0367a2ea632bfdbb17d92a done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:17:33+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 150.2812034550011 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.67404499247868 Mbps
          ===============================
        
          ===============================
          Deploy run: 81
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 211 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:20:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:20:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16291  - [39m04/22/2023, 11:20:32 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.717 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:20:37
frontend:test:    Duration  1.13s (transform 65ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 103ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2708ms)
frontend:test:     ✓ should checkout and place an order (5459ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2052ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2913ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.68s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.098s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.298 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.979 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.394 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.460 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 9.243 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.77 
#9 81.77 added 1498 packages, and audited 1502 packages in 1m
#9 81.77 
#9 81.77 149 packages are looking for funding
#9 81.77   run `npm fund` for details
#9 81.77 
#9 81.77 found 0 vulnerabilities
#9 81.77 npm notice 
#9 81.77 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.77 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.77 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.77 npm notice 
#9 DONE 82.5s

#10 [6/6] RUN npm run build
#10 0.744 
#10 0.744 > build
#10 0.744 > turbo run build
#10 0.744 
#10 0.809 • Packages in scope: backend, frontend, local-types
#10 0.809 • Running build in 3 packages
#10 0.809 • Remote caching disabled
#10 0.809 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.097 backend:build: 
#10 1.097 backend:build: > backend@1.0.0 build
#10 1.097 backend:build: > nest build
#10 1.097 backend:build: 
#10 5.081 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.371 frontend:build: 
#10 5.371 frontend:build: > frontend@1.0.0 build
#10 5.371 frontend:build: > tsc && vite build
#10 5.371 frontend:build: 
#10 8.411 frontend:build: vite v4.2.2 building for production...
#10 8.435 frontend:build: transforming...
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.182 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.194 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.195 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.621 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.652 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.653 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.655 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.37 frontend:build: ✓ 4519 modules transformed.
#10 14.67 frontend:build: rendering chunks...
#10 14.68 frontend:build: computing gzip size...
#10 14.71 frontend:build: dist/index.html                                                   0.44 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.72 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.72 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.72 frontend:build: 
#10 14.72 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.72 frontend:build: - Using dynamic import() to code-split the application
#10 14.72 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.72 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.72 frontend:build: ✓ built in 6.30s
#10 14.76 
#10 14.76  Tasks:    2 successful, 2 total
#10 14.76 Cached:    0 cached, 2 total
#10 14.76   Time:    14.005s 
#10 14.76 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:f3630d67db0a9a5bda39aac01520d13aaa3fd79c0bf8d431a7e70fbb5ffdbaf2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:20:26+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.61438952999936 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.56940248773569 Mbps
          ===============================
        
          ===============================
          Deploy run: 82
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 207 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:23:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18044  - [39m04/22/2023, 11:23:17 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.682 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:23:23
frontend:test:    Duration  1.12s (transform 84ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 126ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2771ms)
frontend:test:     ✓ should checkout and place an order (5512ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2113ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2894ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.754s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.181s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.299 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.989 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.388 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.461 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.337 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 82.38 
#9 82.38 added 1498 packages, and audited 1502 packages in 1m
#9 82.38 
#9 82.38 149 packages are looking for funding
#9 82.38   run `npm fund` for details
#9 82.38 
#9 82.38 found 0 vulnerabilities
#9 82.38 npm notice 
#9 82.38 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 82.38 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 82.38 npm notice Run `npm install -g npm@9.6.5` to update!
#9 82.38 npm notice 
#9 DONE 83.2s

#10 [6/6] RUN npm run build
#10 0.759 
#10 0.759 > build
#10 0.759 > turbo run build
#10 0.759 
#10 0.825 • Packages in scope: backend, frontend, local-types
#10 0.825 • Running build in 3 packages
#10 0.825 • Remote caching disabled
#10 0.825 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.108 backend:build: 
#10 1.108 backend:build: > backend@1.0.0 build
#10 1.108 backend:build: > nest build
#10 1.108 backend:build: 
#10 5.094 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.380 frontend:build: 
#10 5.380 frontend:build: > frontend@1.0.0 build
#10 5.380 frontend:build: > tsc && vite build
#10 5.380 frontend:build: 
#10 8.438 frontend:build: vite v4.2.2 building for production...
#10 8.463 frontend:build: transforming...
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.182 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.224 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.226 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.227 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.228 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.229 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.231 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.232 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.666 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.701 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.702 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.704 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.41 frontend:build: ✓ 4519 modules transformed.
#10 14.71 frontend:build: rendering chunks...
#10 14.72 frontend:build: computing gzip size...
#10 14.76 frontend:build: dist/index.html                                                   0.44 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.76 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.76 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.76 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.76 frontend:build: 
#10 14.76 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.76 frontend:build: - Using dynamic import() to code-split the application
#10 14.76 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.76 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.76 frontend:build: ✓ built in 6.32s
#10 14.80 
#10 14.80  Tasks:    2 successful, 2 total
#10 14.80 Cached:    0 cached, 2 total
#10 14.80   Time:    14.033s 
#10 14.80 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:5bfc38e8f961ced09e74e5ba93041b43221f2f59b40f8147f0d4ccc50c5fb3cd done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:23:11+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.87489813699946 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.46084149589196 Mbps
          ===============================
        
          ===============================
          Deploy run: 83
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:25:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:26:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19785  - [39m04/22/2023, 11:26:02 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.777 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:26:08
frontend:test:    Duration  1.12s (transform 74ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 108ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2763ms)
frontend:test:     ✓ should checkout and place an order (5500ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2113ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2867ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.673s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.145s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.270 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.945 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.324 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.390 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.064 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.93 
#9 81.93 added 1498 packages, and audited 1502 packages in 1m
#9 81.93 
#9 81.93 149 packages are looking for funding
#9 81.93   run `npm fund` for details
#9 81.93 
#9 81.93 found 0 vulnerabilities
#9 81.93 npm notice 
#9 81.93 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.93 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.93 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.93 npm notice 
#9 DONE 88.3s

#10 [6/6] RUN npm run build
#10 0.678 
#10 0.678 > build
#10 0.678 > turbo run build
#10 0.678 
#10 0.743 • Packages in scope: backend, frontend, local-types
#10 0.743 • Running build in 3 packages
#10 0.743 • Remote caching disabled
#10 0.743 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.025 backend:build: 
#10 1.025 backend:build: > backend@1.0.0 build
#10 1.025 backend:build: > nest build
#10 1.025 backend:build: 
#10 4.991 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.274 frontend:build: 
#10 5.274 frontend:build: > frontend@1.0.0 build
#10 5.274 frontend:build: > tsc && vite build
#10 5.274 frontend:build: 
#10 8.298 frontend:build: vite v4.2.2 building for production...
#10 8.321 frontend:build: transforming...
#10 9.003 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.005 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.007 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.010 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.012 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.013 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.014 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.015 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.017 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.017 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.498 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.529 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.531 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.533 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.23 frontend:build: ✓ 4519 modules transformed.
#10 14.53 frontend:build: rendering chunks...
#10 14.54 frontend:build: computing gzip size...
#10 14.58 frontend:build: dist/index.html                                                   0.44 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.58 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.58 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.58 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.58 frontend:build: 
#10 14.58 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.58 frontend:build: - Using dynamic import() to code-split the application
#10 14.58 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.58 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.58 frontend:build: ✓ built in 6.28s
#10 14.62 
#10 14.62  Tasks:    2 successful, 2 total
#10 14.62 Cached:    0 cached, 2 total
#10 14.62   Time:    13.936s 
#10 14.62 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:4ff809be48f8e195939d20e5f0807d5adf6181d3cbe27c5cc6cc77e869d572e4 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:25:56+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 148.24199397999794 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.04792651871721 Mbps
          ===============================
        
          ===============================
          Deploy run: 84
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:28:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:28:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:28:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21519  - [39m04/22/2023, 11:28:53 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.8 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:28:59
frontend:test:    Duration  1.07s (transform 50ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 79ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2867ms)
frontend:test:     ✓ should checkout and place an order (5537ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2082ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2870ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.887s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.613s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 ...

#6 [internal] load build context
#6 transferring context: 848.26kB 0.0s done
#6 DONE 0.0s

#5 [2/6] RUN apk add --no-cache libc6-compat
#5 0.281 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#5 1.003 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#5 1.403 (1/1) Installing libc6-compat (1.2.3-r4)
#5 1.475 OK: 10 MiB in 18 packages
#5 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.101 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 82.27 
#9 82.27 added 1498 packages, and audited 1502 packages in 1m
#9 82.27 
#9 82.27 149 packages are looking for funding
#9 82.27   run `npm fund` for details
#9 82.27 
#9 82.27 found 0 vulnerabilities
#9 82.27 npm notice 
#9 82.27 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 82.27 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 82.27 npm notice Run `npm install -g npm@9.6.5` to update!
#9 82.27 npm notice 
#9 DONE 82.8s

#10 [6/6] RUN npm run build
#10 0.703 
#10 0.703 > build
#10 0.703 > turbo run build
#10 0.703 
#10 0.770 • Packages in scope: backend, frontend, local-types
#10 0.770 • Running build in 3 packages
#10 0.770 • Remote caching disabled
#10 0.770 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.055 backend:build: 
#10 1.055 backend:build: > backend@1.0.0 build
#10 1.055 backend:build: > nest build
#10 1.055 backend:build: 
#10 5.050 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.331 frontend:build: 
#10 5.331 frontend:build: > frontend@1.0.0 build
#10 5.331 frontend:build: > tsc && vite build
#10 5.331 frontend:build: 
#10 8.406 frontend:build: vite v4.2.2 building for production...
#10 8.431 frontend:build: transforming...
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.186 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.191 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.628 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.663 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.665 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.667 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.40 frontend:build: ✓ 4519 modules transformed.
#10 14.70 frontend:build: rendering chunks...
#10 14.71 frontend:build: computing gzip size...
#10 14.74 frontend:build: dist/index.html                                                   0.44 kB
#10 14.74 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.75 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.75 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.75 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.75 frontend:build: 
#10 14.75 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.75 frontend:build: - Using dynamic import() to code-split the application
#10 14.75 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.75 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.75 frontend:build: ✓ built in 6.34s
#10 14.79 
#10 14.79  Tasks:    2 successful, 2 total
#10 14.79 Cached:    0 cached, 2 total
#10 14.79   Time:    14.078s 
#10 14.79 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:ddf5cba08192400ff9aea871dc31404e746928c2344ea1b42cca67955acb9f31 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:28:47+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.90258117000013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.78307607499064 Mbps
          ===============================
        
          ===============================
          Deploy run: 85
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:31:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:31:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:37 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23282  - [39m04/22/2023, 11:31:38 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.698 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:31:44
frontend:test:    Duration  1.09s (transform 70ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 102ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2856ms)
frontend:test:     ✓ should checkout and place an order (5482ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2085ms)
frontend:test:     ✓ should throw an error given invalid credentials (1002ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2911ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.62s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.262s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.272 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.024 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.478 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.549 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.732 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.23 
#9 80.23 added 1498 packages, and audited 1502 packages in 1m
#9 80.23 
#9 80.23 149 packages are looking for funding
#9 80.23   run `npm fund` for details
#9 80.23 
#9 80.23 found 0 vulnerabilities
#9 80.23 npm notice 
#9 80.23 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.23 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.23 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.23 npm notice 
#9 DONE 86.0s

#10 [6/6] RUN npm run build
#10 0.727 
#10 0.727 > build
#10 0.727 > turbo run build
#10 0.727 
#10 0.793 • Packages in scope: backend, frontend, local-types
#10 0.793 • Running build in 3 packages
#10 0.793 • Remote caching disabled
#10 0.793 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.076 backend:build: 
#10 1.076 backend:build: > backend@1.0.0 build
#10 1.076 backend:build: > nest build
#10 1.076 backend:build: 
#10 5.039 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.322 frontend:build: 
#10 5.322 frontend:build: > frontend@1.0.0 build
#10 5.322 frontend:build: > tsc && vite build
#10 5.322 frontend:build: 
#10 8.411 frontend:build: vite v4.2.2 building for production...
#10 8.436 frontend:build: transforming...
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.180 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.812 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.814 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.816 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.817 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 14.59 frontend:build: ✓ 4519 modules transformed.
#10 14.90 frontend:build: rendering chunks...
#10 14.91 frontend:build: computing gzip size...
#10 14.94 frontend:build: dist/index.html                                                   0.44 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.94 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.94 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.94 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.94 frontend:build: 
#10 14.94 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.94 frontend:build: - Using dynamic import() to code-split the application
#10 14.94 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.94 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.95 frontend:build: ✓ built in 6.53s
#10 15.00 
#10 15.00  Tasks:    2 successful, 2 total
#10 15.00 Cached:    0 cached, 2 total
#10 15.00   Time:    14.257s 
#10 15.00 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:6c0d8823b9c17963c6f9c3381eee98cbde19c3a985b78a25bbfd229c87d05ed2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:31:32+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 146.7234701730013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.0769157518166 Mbps
          ===============================
        
          ===============================
          Deploy run: 86
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:34:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:34:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25032  - [39m04/22/2023, 11:34:27 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.688 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:34:33
frontend:test:    Duration  1.08s (transform 78ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 114ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2694ms)
frontend:test:     ✓ should checkout and place an order (5699ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2119ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.771s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.209s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.292 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.985 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.395 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.467 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.348 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.79 
#9 80.79 added 1498 packages, and audited 1502 packages in 1m
#9 80.79 
#9 80.79 149 packages are looking for funding
#9 80.79   run `npm fund` for details
#9 80.79 
#9 80.79 found 0 vulnerabilities
#9 80.79 npm notice 
#9 80.79 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.79 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.79 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.79 npm notice 
#9 DONE 81.3s

#10 [6/6] RUN npm run build
#10 0.638 
#10 0.638 > build
#10 0.638 > turbo run build
#10 0.638 
#10 0.704 • Packages in scope: backend, frontend, local-types
#10 0.704 • Running build in 3 packages
#10 0.704 • Remote caching disabled
#10 0.704 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.988 backend:build: 
#10 0.988 backend:build: > backend@1.0.0 build
#10 0.988 backend:build: > nest build
#10 0.988 backend:build: 
#10 4.966 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.254 frontend:build: 
#10 5.254 frontend:build: > frontend@1.0.0 build
#10 5.254 frontend:build: > tsc && vite build
#10 5.254 frontend:build: 
#10 8.348 frontend:build: vite v4.2.2 building for production...
#10 8.373 frontend:build: transforming...
#10 9.074 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.115 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.116 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.121 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.122 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.555 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.585 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.586 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.587 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.28 frontend:build: ✓ 4519 modules transformed.
#10 14.58 frontend:build: rendering chunks...
#10 14.59 frontend:build: computing gzip size...
#10 14.62 frontend:build: dist/index.html                                                   0.44 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.62 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.62 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.62 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.62 frontend:build: 
#10 14.62 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.62 frontend:build: - Using dynamic import() to code-split the application
#10 14.62 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.62 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.63 frontend:build: ✓ built in 6.28s
#10 14.67 
#10 14.67  Tasks:    2 successful, 2 total
#10 14.67 Cached:    0 cached, 2 total
#10 14.67   Time:    14.018s 
#10 14.67 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:5b2f28924b6bfde54a4e5ed801b7d0c37a2b68211cdd2d4dd0a29b759b5a4086 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:34:21+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.92845566099882 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.90958867766637 Mbps
          ===============================
        
          ===============================
          Deploy run: 87
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 97ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:37:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:37:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26776  - [39m04/22/2023, 11:37:10 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.716 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:37:16
frontend:test:    Duration  1.09s (transform 88ms, setup 1ms, collect 19ms, tests 1ms, environment 0ms, prepare 124ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2772ms)
frontend:test:     ✓ should checkout and place an order (5566ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.681s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.53s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.278 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.960 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.367 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.441 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.671 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.64 
#9 80.64 added 1498 packages, and audited 1502 packages in 1m
#9 80.64 
#9 80.64 149 packages are looking for funding
#9 80.64   run `npm fund` for details
#9 80.64 
#9 80.64 found 0 vulnerabilities
#9 80.64 npm notice 
#9 80.64 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.64 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.64 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.64 npm notice 
#9 DONE 83.8s

#10 [6/6] RUN npm run build
#10 0.686 
#10 0.686 > build
#10 0.686 > turbo run build
#10 0.686 
#10 0.752 • Packages in scope: backend, frontend, local-types
#10 0.752 • Running build in 3 packages
#10 0.752 • Remote caching disabled
#10 0.752 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.035 backend:build: 
#10 1.035 backend:build: > backend@1.0.0 build
#10 1.035 backend:build: > nest build
#10 1.035 backend:build: 
#10 5.044 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.326 frontend:build: 
#10 5.326 frontend:build: > frontend@1.0.0 build
#10 5.326 frontend:build: > tsc && vite build
#10 5.326 frontend:build: 
#10 8.399 frontend:build: vite v4.2.2 building for production...
#10 8.423 frontend:build: transforming...
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.186 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.188 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.189 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.190 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.192 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.193 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.619 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.650 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.652 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 9.653 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.65 frontend:build: rendering chunks...
#10 14.66 frontend:build: computing gzip size...
#10 14.70 frontend:build: dist/index.html                                                   0.44 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.70 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.70 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.70 frontend:build: 
#10 14.70 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.70 frontend:build: - Using dynamic import() to code-split the application
#10 14.70 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.70 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.70 frontend:build: ✓ built in 6.30s
#10 14.74 
#10 14.74  Tasks:    2 successful, 2 total
#10 14.74 Cached:    0 cached, 2 total
#10 14.74   Time:    14.049s 
#10 14.74 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:913a56bdadb94baf30845081d73288b996b353823392dd4926927b92b6a1bee2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:37:05+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.1658344969973 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.54394469827973 Mbps
          ===============================
        
          ===============================
          Deploy run: 88
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 217 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:39:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:39:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28516  - [39m04/22/2023, 11:39:58 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.795 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:40:04
frontend:test:    Duration  1.05s (transform 308ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 420ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2758ms)
frontend:test:     ✓ should checkout and place an order (5565ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2046ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2900ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.84s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.51s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.267 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.484 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.559 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.681 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 77.74 
#9 77.74 added 1498 packages, and audited 1502 packages in 1m
#9 77.74 
#9 77.74 149 packages are looking for funding
#9 77.74   run `npm fund` for details
#9 77.74 
#9 77.74 found 0 vulnerabilities
#9 77.74 npm notice 
#9 77.74 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 77.74 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 77.74 npm notice Run `npm install -g npm@9.6.5` to update!
#9 77.74 npm notice 
#9 DONE 78.4s

#10 [6/6] RUN npm run build
#10 0.691 
#10 0.691 > build
#10 0.691 > turbo run build
#10 0.691 
#10 0.756 • Packages in scope: backend, frontend, local-types
#10 0.756 • Running build in 3 packages
#10 0.756 • Remote caching disabled
#10 0.756 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.036 backend:build: 
#10 1.036 backend:build: > backend@1.0.0 build
#10 1.036 backend:build: > nest build
#10 1.036 backend:build: 
#10 5.098 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.379 frontend:build: 
#10 5.379 frontend:build: > frontend@1.0.0 build
#10 5.379 frontend:build: > tsc && vite build
#10 5.379 frontend:build: 
#10 8.399 frontend:build: vite v4.2.2 building for production...
#10 8.424 frontend:build: transforming...
#10 9.137 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.139 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.141 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.148 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.149 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.152 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.153 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.154 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.155 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.156 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.744 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.771 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.773 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.775 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.55 frontend:build: ✓ 4519 modules transformed.
#10 14.86 frontend:build: rendering chunks...
#10 14.87 frontend:build: computing gzip size...
#10 14.91 frontend:build: dist/index.html                                                   0.44 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.91 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.91 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.91 frontend:build: 
#10 14.91 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.91 frontend:build: - Using dynamic import() to code-split the application
#10 14.91 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.91 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.91 frontend:build: ✓ built in 6.51s
#10 14.96 
#10 14.96  Tasks:    2 successful, 2 total
#10 14.96 Cached:    0 cached, 2 total
#10 14.96   Time:    14.255s 
#10 14.96 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:ef8472cdd5a0ab12bb84f942cc2df73833ea0412c5e529c22449e10046819acc done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:39:52+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.7754606890008 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.025376609264256 Mbps
          ===============================
        
          ===============================
          Deploy run: 89
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 218 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:42:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:42:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30263  - [39m04/22/2023, 11:42:39 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.823 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 3ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:42:45
frontend:test:    Duration  1.02s (transform 55ms, setup 0ms, collect 21ms, tests 3ms, environment 0ms, prepare 88ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2691ms)
frontend:test:     ✓ should checkout and place an order (5704ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2083ms)
frontend:test:     ✓ should throw an error given invalid credentials (1004ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2888ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.67s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.093s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.275 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.344 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.410 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.454 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.65 
#9 78.65 added 1498 packages, and audited 1502 packages in 1m
#9 78.65 
#9 78.65 149 packages are looking for funding
#9 78.65   run `npm fund` for details
#9 78.65 
#9 78.65 found 0 vulnerabilities
#9 78.65 npm notice 
#9 78.65 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.65 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.65 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.65 npm notice 
#9 DONE 79.4s

#10 [6/6] RUN npm run build
#10 0.715 
#10 0.715 > build
#10 0.715 > turbo run build
#10 0.715 
#10 0.782 • Packages in scope: backend, frontend, local-types
#10 0.782 • Running build in 3 packages
#10 0.782 • Remote caching disabled
#10 0.782 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.067 backend:build: 
#10 1.067 backend:build: > backend@1.0.0 build
#10 1.067 backend:build: > nest build
#10 1.067 backend:build: 
#10 5.061 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.353 frontend:build: 
#10 5.353 frontend:build: > frontend@1.0.0 build
#10 5.353 frontend:build: > tsc && vite build
#10 5.353 frontend:build: 
#10 8.393 frontend:build: vite v4.2.2 building for production...
#10 8.418 frontend:build: transforming...
#10 9.112 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.134 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.135 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.136 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.730 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.758 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.759 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.761 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.56 frontend:build: ✓ 4519 modules transformed.
#10 14.87 frontend:build: rendering chunks...
#10 14.88 frontend:build: computing gzip size...
#10 14.91 frontend:build: dist/index.html                                                   0.44 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.91 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.91 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.91 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.91 frontend:build: 
#10 14.91 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.91 frontend:build: - Using dynamic import() to code-split the application
#10 14.91 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.91 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.91 frontend:build: ✓ built in 6.52s
#10 14.96 
#10 14.96  Tasks:    2 successful, 2 total
#10 14.96 Cached:    0 cached, 2 total
#10 14.96   Time:    14.234s 
#10 14.96 
#10 DONE 15.0s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:3fc9e9542f5fd038fa81eb28f50acc5211104eca8bf41c8b477ca9fe89edb6f2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:42:33+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 139.92839787000045 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.48118110199434 Mbps
          ===============================
        
          ===============================
          Deploy run: 90
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 221 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:45:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:45:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32000  - [39m04/22/2023, 11:45:22 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.792 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:45:28
frontend:test:    Duration  1.15s (transform 93ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 135ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2807ms)
frontend:test:     ✓ should checkout and place an order (5631ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2155ms)
frontend:test:     ✓ should throw an error given invalid credentials (1011ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.041s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.564s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.339 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.140 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.543 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.621 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.793 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.73 
#9 81.73 added 1498 packages, and audited 1502 packages in 1m
#9 81.73 
#9 81.73 149 packages are looking for funding
#9 81.73   run `npm fund` for details
#9 81.73 
#9 81.73 found 0 vulnerabilities
#9 81.74 npm notice 
#9 81.74 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.74 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.74 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.74 npm notice 
#9 DONE 82.4s

#10 [6/6] RUN npm run build
#10 0.659 
#10 0.659 > build
#10 0.659 > turbo run build
#10 0.659 
#10 0.725 • Packages in scope: backend, frontend, local-types
#10 0.725 • Running build in 3 packages
#10 0.725 • Remote caching disabled
#10 0.725 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.008 backend:build: 
#10 1.008 backend:build: > backend@1.0.0 build
#10 1.008 backend:build: > nest build
#10 1.008 backend:build: 
#10 5.024 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.302 frontend:build: 
#10 5.302 frontend:build: > frontend@1.0.0 build
#10 5.302 frontend:build: > tsc && vite build
#10 5.302 frontend:build: 
#10 8.333 frontend:build: vite v4.2.2 building for production...
#10 8.357 frontend:build: transforming...
#10 9.068 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.070 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.072 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.081 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.083 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.085 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.672 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.699 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.704 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.706 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.45 frontend:build: ✓ 4519 modules transformed.
#10 14.76 frontend:build: rendering chunks...
#10 14.76 frontend:build: computing gzip size...
#10 14.80 frontend:build: dist/index.html                                                   0.44 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.80 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.80 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.80 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.80 frontend:build: 
#10 14.80 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.80 frontend:build: - Using dynamic import() to code-split the application
#10 14.80 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.80 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.80 frontend:build: ✓ built in 6.47s
#10 14.85 
#10 14.85  Tasks:    2 successful, 2 total
#10 14.85 Cached:    0 cached, 2 total
#10 14.85   Time:    14.179s 
#10 14.85 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:46f28d3184ff391496bff3de06bede2768f3f7c8ee3728a915a8ac3d8c0abc81 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:45:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.2426764780022 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.29488994261264 Mbps
          ===============================
        
          ===============================
          Deploy run: 91
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 214 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:48:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:48:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:48:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1269  - [39m04/22/2023, 11:48:07 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.769 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:48:13
frontend:test:    Duration  1.09s (transform 37ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2850ms)
frontend:test:     ✓ should checkout and place an order (5608ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2891ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.066s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.824s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.311 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.047 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.418 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.482 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.582 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.50 
#9 80.50 added 1498 packages, and audited 1502 packages in 1m
#9 80.50 
#9 80.50 149 packages are looking for funding
#9 80.50   run `npm fund` for details
#9 80.50 
#9 80.50 found 0 vulnerabilities
#9 80.50 npm notice 
#9 80.50 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.50 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.50 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.50 npm notice 
#9 DONE 81.4s

#10 [6/6] RUN npm run build
#10 0.677 
#10 0.677 > build
#10 0.677 > turbo run build
#10 0.677 
#10 0.743 • Packages in scope: backend, frontend, local-types
#10 0.743 • Running build in 3 packages
#10 0.743 • Remote caching disabled
#10 0.743 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.033 backend:build: 
#10 1.033 backend:build: > backend@1.0.0 build
#10 1.033 backend:build: > nest build
#10 1.033 backend:build: 
#10 4.999 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.289 frontend:build: 
#10 5.289 frontend:build: > frontend@1.0.0 build
#10 5.289 frontend:build: > tsc && vite build
#10 5.289 frontend:build: 
#10 8.325 frontend:build: vite v4.2.2 building for production...
#10 8.349 frontend:build: transforming...
#10 9.064 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.104 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.106 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.107 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.109 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.110 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.113 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.551 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.582 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.583 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.586 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.30 frontend:build: ✓ 4519 modules transformed.
#10 14.61 frontend:build: rendering chunks...
#10 14.61 frontend:build: computing gzip size...
#10 14.65 frontend:build: dist/index.html                                                   0.44 kB
#10 14.65 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.65 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.65 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.65 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.65 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.65 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.65 frontend:build: 
#10 14.65 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.65 frontend:build: - Using dynamic import() to code-split the application
#10 14.65 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.65 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.65 frontend:build: ✓ built in 6.33s
#10 14.70 
#10 14.70  Tasks:    2 successful, 2 total
#10 14.70 Cached:    0 cached, 2 total
#10 14.70   Time:    14.012s 
#10 14.70 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:5878f34902b5d2ace9c5a3c2c853c3f6fd11efb4e087bd71f426386f5ec8fb15 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:48:01+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.379051332999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.41007791921409 Mbps
          ===============================
        
          ===============================
          Deploy run: 92
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:50:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:50:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3015  - [39m04/22/2023, 11:50:51 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.735 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:50:57
frontend:test:    Duration  1.14s (transform 87ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 122ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2794ms)
frontend:test:     ✓ should checkout and place an order (5593ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2101ms)
frontend:test:     ✓ should throw an error given invalid credentials (1028ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2901ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.056s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.54s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.298 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.983 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.413 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.483 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.405 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.46 
#9 81.46 added 1498 packages, and audited 1502 packages in 1m
#9 81.46 
#9 81.46 149 packages are looking for funding
#9 81.46   run `npm fund` for details
#9 81.47 
#9 81.47 found 0 vulnerabilities
#9 81.47 npm notice 
#9 81.47 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.47 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.47 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.47 npm notice 
#9 DONE 82.1s

#10 [6/6] RUN npm run build
#10 0.688 
#10 0.688 > build
#10 0.688 > turbo run build
#10 0.688 
#10 0.754 • Packages in scope: backend, frontend, local-types
#10 0.754 • Running build in 3 packages
#10 0.754 • Remote caching disabled
#10 0.754 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.037 backend:build: 
#10 1.037 backend:build: > backend@1.0.0 build
#10 1.037 backend:build: > nest build
#10 1.037 backend:build: 
#10 5.018 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.301 frontend:build: 
#10 5.301 frontend:build: > frontend@1.0.0 build
#10 5.301 frontend:build: > tsc && vite build
#10 5.301 frontend:build: 
#10 8.385 frontend:build: vite v4.2.2 building for production...
#10 8.410 frontend:build: transforming...
#10 9.170 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.173 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.179 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.186 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.187 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.759 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.791 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.793 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.794 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.66 frontend:build: ✓ 4519 modules transformed.
#10 14.96 frontend:build: rendering chunks...
#10 14.97 frontend:build: computing gzip size...
#10 15.01 frontend:build: dist/index.html                                                   0.44 kB
#10 15.01 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.01 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.01 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.01 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.01 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.01 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.01 frontend:build: 
#10 15.01 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.01 frontend:build: - Using dynamic import() to code-split the application
#10 15.01 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.01 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.01 frontend:build: ✓ built in 6.62s
#10 15.05 
#10 15.05  Tasks:    2 successful, 2 total
#10 15.05 Cached:    0 cached, 2 total
#10 15.05   Time:    14.357s 
#10 15.05 
#10 DONE 15.1s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:98c72ca6b6ade7ea9e1d20aae885a6ae2c88871aa6c102cee657d521f1d10778 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:50:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.4060403419994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 35.41104085996451 Mbps
          ===============================
        
          ===============================
          Deploy run: 93
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 212 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:53:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:53:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4761  - [39m04/22/2023, 11:53:36 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.57 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:53:42
frontend:test:    Duration  1.05s (transform 61ms, setup 0ms, collect 21ms, tests 1ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2784ms)
frontend:test:     ✓ should checkout and place an order (5547ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2143ms)
frontend:test:     ✓ should throw an error given invalid credentials (1007ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.495s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.595s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.251 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.950 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.327 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.392 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.647 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.33 
#9 80.33 added 1498 packages, and audited 1502 packages in 1m
#9 80.33 
#9 80.33 149 packages are looking for funding
#9 80.33   run `npm fund` for details
#9 80.33 
#9 80.33 found 0 vulnerabilities
#9 80.33 npm notice 
#9 80.33 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.33 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.33 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.33 npm notice 
#9 DONE 80.9s

#10 [6/6] RUN npm run build
#10 0.655 
#10 0.655 > build
#10 0.655 > turbo run build
#10 0.655 
#10 0.722 • Packages in scope: backend, frontend, local-types
#10 0.722 • Running build in 3 packages
#10 0.722 • Remote caching disabled
#10 0.722 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.008 backend:build: 
#10 1.008 backend:build: > backend@1.0.0 build
#10 1.008 backend:build: > nest build
#10 1.008 backend:build: 
#10 4.972 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.257 frontend:build: 
#10 5.257 frontend:build: > frontend@1.0.0 build
#10 5.257 frontend:build: > tsc && vite build
#10 5.257 frontend:build: 
#10 8.311 frontend:build: vite v4.2.2 building for production...
#10 8.337 frontend:build: transforming...
#10 9.105 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.108 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.111 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.114 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.115 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.116 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.118 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.650 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.681 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.683 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.684 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.45 frontend:build: ✓ 4519 modules transformed.
#10 14.78 frontend:build: rendering chunks...
#10 14.79 frontend:build: computing gzip size...
#10 14.83 frontend:build: dist/index.html                                                   0.44 kB
#10 14.83 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.83 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.83 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.83 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.83 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.83 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.83 frontend:build: 
#10 14.83 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.83 frontend:build: - Using dynamic import() to code-split the application
#10 14.83 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.83 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.83 frontend:build: ✓ built in 6.51s
#10 14.87 
#10 14.87  Tasks:    2 successful, 2 total
#10 14.87 Cached:    0 cached, 2 total
#10 14.87   Time:    14.209s 
#10 14.87 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.6s done
#11 writing image sha256:63d313df7b190227deb3e71988a43d31903e7d7340dc59e5c8c2a9994a91383e done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.6s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:53:30+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 141.60291226800157 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.45508220621751 Mbps
          ===============================
        
          ===============================
          Deploy run: 94
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 99ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 213 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:56:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:56:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:21 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6495  - [39m04/22/2023, 11:56:22 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.672 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:56:27
frontend:test:    Duration  1.16s (transform 106ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 162ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5631ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2085ms)
frontend:test:     ✓ should throw an error given invalid credentials (1005ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.183s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.619s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.266 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.999 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.386 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.455 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.697 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.42 
#9 83.42 added 1498 packages, and audited 1502 packages in 1m
#9 83.42 
#9 83.42 149 packages are looking for funding
#9 83.42   run `npm fund` for details
#9 83.42 
#9 83.42 found 0 vulnerabilities
#9 83.42 npm notice 
#9 83.42 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.42 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.42 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.42 npm notice 
#9 DONE 84.2s

#10 [6/6] RUN npm run build
#10 0.692 
#10 0.692 > build
#10 0.692 > turbo run build
#10 0.692 
#10 0.760 • Packages in scope: backend, frontend, local-types
#10 0.760 • Running build in 3 packages
#10 0.760 • Remote caching disabled
#10 0.760 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.042 backend:build: 
#10 1.042 backend:build: > backend@1.0.0 build
#10 1.042 backend:build: > nest build
#10 1.042 backend:build: 
#10 5.029 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.309 frontend:build: 
#10 5.309 frontend:build: > frontend@1.0.0 build
#10 5.309 frontend:build: > tsc && vite build
#10 5.309 frontend:build: 
#10 8.409 frontend:build: vite v4.2.2 building for production...
#10 8.434 frontend:build: transforming...
#10 9.174 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.175 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.177 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.178 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.180 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.181 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.182 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.183 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.184 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.185 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.614 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.646 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.648 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.650 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.35 frontend:build: ✓ 4519 modules transformed.
#10 14.65 frontend:build: rendering chunks...
#10 14.66 frontend:build: computing gzip size...
#10 14.70 frontend:build: dist/index.html                                                   0.44 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.70 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.70 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.70 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.70 frontend:build: 
#10 14.70 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.70 frontend:build: - Using dynamic import() to code-split the application
#10 14.70 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.70 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.70 frontend:build: ✓ built in 6.29s
#10 14.75 
#10 14.75  Tasks:    2 successful, 2 total
#10 14.75 Cached:    0 cached, 2 total
#10 14.75   Time:    14.044s 
#10 14.75 
#10 DONE 14.8s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:795696aa21b9326e414f5dd55e7f3b8d213f35bd858f0b8ddfe989851316d376 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:56:16+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 144.43221100400015 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.32773591596659 Mbps
          ===============================
        
          ===============================
          Deploy run: 95
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 93ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:59:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 11:59:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8240  - [39m04/22/2023, 11:59:09 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.748 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:59:15
frontend:test:    Duration  1.08s (transform 43ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 88ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2731ms)
frontend:test:     ✓ should checkout and place an order (5491ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2057ms)
frontend:test:     ✓ should throw an error given invalid credentials (1008ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2880ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.66s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.094s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.278 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.027 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.480 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.545 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.582 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 79.44 
#9 79.44 added 1498 packages, and audited 1502 packages in 1m
#9 79.44 
#9 79.44 149 packages are looking for funding
#9 79.44   run `npm fund` for details
#9 79.44 
#9 79.44 found 0 vulnerabilities
#9 79.44 npm notice 
#9 79.44 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 79.44 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 79.44 npm notice Run `npm install -g npm@9.6.5` to update!
#9 79.44 npm notice 
#9 DONE 80.0s

#10 [6/6] RUN npm run build
#10 0.722 
#10 0.722 > build
#10 0.722 > turbo run build
#10 0.722 
#10 0.786 • Packages in scope: backend, frontend, local-types
#10 0.786 • Running build in 3 packages
#10 0.786 • Remote caching disabled
#10 0.787 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.069 backend:build: 
#10 1.069 backend:build: > backend@1.0.0 build
#10 1.069 backend:build: > nest build
#10 1.069 backend:build: 
#10 5.019 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.298 frontend:build: 
#10 5.298 frontend:build: > frontend@1.0.0 build
#10 5.298 frontend:build: > tsc && vite build
#10 5.298 frontend:build: 
#10 8.312 frontend:build: vite v4.2.2 building for production...
#10 8.335 frontend:build: transforming...
#10 9.069 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.081 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.653 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.680 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.682 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.684 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.51 frontend:build: ✓ 4519 modules transformed.
#10 14.81 frontend:build: rendering chunks...
#10 14.82 frontend:build: computing gzip size...
#10 14.86 frontend:build: dist/index.html                                                   0.44 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.86 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.86 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.86 frontend:build: 
#10 14.86 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.86 frontend:build: - Using dynamic import() to code-split the application
#10 14.86 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.86 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.86 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.86 frontend:build: ✓ built in 6.55s
#10 14.90 
#10 14.90  Tasks:    2 successful, 2 total
#10 14.90 Cached:    0 cached, 2 total
#10 14.90   Time:    14.168s 
#10 14.90 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:5b3b470698f86051da6f6a8d6289f27034bf77613935f46ab1e2684abeffb235 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T11:59:03+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.4690241889991 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.524511789053015 Mbps
          ===============================
        
          ===============================
          Deploy run: 96
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 219 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 12:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9990  - [39m04/22/2023, 12:01:52 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.65 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  12:01:58
frontend:test:    Duration  1.06s (transform 53ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2817ms)
frontend:test:     ✓ should checkout and place an order (5627ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2107ms)
frontend:test:     ✓ should throw an error given invalid credentials (1066ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.655s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.271s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.275 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.959 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.349 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.413 OK: 10 MiB in 18 packages
#6 DONE 1.4s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.541 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 78.16 
#9 78.16 added 1498 packages, and audited 1502 packages in 1m
#9 78.16 
#9 78.16 149 packages are looking for funding
#9 78.16   run `npm fund` for details
#9 78.16 
#9 78.16 found 0 vulnerabilities
#9 78.16 npm notice 
#9 78.16 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 78.16 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 78.16 npm notice Run `npm install -g npm@9.6.5` to update!
#9 78.16 npm notice 
#9 DONE 78.9s

#10 [6/6] RUN npm run build
#10 0.704 
#10 0.704 > build
#10 0.704 > turbo run build
#10 0.704 
#10 0.770 • Packages in scope: backend, frontend, local-types
#10 0.770 • Running build in 3 packages
#10 0.770 • Remote caching disabled
#10 0.770 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.057 backend:build: 
#10 1.057 backend:build: > backend@1.0.0 build
#10 1.057 backend:build: > nest build
#10 1.057 backend:build: 
#10 5.028 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.315 frontend:build: 
#10 5.315 frontend:build: > frontend@1.0.0 build
#10 5.315 frontend:build: > tsc && vite build
#10 5.315 frontend:build: 
#10 8.347 frontend:build: vite v4.2.2 building for production...
#10 8.372 frontend:build: transforming...
#10 9.080 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.083 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.126 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.127 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.128 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.129 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.131 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.132 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.565 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.596 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.597 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.599 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.28 frontend:build: ✓ 4519 modules transformed.
#10 14.59 frontend:build: rendering chunks...
#10 14.60 frontend:build: computing gzip size...
#10 14.64 frontend:build: dist/index.html                                                   0.44 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.64 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.64 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.64 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.64 frontend:build: 
#10 14.64 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.64 frontend:build: - Using dynamic import() to code-split the application
#10 14.64 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.64 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.64 frontend:build: ✓ built in 6.29s
#10 14.68 
#10 14.68  Tasks:    2 successful, 2 total
#10 14.68 Cached:    0 cached, 2 total
#10 14.68   Time:    13.968s 
#10 14.68 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:ab00517df38fe241c6223aa9d021591e3cadd05187e3e6780688a82ae16d75ae done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T12:01:46+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 138.59413347100093 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.90199104627068 Mbps
          ===============================
        
          ===============================
          Deploy run: 97
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 96ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 209 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 12:04:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:04:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +24ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11737  - [39m04/22/2023, 12:04:33 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.79 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  12:04:39
frontend:test:    Duration  1.20s (transform 62ms, setup 0ms, collect 21ms, tests 1ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2776ms)
frontend:test:     ✓ should checkout and place an order (5525ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2086ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2894ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.879s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.316s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.319 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.013 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.415 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.491 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.720 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.27 
#9 80.27 added 1498 packages, and audited 1502 packages in 1m
#9 80.27 
#9 80.27 149 packages are looking for funding
#9 80.27   run `npm fund` for details
#9 80.27 
#9 80.27 found 0 vulnerabilities
#9 80.27 npm notice 
#9 80.27 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.27 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.27 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.27 npm notice 
#9 DONE 81.2s

#10 [6/6] RUN npm run build
#10 0.670 
#10 0.670 > build
#10 0.670 > turbo run build
#10 0.670 
#10 0.735 • Packages in scope: backend, frontend, local-types
#10 0.735 • Running build in 3 packages
#10 0.735 • Remote caching disabled
#10 0.735 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.017 backend:build: 
#10 1.017 backend:build: > backend@1.0.0 build
#10 1.017 backend:build: > nest build
#10 1.017 backend:build: 
#10 5.005 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.287 frontend:build: 
#10 5.287 frontend:build: > frontend@1.0.0 build
#10 5.287 frontend:build: > tsc && vite build
#10 5.287 frontend:build: 
#10 8.338 frontend:build: vite v4.2.2 building for production...
#10 8.362 frontend:build: transforming...
#10 9.076 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.117 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.119 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.120 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.122 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.123 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.124 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.125 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.553 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.582 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.584 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.585 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.36 frontend:build: ✓ 4519 modules transformed.
#10 14.67 frontend:build: rendering chunks...
#10 14.68 frontend:build: computing gzip size...
#10 14.71 frontend:build: dist/index.html                                                   0.44 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.71 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.71 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.71 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.71 frontend:build: 
#10 14.71 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.71 frontend:build: - Using dynamic import() to code-split the application
#10 14.71 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.71 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.71 frontend:build: ✓ built in 6.38s
#10 14.76 
#10 14.76  Tasks:    2 successful, 2 total
#10 14.76 Cached:    0 cached, 2 total
#10 14.76   Time:    14.076s 
#10 14.76 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 7.9s done
#11 writing image sha256:3468311b47503555f72c963a7ea50820ed92bc6144c4961341ea902e1b03ef9c done
#11 naming to docker.io/library/gift-app done
#11 DONE 7.9s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T12:04:27+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 143.9667661349997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.4634642793501 Mbps
          ===============================
        
          ===============================
          Deploy run: 98
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 95ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 210 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 12:11:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:11:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13712  - [39m04/22/2023, 12:11:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.698 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  12:11:43
frontend:test:    Duration  1.13s (transform 101ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 159ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2695ms)
frontend:test:     ✓ should checkout and place an order (5444ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2104ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2938ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.685s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.119s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.3s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.299 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.003 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.417 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.481 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.1s

#8 [4/6] COPY . .
#8 DONE 0.1s

#9 [5/6] RUN npm install
#9 7.257 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 80.42 
#9 80.42 added 1498 packages, and audited 1502 packages in 1m
#9 80.42 
#9 80.42 149 packages are looking for funding
#9 80.42   run `npm fund` for details
#9 80.42 
#9 80.42 found 0 vulnerabilities
#9 80.42 npm notice 
#9 80.42 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 80.42 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 80.42 npm notice Run `npm install -g npm@9.6.5` to update!
#9 80.42 npm notice 
#9 DONE 80.9s

#10 [6/6] RUN npm run build
#10 0.645 
#10 0.645 > build
#10 0.645 > turbo run build
#10 0.645 
#10 0.710 • Packages in scope: backend, frontend, local-types
#10 0.710 • Running build in 3 packages
#10 0.710 • Remote caching disabled
#10 0.711 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 0.995 backend:build: 
#10 0.995 backend:build: > backend@1.0.0 build
#10 0.995 backend:build: > nest build
#10 0.995 backend:build: 
#10 4.966 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.250 frontend:build: 
#10 5.250 frontend:build: > frontend@1.0.0 build
#10 5.250 frontend:build: > tsc && vite build
#10 5.250 frontend:build: 
#10 8.278 frontend:build: vite v4.2.2 building for production...
#10 8.304 frontend:build: transforming...
#10 9.030 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.065 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.067 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.073 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.075 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.077 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.078 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.079 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.616 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.646 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.648 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.650 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.43 frontend:build: ✓ 4519 modules transformed.
#10 14.73 frontend:build: rendering chunks...
#10 14.74 frontend:build: computing gzip size...
#10 14.78 frontend:build: dist/index.html                                                   0.44 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.78 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.78 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.78 frontend:build: 
#10 14.78 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.78 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.78 frontend:build: - Using dynamic import() to code-split the application
#10 14.78 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.78 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.78 frontend:build: ✓ built in 6.50s
#10 14.83 
#10 14.83  Tasks:    2 successful, 2 total
#10 14.83 Cached:    0 cached, 2 total
#10 14.83   Time:    14.174s 
#10 14.83 
#10 DONE 14.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:fa62e18c422cd6d78a90e39ba1363d7d78f883904af484a5db0da103b2cd70f2 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
          time="2023-04-22T12:11:31+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 140.97864838699996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 39.59812541476108 Mbps
          ===============================
        
          ===============================
          Deploy run: 99
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 98ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 216 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 12:14:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 12:14:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15465  - [39m04/22/2023, 12:14:20 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.664 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  12:14:26
frontend:test:    Duration  1.09s (transform 37ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 83ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2750ms)
frontend:test:     ✓ should checkout and place an order (5413ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2100ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2889ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.789s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.575s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 0.6s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.241 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 0.949 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.369 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.441 OK: 10 MiB in 18 packages
#6 DONE 1.5s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 7.665 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 83.02 
#9 83.02 added 1498 packages, and audited 1502 packages in 1m
#9 83.03 
#9 83.03 149 packages are looking for funding
#9 83.03   run `npm fund` for details
#9 83.03 
#9 83.03 found 0 vulnerabilities
#9 83.03 npm notice 
#9 83.03 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 83.03 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 83.03 npm notice Run `npm install -g npm@9.6.5` to update!
#9 83.03 npm notice 
#9 DONE 90.4s

#10 [6/6] RUN npm run build
#10 0.838 
#10 0.838 > build
#10 0.838 > turbo run build
#10 0.838 
#10 0.908 • Packages in scope: backend, frontend, local-types
#10 0.908 • Running build in 3 packages
#10 0.908 • Remote caching disabled
#10 0.908 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.218 backend:build: 
#10 1.218 backend:build: > backend@1.0.0 build
#10 1.218 backend:build: > nest build
#10 1.218 backend:build: 
#10 5.368 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.684 frontend:build: 
#10 5.684 frontend:build: > frontend@1.0.0 build
#10 5.684 frontend:build: > tsc && vite build
#10 5.684 frontend:build: 
#10 8.855 frontend:build: vite v4.2.2 building for production...
#10 8.878 frontend:build: transforming...
#10 9.661 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.671 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.672 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.674 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.676 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.677 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.679 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.681 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.682 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.683 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 10.25 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 10.27 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 10.28 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 10.28 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 15.18 frontend:build: ✓ 4519 modules transformed.
#10 15.49 frontend:build: rendering chunks...
#10 15.50 frontend:build: computing gzip size...
#10 15.53 frontend:build: dist/index.html                                                   0.44 kB
#10 15.53 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 15.53 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 15.53 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 15.53 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 15.53 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 15.53 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 15.53 frontend:build: 
#10 15.53 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 15.53 frontend:build: - Using dynamic import() to code-split the application
#10 15.53 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 15.53 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 15.53 frontend:build: ✓ built in 6.68s
#10 15.58 
#10 15.58  Tasks:    2 successful, 2 total
#10 15.58 Cached:    0 cached, 2 total
#10 15.58   Time:    14.733s 
#10 15.58 
#10 DONE 15.6s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.8s done
#11 writing image sha256:b9012cae368b01ef06001cacd52615d900f9d4d568b9094c305ae03acf889a70 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.8s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T12:14:15+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 151.38843290099874 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 38.22690968019108 Mbps
          ===============================
        
          ===============================
          Deploy run: 100
          ===============================
          Standard output
          ===============================
          
> deploy:tests-no-cache
> rm -rf ~/.docker/ && npm run test && docker compose build --no-cache && docker compose up -d


> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 215 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 12:17:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 12:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 12:17:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17217  - [39m04/22/2023, 12:17:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.674 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  12:17:20
frontend:test:    Duration  1.17s (transform 345ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 501ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2714ms)
frontend:test:     ✓ should checkout and place an order (5481ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2068ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2876ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.699s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.458s 

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 200B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 131B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:18-alpine
#3 DONE 1.2s

#4 [1/6] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61
#4 CACHED

#5 [internal] load build context
#5 transferring context: 848.26kB 0.0s done
#5 DONE 0.0s

#6 [2/6] RUN apk add --no-cache libc6-compat
#6 0.353 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz
#6 1.073 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz
#6 1.469 (1/1) Installing libc6-compat (1.2.3-r4)
#6 1.542 OK: 10 MiB in 18 packages
#6 DONE 1.6s

#7 [3/6] WORKDIR /usr/src/app
#7 DONE 0.0s

#8 [4/6] COPY . .
#8 DONE 0.0s

#9 [5/6] RUN npm install
#9 8.656 npm WARN deprecated preview-email@3.0.5: Please upgrade to v3.0.7+ as we have added iOS Simulator support to previewing emails! See <https://github.com/forwardemail/preview-email/releases/tag/v3.0.6> and screenshots at <https://github.com/forwardemail/preview-email\#ios-simulator>.
#9 81.41 
#9 81.41 added 1498 packages, and audited 1502 packages in 1m
#9 81.41 
#9 81.41 149 packages are looking for funding
#9 81.41   run `npm fund` for details
#9 81.41 
#9 81.41 found 0 vulnerabilities
#9 81.41 npm notice 
#9 81.41 npm notice New minor version of npm available! 9.5.1 -> 9.6.5
#9 81.41 npm notice Changelog: <https://github.com/npm/cli/releases/tag/v9.6.5>
#9 81.41 npm notice Run `npm install -g npm@9.6.5` to update!
#9 81.41 npm notice 
#9 DONE 81.9s

#10 [6/6] RUN npm run build
#10 0.707 
#10 0.707 > build
#10 0.707 > turbo run build
#10 0.707 
#10 0.771 • Packages in scope: backend, frontend, local-types
#10 0.771 • Running build in 3 packages
#10 0.771 • Remote caching disabled
#10 0.772 backend:build: cache miss, executing 7b0e4a5b3ad7ec31
#10 1.050 backend:build: 
#10 1.050 backend:build: > backend@1.0.0 build
#10 1.050 backend:build: > nest build
#10 1.050 backend:build: 
#10 4.982 frontend:build: cache miss, executing 6d2d8e48b1af6fe0
#10 5.264 frontend:build: 
#10 5.264 frontend:build: > frontend@1.0.0 build
#10 5.264 frontend:build: > tsc && vite build
#10 5.264 frontend:build: 
#10 8.318 frontend:build: vite v4.2.2 building for production...
#10 8.342 frontend:build: transforming...
#10 9.040 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs" was ignored.
#10 9.043 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs" was ignored.
#10 9.044 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs" was ignored.
#10 9.081 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/Hydrate.mjs" was ignored.
#10 9.082 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs" was ignored.
#10 9.083 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsFetching.mjs" was ignored.
#10 9.084 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useIsMutating.mjs" was ignored.
#10 9.085 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs" was ignored.
#10 9.086 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs" was ignored.
#10 9.087 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs" was ignored.
#10 9.521 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/reactBatchedUpdates.mjs" was ignored.
#10 9.552 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs" was ignored.
#10 9.552 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs" was ignored.
#10 9.554 frontend:build: Module level directives cause errors when bundled, "use client" in "../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs" was ignored.
#10 14.23 frontend:build: ✓ 4519 modules transformed.
#10 14.53 frontend:build: rendering chunks...
#10 14.54 frontend:build: computing gzip size...
#10 14.57 frontend:build: dist/index.html                                                   0.44 kB
#10 14.57 frontend:build: dist/assets/jetbrains-mono-cyrillic-400-normal-6ebfa299.woff2     4.92 kB
#10 14.57 frontend:build: dist/assets/jetbrains-mono-latin-ext-400-normal-ae46b4e3.woff2    5.71 kB
#10 14.57 frontend:build: dist/assets/jetbrains-mono-latin-400-normal-78f358e7.woff2       20.39 kB
#10 14.57 frontend:build: dist/assets/jetbrains-mono-all-400-normal-5d90b381.woff          50.43 kB
#10 14.57 frontend:build: dist/assets/index-00e75cbb.css                                   12.07 kB │ gzip:   8.18 kB
#10 14.57 frontend:build: dist/assets/index-cc531bd8.js                                   744.23 kB │ gzip: 217.79 kB
#10 14.57 frontend:build: 
#10 14.57 frontend:build: (!) Some chunks are larger than 500 kBs after minification. Consider:
#10 14.57 frontend:build: - Using dynamic import() to code-split the application
#10 14.57 frontend:build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 14.57 frontend:build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 14.58 frontend:build: ✓ built in 6.26s
#10 14.62 
#10 14.62  Tasks:    2 successful, 2 total
#10 14.62 Cached:    0 cached, 2 total
#10 14.62   Time:    13.902s 
#10 14.62 
#10 DONE 14.7s

#11 exporting to image
#11 exporting layers
#11 exporting layers 6.7s done
#11 writing image sha256:5d4520ac69f5706afc434edf7c858d3f9020ee28026f0067dd4729a3a554ab80 done
#11 naming to docker.io/library/gift-app done
#11 DONE 6.7s

          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-22T12:17:08+04:00" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed
 Container gift-postgres-1  Running
 Container gift-app-1  Recreate
 Container gift-app-1  Recreated
 Container gift-app-1  Starting
 Container gift-app-1  Started

          ===============================
          Completed in 142.55173348800093 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          Internet speed: 37.28218129976272 Mbps
          ===============================
        